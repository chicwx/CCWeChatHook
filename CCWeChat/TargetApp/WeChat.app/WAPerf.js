var Protect=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(){return"function"==typeof App&&"function"==typeof Page},i=function(e,t){try{for(var n in t)!function(n){e["__"+n+"__"]=e[n],e.__defineGetter__(n,function(){return function(){var r=void 0;try{var o=e["__"+n+"__"],i=t[n].before,a=t[n].after;"function"==typeof i&&i.apply(this,arguments),r=o.apply(this,arguments),"function"==typeof a&&a.apply(this,arguments)}catch(e){console.error("Perf error: "+e.message)}return r}}),e.__defineSetter__(n,function(t){e["__"+n+"__"]=t})}(n)}catch(e){console.error("Perf error: "+e.message)}},a=function(){var e="";return"undefined"!=typeof wx&&(e=wx.version&&wx.version.version||""),"develop"===e},f=function(e){return"number"!=typeof e?"0 B":e>=1024?(e/1024).toFixed(2)+" KB":e+" B"},u=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()},c=function(){},p=function(e){return e.replace(/\.html$/,"")},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={},y={updateData:function(e,t){wx.updatePerfData({dataArray:[{key:e,value:t}]})},updateDataGroup:function(e){wx.updatePerfData({dataArray:e})},traceCompleteEvent:function(e,t,n,r,o){wx.traceEvent({events:[{category:e,name:t,start:n,end:r,phase:"X",args:JSON.stringify(o)}]})},traceBeginEvent:function(e,t,n){var r=u(),o={category:e,name:t,start:Date.now(),phase:"B",args:JSON.stringify(n)};return l[r]=o,wx.traceEvent({events:[o]}),r},traceEndEvent:function(e,t){var n=l[e];if(null==n)return void console.error("[Perf] Call traceBeginEvent() before traceEndEvent().");n.args=null!=t?JSON.stringify(t):n.args,n.end=Date.now(),n.phase="E",wx.traceEvent({events:[n]}),delete l.id}},s=function(){return"undefined"!=typeof wx&&"function"==typeof wx.updatePerfData&&"function"==typeof wx.traceEvent};!function(){for(var e in y){var t=function(e){var t=y[e];if("function"!=typeof t)return{v:void 0};y[e]=function(){if(s())return t.apply(this,arguments);console.error("[Perf] wx.traceEvent or wx.updatePerfData doesn't exist.")}}(e);if("object"===(void 0===t?"undefined":d(t)))return t.v}}();var v=y,_=["pageframe","WAWebview"],m=null,b=function(e,t,n){null==m?wx.getCurrentRoute({success:function(r){var o=r.route;m=p(o),v.traceCompleteEvent(m,e,t,n)}}):v.traceCompleteEvent(m,e,t,n)},g={speedReport:{after:function(e){var t=e.key,n=e.timeMark;if("firstRenderTime"===t||"reRenderTime"===t){if(!n.startTime||!n.endTime)return;var r=n.endTime-n.startTime;v.updateData(t,r+" ms"),b(t.replace("Time",""),n.startTime,n.endTime)}_.includes(t)&&v.traceCompleteEvent("Native",t,n.startTime,n.endTime)}}},w=g,h={subscribeHandler:{after:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,r=t.options,i=(arguments[2],arguments[3]),u=Date.now(),c=r&&r.timestamp||0,p=i&&i.nativeTime||0;if(0!==c&&0!==p){var d=JSON.stringify(n||{}).length,l=u-c,y=p-c,s=o()?"webview2AppService":"appService2Webview";a()&&v.updateDataGroup([{key:s+"TotalTime",value:l+" ms"},{key:s+"DataSize",value:f(d)},{key:s+"NativeTime",value:y+" ms"}])}}}},S=h,x=["onLaunch","onShow","onHide","onUnlaunch"],E=function(e){x.forEach(function(t){var n=e[t]||c;e[t]=function(){var e=Date.now(),r=n.apply(this,arguments);return v.traceCompleteEvent("App","App."+t,e,Date.now()),r}})},P=function(){var e=App;App=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E(t),e(t)}},D=P,A=["onLoad","onReady","onShow","onRouteEnd","onHide","onUnload"],T={setData:{before:function(e){var t=0;try{t=JSON.stringify(e||{}).length}catch(e){}this.__last_trace_id__=v.traceBeginEvent(this.__route__,"Page.setData",{dataSize:t})},after:function(){v.traceEndEvent(this.__last_trace_id__),delete this.__last_trace_id__}}},j=function(e){A.forEach(function(t){var n=e[t]||c;e[t]=function(){"onLoad"!==t||this.__isHook__||(this.__isHook__=!0,i(this,T));var e=Date.now(),r=n.apply(this,arguments);return v.traceCompleteEvent(this.__route__,"Page."+t,e,Date.now()),r}})},R=function(e){for(var t in e){(function(t){var n=e[t];if(A.includes(t)||"function"!=typeof n)return"continue";e[t]=function(){var e=Date.now(),r=n.apply(this,arguments);return v.traceCompleteEvent(this.__route__,"Page."+t,e,Date.now()),r}})(t)}},O=function(){var e=Page;Page=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j(t),R(t),e(t)}},C=O,B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=["updatePerfData","traceEvent"],J=function(e,t,n){var r=Date.now(),o=n.complete;return t(Object.assign(n,{complete:function(t){"function"==typeof o&&o.apply(o,arguments),v.traceCompleteEvent("API","wx."+e,r,Date.now(),{args:n,res:t})}}))},M=function(e,t,n){var r=Date.now();return t(function(t){"function"==typeof n&&n.apply(n,arguments),v.traceCompleteEvent("API","wx."+e,r,Date.now(),{})})},N=function(e,t,n){var o=Date.now(),i=t.apply(void 0,r(n));return v.traceCompleteEvent("API","wx."+e,o,Date.now(),{ret:i}),i},W=function(e,t){function n(n){return"object"===(void 0===n?"undefined":B(n))?J(e,t,n):"function"==typeof n?M(e,t,n):N(e,t,arguments)}wx.__defineGetter__(e,function(){return n})},G=function(){for(var e in wx)if(!k.includes(e)){var t=wx[e];"function"==typeof t&&W(e,t)}},H=G,L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};try{if("object"===("undefined"==typeof Perf?"undefined":L(Perf))){for(var I in v)!function(e){Perf.__defineGetter__(e,function(){return v[e]})}(I)}"object"===("undefined"==typeof Reporter?"undefined":L(Reporter))&&i(Reporter,w),o()&&"object"===("undefined"==typeof wx?"undefined":L(wx))&&("object"===("undefined"==typeof wx?"undefined":L(wx))&&H(),"function"==typeof App&&D(),"function"==typeof Page&&C()),function(e){"undefined"!=typeof WeixinJSBridge?e():document.addEventListener("WeixinJSBridgeReady",e,!1)}(function(){i(WeixinJSBridge,S)})}catch(e){"object"===("undefined"==typeof Reporter?"undefined":L(Reporter))&&Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:"Perf"}),console.error("Perf error: "+e.message)}}]);