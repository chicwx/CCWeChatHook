;var __WAGameStartTime__ = Date.now();(function(global){var WeixinJSBridge=function(e){"function"==typeof logxx&&logxx("jsbridge start");var t="undefined"!=typeof __devtoolssubcontext&&__devtoolssubcontext;if(e.navigator&&e.navigator.userAgent){var n=e.navigator.userAgent;(n.indexOf("appservice")>-1||n.indexOf("wechatdevtools")>-1)&&(t=!0)}if(t){var r=e.WeixinJSBridge;return delete e.WeixinJSBridge,r}var o=e.__wxConfig||{},i=e.hasOwnProperty("document"),a=o.isWK,s={},c=0,u={},l={};if(i){var n=e.navigator.userAgent;!(-1!=n.indexOf("Android"))}var f=e.webkit,d=e.WeixinJSCore;"object"==typeof d&&"function"!=typeof d.publishHandler&&(d.publishHandler=function(){}),delete e.webkit,delete e.WeixinJSCore;var p=JSON.parse,h=JSON.stringify,v=function(e,t){if(void 0!==e&&"function"==typeof s[t]&&""!==e&&null!==e){try{e=p(e),e=WeixinNativeBuffer.unpack(e)}catch(t){e={}}s[t](e),delete s[t]}},g=function(e,t,n){if(d){var r=d.invokeHandler(e,t,n);v(r,n)}else{var o={event:e,paramsString:t,callbackId:n};if(a){var r=prompt("webgame_invoke",h(o));v(r,n)}else f.messageHandlers.invokeHandler.postMessage(o)}},y=function(e,t,n){d?d.publishHandler(e,t,n):f.messageHandlers.publishHandler.postMessage({event:e,paramsString:t,webviewIds:n})},m=function(e,t,n){t=WeixinNativeBuffer.pack(t);var r=h(t||{}),o=++c;s[o]=n,g(e,r,o)},b=function(e,t){t=WeixinNativeBuffer.unpack(t);var n=s[e];"function"==typeof n&&n(t),delete s[e]},_=function(e,t){u[e]=t},w=function(e,t,n){n=n||[],n=h(n);var r="custom_event_"+e,o=h(t);y(r,o,n)},S=function(e,t){l["custom_event_"+e]=t},k=function(e,t,n,r){t=WeixinNativeBuffer.unpack(t);var o;"function"==typeof(o=-1!=e.indexOf("custom_event_")?l[e]:u[e])&&o(t,n,r)};return e.WeixinJSBridge={get invokeCallbackHandler(){return b},get subscribeHandler(){return k}},o&&o.clientDebug&&(e.WeixinJSBridge={on:_,publish:w,invoke:m,subscribe:S,get invokeCallbackHandler(){return b},get subscribeHandler(){return k}}),{on:_,publish:w,invoke:m,subscribe:S,get invokeCallbackHandler(){return b},get subscribeHandler(){return k}}}(this);!function(e){var t=e.__wxConfig||{},n="undefined"!=typeof __devtoolssubcontext&&__devtoolssubcontext,r="undefined"!=typeof __clientsubcontext&&__clientsubcontext,o=n||r,i=!0===t.preload,a=!!o||!i,s=[],c=function(t){a?void 0!==e.__wxConfig&&t(e.__wxConfig):"function"==typeof t&&s.push(t)},u=function(){void 0!==e.__wxConfig&&(delete e.__wxConfig.__readyHandler,a=!0,e.__wxConfig.onReady=c,s.forEach(function(t){t(e.__wxConfig)}))};i&&function(e){void 0!==WeixinJSBridge?e():document.addEventListener("WeixinJSBridgeReady",e,!1)}(function(){WeixinJSBridge.on("onWxConfigReady",u)}),e.__wxConfig=e.__wxConfig||{},e.__wxConfig.onReady=c,e.__wxConfig.__readyHandler=u}(this);var NativeBuffer=function(e){var t=e.WeixinNativeBuffer,n=e.getNativeBufferId,r=e.setNativeBuffer,o=e.getNativeBuffer,i=e.__wxConfig||{},a=!1;"android"===i.platform?a="function"==typeof n&&"function"==typeof r&&"function"==typeof o&&i.nativeBufferEnabled:"ios"===i.platform&&(a=null!=t);var s=function(e){var o=e.__proto__;e.__proto__=ArrayBuffer.prototype;var i=-1;return t?i=t.new(e):"function"==typeof n&&"function"==typeof r&&(i=n(),r(i,e)),e.__proto__=o,i},c=function(e){return t?t.get(e):"function"==typeof o?o(e):void 0},u=function(e){t&&t.useCompatibleMode(e)},l=function(e){var t={};return a?t.id=s(e):t.base64=v(e),t},f=function(e){if(null!=e)return a&&void 0!==e.id?c(e.id):void 0!==e.base64?g(e.base64):void 0},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=p||function(e){for(var t,n,r=String(e),o="",i=0,a=d;r.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if((n=r.charCodeAt(i+=.75))>255)throw new Error('"btoa" failed');t=t<<8|n}return o},h=h||function(e){var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var r,o,i=0,a=0;o=t.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)o=d.indexOf(o);return n},v=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return p(t)},g=function(e){for(var t=h(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer},y=function(e){if(null==e)return e;var t=[];for(var n in e){var r=e[n];if(void 0!==r&&"ArrayBuffer"===b(r)&&void 0!==r.byteLength){var o=l(r);o.key=n,t.push(o)}}if(t.length>0){for(var i=0;i<t.length;i++){var o=t[i];delete e[o.key]}e.__nativeBuffers__=t}return e},m=function(e){if(null==e||null==e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var n=0;n<t.length;n++){var r=t[n];if(null!=r){var o=f(r);void 0!==o&&"ArrayBuffer"===b(o)&&(e[r.key]=o)}}return e},b=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]};return delete e.WeixinNativeBuffer,delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer,{new:l,get:f,useCompatibleMode:u,pack:y,unpack:m}}(this),WeixinNativeBuffer=NativeBuffer;NativeBuffer=null;var wxConsole=function(){var e=function(e){return Array.prototype.unshift.call(e,"[system]"),e},t=function(t){return function(){console[t].apply(console,e(arguments))}};return{log:t("log"),info:t("info"),warn:t("warn"),error:t("error"),debug:t("debug"),time:t("time"),timeEnd:t("timeEnd"),group:t("group"),groupEnd:t("groupEnd")}}(),WeixinWorker=function(e){var t=(e.__wxConfig,!1);if(e.navigator&&e.navigator.userAgent){var n=e.navigator.userAgent;(n.indexOf("appservice")>-1||n.indexOf("wechatdevtools")>-1)&&(t=!0)}var r=e.WeixinWorker||{},o=[],i=[],a=[],s=function(){if("function"==typeof r.create)return r.create.apply(r,arguments)},c=function(){if("function"==typeof r.terminate)return r.terminate.apply(r,arguments)},u=function(e){try{e=WeixinNativeBuffer.pack(e),e=JSON.stringify(e),r.postMsgToAppService(e)}catch(e){console.error(e)}},l=function(e,t){try{t=WeixinNativeBuffer.pack(t),t=JSON.stringify(t),r.postMsgToWorker(e,t)}catch(e){console.error(e)}},f=function(e){o.push(e)},d=function(e){i.push(e)},p=function(e){a.push(e)},h=function(e){e=WeixinNativeBuffer.unpack(e),i.forEach(function(t){"function"==typeof t&&t(e)})},v=function(e,t){t=WeixinNativeBuffer.unpack(t),o.forEach(function(n){"function"==typeof n&&n(e,t)})},g=function(e){a.forEach(function(t){"function"==typeof t&&t(e)})},y={get appServiceMsgHandler(){return h},get workerMsgHandler(){return v},get errorHandler(){return g},get __workerId__(){return r.__workerId__}},m={create:s,terminate:c,postMsgToAppService:u,postMsgToWorker:l,onWorkerMsg:f,onAppServiceMsg:d,onError:p};return t&&(m.appServiceMsgHandler=y.appServiceMsgHandler,m.workerMsgHandler=y.workerMsgHandler,m.errorHandler=y.errorHandler,m.__workerId__=y.__workerId__),e.WeixinWorker=y,m}(this);!function(e,t,n){"use strict";!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=104)}([function(e,t,r){var o=r(3),i=r(30),a=r(14),s=r(11),c=r(16),u=function(e,t,r){var l,f,d,p,h=e&u.F,v=e&u.G,g=e&u.S,y=e&u.P,m=e&u.B,b=v?o:g?o[t]||(o[t]={}):(o[t]||{}).prototype,_=v?i:i[t]||(i[t]={}),w=_.prototype||(_.prototype={});v&&(r=t);for(l in r)f=!h&&b&&b[l]!==n,d=(f?b:r)[l],p=m&&f?c(d,o):y&&"function"==typeof d?c(Function.call,d):d,b&&s(b,l,d,e&u.U),_[l]!=d&&a(_,l,p),y&&w[l]!=d&&(w[l]=d)};o.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof t&&(t=r)},function(e,t,n){var r=n(2);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(57)("wks"),o=n(31),i=n(3).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(4),o=n(79),i=n(24),a=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(1)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(21),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(0),o=n(1),i=n(26),a=/"/g,s=function(e,t,n,r){var o=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){var r=n(3),o=n(14),i=n(9),a=n(31)("src"),s=Function.toString,c=(""+s).split("toString");n(30).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var r=n(42),o=n(26);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(26);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(6),o=n(25);e.exports=n(7)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(1);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,r){var o=r(17);e.exports=function(e,t,r){if(o(e),t===n)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(0),o=n(30),i=n(1);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,r){var o=r(16),i=r(42),a=r(13),s=r(8),c=r(201);e.exports=function(e,t){var r=1==e,u=2==e,l=3==e,f=4==e,d=6==e,p=5==e||d,h=t||c;return function(t,c,v){for(var g,y,m=a(t),b=i(m),_=o(c,v,3),w=s(b.length),S=0,k=r?h(t,w):u?h(t,0):n;w>S;S++)if((p||S in b)&&(g=b[S],y=_(g,S,m),e))if(r)k[S]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:k.push(g)}else if(f)return!1;return d?-1:l||f?f:k}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(47),o=n(25),i=n(12),a=n(24),s=n(9),c=n(79),u=Object.getOwnPropertyDescriptor;t.f=n(7)?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,r){if(r(7)){var o=r(37),i=r(3),a=r(1),s=r(0),c=r(52),u=r(76),l=r(16),f=r(40),d=r(25),p=r(14),h=r(39),v=r(21),g=r(8),y=r(101),m=r(33),b=r(24),_=r(9),w=r(44),S=r(2),k=r(13),C=r(60),T=r(27),x=r(28),I=r(34).f,E=r(61),P=r(31),O=r(5),A=r(19),M=r(55),D=r(77),R=r(97),N=r(35),B=r(49),L=r(38),j=r(74),F=r(96),U=r(6),W=r(22),q=U.f,V=W.f,z=i.RangeError,G=i.TypeError,K=i.Uint8Array,H=Array.prototype,J=u.ArrayBuffer,Q=u.DataView,Y=A(0),X=A(2),$=A(3),Z=A(4),ee=A(5),te=A(6),ne=M(!0),re=M(!1),oe=R.values,ie=R.keys,ae=R.entries,se=H.lastIndexOf,ce=H.reduce,ue=H.reduceRight,le=H.join,fe=H.sort,de=H.slice,pe=H.toString,he=H.toLocaleString,ve=O("iterator"),ge=O("toStringTag"),ye=P("typed_constructor"),me=P("def_constructor"),be=c.CONSTR,_e=c.TYPED,we=c.VIEW,Se=A(1,function(e,t){return Ie(D(e,e[me]),t)}),ke=a(function(){return 1===new K(new Uint16Array([1]).buffer)[0]}),Ce=!!K&&!!K.prototype.set&&a(function(){new K(1).set({})}),Te=function(e,t){var n=v(e);if(n<0||n%t)throw z("Wrong offset!");return n},xe=function(e){if(S(e)&&_e in e)return e;throw G(e+" is not a typed array!")},Ie=function(e,t){if(!(S(e)&&ye in e))throw G("It is not a typed array constructor!");return new e(t)},Ee=function(e,t){return Pe(D(e,e[me]),t)},Pe=function(e,t){for(var n=0,r=t.length,o=Ie(e,r);r>n;)o[n]=t[n++];return o},Oe=function(e,t,n){q(e,t,{get:function(){return this._d[n]}})},Ae=function(e){var t,r,o,i,a,s,c=k(e),u=arguments.length,f=u>1?arguments[1]:n,d=f!==n,p=E(c);if(p!=n&&!C(p)){for(s=p.call(c),o=[],t=0;!(a=s.next()).done;t++)o.push(a.value);c=o}for(d&&u>2&&(f=l(f,arguments[2],2)),t=0,r=g(c.length),i=Ie(this,r);r>t;t++)i[t]=d?f(c[t],t):c[t];return i},Me=function(){for(var e=0,t=arguments.length,n=Ie(this,t);t>e;)n[e]=arguments[e++];return n},De=!!K&&a(function(){he.call(new K(1))}),Re=function(){return he.apply(De?de.call(xe(this)):xe(this),arguments)},Ne={copyWithin:function(e,t){return F.call(xe(this),e,t,arguments.length>2?arguments[2]:n)},every:function(e){return Z(xe(this),e,arguments.length>1?arguments[1]:n)},fill:function(e){return j.apply(xe(this),arguments)},filter:function(e){return Ee(this,X(xe(this),e,arguments.length>1?arguments[1]:n))},find:function(e){return ee(xe(this),e,arguments.length>1?arguments[1]:n)},findIndex:function(e){return te(xe(this),e,arguments.length>1?arguments[1]:n)},forEach:function(e){Y(xe(this),e,arguments.length>1?arguments[1]:n)},indexOf:function(e){return re(xe(this),e,arguments.length>1?arguments[1]:n)},includes:function(e){return ne(xe(this),e,arguments.length>1?arguments[1]:n)},join:function(e){return le.apply(xe(this),arguments)},lastIndexOf:function(e){return se.apply(xe(this),arguments)},map:function(e){return Se(xe(this),e,arguments.length>1?arguments[1]:n)},reduce:function(e){return ce.apply(xe(this),arguments)},reduceRight:function(e){return ue.apply(xe(this),arguments)},reverse:function(){for(var e,t=this,n=xe(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return $(xe(this),e,arguments.length>1?arguments[1]:n)},sort:function(e){return fe.call(xe(this),e)},subarray:function(e,t){var r=xe(this),o=r.length,i=m(e,o);return new(D(r,r[me]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,g((t===n?o:m(t,o))-i))}},Be=function(e,t){return Ee(this,de.call(xe(this),e,t))},Le=function(e){xe(this);var t=Te(arguments[1],1),n=this.length,r=k(e),o=g(r.length),i=0;if(o+t>n)throw z("Wrong length!");for(;i<o;)this[t+i]=r[i++]},je={entries:function(){return ae.call(xe(this))},keys:function(){return ie.call(xe(this))},values:function(){return oe.call(xe(this))}},Fe=function(e,t){return S(e)&&e[_e]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return Fe(e,t=b(t,!0))?d(2,e[t]):V(e,t)},We=function(e,t,n){return!(Fe(e,t=b(t,!0))&&S(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?q(e,t,n):(e[t]=n.value,e)};be||(W.f=Ue,U.f=We),s(s.S+s.F*!be,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:We}),a(function(){pe.call({})})&&(pe=he=function(){return le.call(this)});var qe=h({},Ne);h(qe,je),p(qe,ve,je.values),h(qe,{slice:Be,set:Le,constructor:function(){},toString:pe,toLocaleString:Re}),Oe(qe,"buffer","b"),Oe(qe,"byteOffset","o"),Oe(qe,"byteLength","l"),Oe(qe,"length","e"),q(qe,ge,{get:function(){return this[_e]}}),e.exports=function(e,t,r,u){u=!!u;var l=e+(u?"Clamped":"")+"Array",d="get"+e,h="set"+e,v=i[l],m=v||{},b=v&&x(v),_=!v||!c.ABV,k={},C=v&&v.prototype,E=function(e,n){var r=e._d;return r.v[d](n*t+r.o,ke)},P=function(e,n,r){var o=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[h](n*t+o.o,r,ke)},O=function(e,t){q(e,t,{get:function(){return E(this,t)},set:function(e){return P(this,t,e)},enumerable:!0})};_?(v=r(function(e,r,o,i){f(e,v,l,"_d");var a,s,c,u,d=0,h=0;if(S(r)){if(!(r instanceof J||"ArrayBuffer"==(u=w(r))||"SharedArrayBuffer"==u))return _e in r?Pe(v,r):Ae.call(v,r);a=r,h=Te(o,t);var m=r.byteLength;if(i===n){if(m%t)throw z("Wrong length!");if((s=m-h)<0)throw z("Wrong length!")}else if((s=g(i)*t)+h>m)throw z("Wrong length!");c=s/t}else c=y(r),s=c*t,a=new J(s);for(p(e,"_d",{b:a,o:h,l:s,e:c,v:new Q(a)});d<c;)O(e,d++)}),C=v.prototype=T(qe),p(C,"constructor",v)):a(function(){v(1)})&&a(function(){new v(-1)})&&B(function(e){new v,new v(null),new v(1.5),new v(e)},!0)||(v=r(function(e,r,o,i){f(e,v,l);var a;return S(r)?r instanceof J||"ArrayBuffer"==(a=w(r))||"SharedArrayBuffer"==a?i!==n?new m(r,Te(o,t),i):o!==n?new m(r,Te(o,t)):new m(r):_e in r?Pe(v,r):Ae.call(v,r):new m(y(r))}),Y(b!==Function.prototype?I(m).concat(I(b)):I(m),function(e){e in v||p(v,e,m[e])}),v.prototype=C,o||(C.constructor=v));var A=C[ve],M=!!A&&("values"==A.name||A.name==n),D=je.values;p(v,ye,!0),p(C,_e,l),p(C,we,!0),p(C,me,v),(u?new v(1)[ge]==l:ge in C)||q(C,ge,{get:function(){return l}}),k[l]=v,s(s.G+s.W+s.F*(v!=m),k),s(s.S,l,{BYTES_PER_ELEMENT:t}),s(s.S+s.F*a(function(){m.of.call(v,1)}),l,{from:Ae,of:Me}),"BYTES_PER_ELEMENT"in C||p(C,"BYTES_PER_ELEMENT",t),s(s.P,l,Ne),L(l),s(s.P+s.F*Ce,l,{set:Le}),s(s.P+s.F*!M,l,je),o||C.toString==pe||(C.toString=pe),s(s.P+s.F*a(function(){new v(1).slice()}),l,{slice:Be}),s(s.P+s.F*(a(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!a(function(){C.toLocaleString.call([1,2])})),l,{toLocaleString:Re}),N[l]=M?A:D,o||M||p(C,ve,D)}}else e.exports=function(){}},function(e,t,n){var r=n(2);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(e==n)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var o=r(4),i=r(81),a=r(58),s=r(56)("IE_PROTO"),c=function(){},u=function(){var e,t=r(53)("iframe"),n=a.length;for(t.style.display="none",r(59).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[a[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(c.prototype=o(e),r=new c,c.prototype=null,r[s]=e):r=u(),t===n?r:i(r,t)}},function(e,t,n){var r=n(9),o=n(13),i=n(56)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(31)("meta"),o=n(2),i=n(9),a=n(6).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(1)(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return u&&h.NEED&&c(e)&&!i(e,r)&&l(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(t,n){var r=t.exports={version:"2.5.1"};"number"==typeof e&&(e=r)},function(e,t){var r=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(e===n?"":e,")_",(++r+o).toString(36))}},function(e,t,n){var r=n(80),o=n(58);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(21),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(80),o=n(58).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){e.exports={}},function(e,t,n){var r=n(6).f,o=n(9),i=n(5)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){e.exports=!1},function(e,t,n){var r=n(3),o=n(6),i=n(7),a=n(5)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(11);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,r,o){if(!(e instanceof t)||o!==n&&o in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,n){var r=n(2);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(20);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(16),o=n(82),i=n(60),a=n(4),s=n(8),c=n(61),u={},l={},t=e.exports=function(e,t,n,f,d){var p,h,v,g,y=d?function(){return e}:c(e),m=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(p=s(e.length);p>b;b++)if((g=t?m(a(h=e[b])[0],h[1]):m(e[b]))===u||g===l)return g}else for(v=y.call(e);!(h=v.next()).done;)if((g=o(v,m,h.value,t))===u||g===l)return g};t.BREAK=u,t.RETURN=l},function(e,t,r){var o=r(20),i=r(5)("toStringTag"),a="Arguments"==o(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,c;return e===n?"Undefined":null===e?"Null":"string"==typeof(r=s(t=Object(e),i))?r:a?o(t):"Object"==(c=o(t))&&"function"==typeof t.callee?"Arguments":c}},function(e,t,r){var o=r(5)("unscopables"),i=Array.prototype;i[o]==n&&r(14)(i,o,{}),e.exports=function(e){i[o][e]=!0}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(0),o=n(26),i=n(1),a=n(66),s="["+a+"]",c="​",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(e,t,n){var o={},s=i(function(){return!!a[e]()||c[e]()!=c}),u=o[e]=s?t(d):a[e];n&&(o[n]=u),r(r.P+r.F*s,"String",o)},d=f.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=f},function(e,t,n){var r=n(5)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){var r=n(14),o=n(11),i=n(1),a=n(26),s=n(5);e.exports=function(e,t,n){var c=s(e),u=n(a,c,""[e]),l=u[0],f=u[1];i(function(){var t={};return t[c]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,l),r(RegExp.prototype,c,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,r){var o=r(3),i=r(0),a=r(11),s=r(39),c=r(29),u=r(43),l=r(40),f=r(2),d=r(1),p=r(49),h=r(36),v=r(67);e.exports=function(e,t,r,g,y,m){var b=o[e],_=b,w=y?"set":"add",S=_&&_.prototype,k={},C=function(e){var t=S[e];a(S,e,"delete"==e?function(e){return!(m&&!f(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!f(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!f(e)?n:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(m||S.forEach&&!d(function(){(new _).entries().next()}))){var T=new _,x=T[w](m?{}:-0,1)!=T,I=d(function(){T.has(1)}),E=p(function(e){new _(e)}),P=!m&&d(function(){for(var e=new _,t=5;t--;)e[w](t,t);return!e.has(-0)});E||(_=t(function(t,r){l(t,_,e);var o=v(new b,t,_);return r!=n&&u(r,y,o[w],o),o}),_.prototype=S,S.constructor=_),(I||P)&&(C("delete"),C("has"),y&&C("get")),(P||x)&&C(w),m&&S.clear&&delete S.clear}else _=g.getConstructor(t,e,y,w),s(_.prototype,r),c.NEED=!0;return h(_,e),k[e]=_,i(i.G+i.W+i.F*(_!=b),k),m||g.setStrong(_,e,y),_}},function(e,t,n){for(var r,o=n(3),i=n(14),a=n(31),s=a("typed_array"),c=a("view"),u=!(!o.ArrayBuffer||!o.DataView),l=u,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=o[d[f++]])?(i(r.prototype,s,!0),i(r.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},function(e,t,n){var r=n(2),o=n(3).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(32),o=n(46),i=n(47),a=n(13),s=n(42),c=Object.assign;e.exports=!c||n(1)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=a(e),c=arguments.length,u=1,l=o.f,f=i.f;c>u;)for(var d,p=s(arguments[u++]),h=l?r(p).concat(l(p)):r(p),v=h.length,g=0;v>g;)f.call(p,d=h[g++])&&(n[d]=p[d]);return n}:c},function(e,t,n){var r=n(12),o=n(8),i=n(33);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(57)("keys"),o=n(31);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(3),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,r){var o=r(35),i=r(5)("iterator"),a=Array.prototype;e.exports=function(e){return e!==n&&(o.Array===e||a[i]===e)}},function(e,t,r){var o=r(44),i=r(5)("iterator"),a=r(35);e.exports=r(30).getIteratorMethod=function(e){if(e!=n)return e[i]||e["@@iterator"]||a[o(e)]}},function(e,t,n){var r=n(27),o=n(25),i=n(36),a={};n(14)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(20);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,r){var o=r(2),i=r(4),a=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(16)(Function.call,r(22).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):n),check:a}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(2),o=n(65).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,r){var o=r(37),i=r(0),a=r(11),s=r(14),c=r(9),u=r(35),l=r(62),f=r(36),d=r(28),p=r(5)("iterator"),h=!([].keys&&"next"in[].keys()),v=function(){return this};e.exports=function(e,t,r,g,y,m,b){l(r,t,g);var _,w,S,k=function(e){if(!h&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},C=t+" Iterator",T="values"==y,x=!1,I=e.prototype,E=I[p]||I["@@iterator"]||y&&I[y],P=E||k(y),O=y?T?k("entries"):P:n,A="Array"==t?I.entries||E:E;if(A&&(S=d(A.call(new e)))!==Object.prototype&&S.next&&(f(S,C,!0),o||c(S,p)||s(S,p,v)),T&&E&&"values"!==E.name&&(x=!0,P=function(){return E.call(this)}),o&&!b||!h&&!x&&I[p]||s(I,p,P),u[t]=P,u[C]=v,y)if(_={values:T?P:k("values"),keys:m?P:k("keys"),entries:O},b)for(w in _)w in I||a(I,w,_[w]);else i(i.P+i.F*(h||x),t,_);return _}},function(e,t,n){var r=n(72),o=n(26);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,r){var o=r(2),i=r(20),a=r(5)("match");e.exports=function(e){var t;return o(e)&&((t=e[a])!==n?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){var o=r(13),i=r(33),a=r(8);e.exports=function(e){for(var t=o(this),r=a(t.length),s=arguments.length,c=i(s>1?arguments[1]:n,r),u=s>2?arguments[2]:n,l=u===n?r:i(u,r);l>c;)t[c++]=e;return t}},function(e,t,n){var r=n(4);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){function o(e,t,n){var r,o,i,a=Array(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?F(2,-24)-F(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for(e=j(e),e!=e||e===B?(o=e!=e?1:0,r=c):(r=U(W(e)/q),e*(i=F(2,-r))<1&&(r--,i*=2),e+=r+u>=1?l/i:l*F(2,1-u),e*i>=2&&(r++,i/=2),r+u>=c?(o=0,r=c):r+u>=1?(o=(e*i-1)*F(2,t),r+=u):(o=e*F(2,u-1)*F(2,t),r=0));t>=8;a[f++]=255&o,o/=256,t-=8);for(r=r<<t|o,s+=t;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function i(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,s=o-7,c=n-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:u?-B:B;r+=F(2,t),l-=a}return(u?-1:1)*r*F(2,l-t)}function a(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function s(e){return[255&e]}function c(e){return[255&e,e>>8&255]}function u(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function l(e){return o(e,52,8)}function f(e){return o(e,23,4)}function d(e,t,n){I(e[O],t,{get:function(){return this[n]}})}function p(e,t,n,r){var o=+n,i=T(o);if(i+t>e[z])throw N(A);var a=e[V]._b,s=i+e[G],c=a.slice(s,s+t);return r?c:c.reverse()}function h(e,t,n,r,o,i){var a=+n,s=T(a);if(s+t>e[z])throw N(A);for(var c=e[V]._b,u=s+e[G],l=r(+o),f=0;f<t;f++)c[u+f]=l[i?f:t-f-1]}var v=r(3),g=r(7),y=r(37),m=r(52),b=r(14),_=r(39),w=r(1),S=r(40),k=r(21),C=r(8),T=r(101),x=r(34).f,I=r(6).f,E=r(74),P=r(36),O="prototype",A="Wrong index!",M=v.ArrayBuffer,D=v.DataView,R=v.Math,N=v.RangeError,B=v.Infinity,L=M,j=R.abs,F=R.pow,U=R.floor,W=R.log,q=R.LN2,V=g?"_b":"buffer",z=g?"_l":"byteLength",G=g?"_o":"byteOffset";if(m.ABV){if(!w(function(){M(1)})||!w(function(){new M(-1)})||w(function(){return new M,new M(1.5),new M(NaN),"ArrayBuffer"!=M.name})){M=function(e){return S(this,M),new L(T(e))};for(var K,H=M[O]=L[O],J=x(L),Q=0;J.length>Q;)(K=J[Q++])in M||b(M,K,L[K]);y||(H.constructor=M)}var Y=new D(new M(2)),X=D[O].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||_(D[O],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else M=function(e){S(this,M,"ArrayBuffer");var t=T(e);this._b=E.call(Array(t),0),this[z]=t},D=function(e,t,r){S(this,D,"DataView"),S(e,M,"DataView");var o=e[z],i=k(t);if(i<0||i>o)throw N("Wrong offset!");if(r=r===n?o-i:C(r),i+r>o)throw N("Wrong length!");this[V]=e,this[G]=i,this[z]=r},g&&(d(M,"byteLength","_l"),d(D,"buffer","_b"),d(D,"byteLength","_l"),d(D,"byteOffset","_o")),_(D[O],{getInt8:function(e){return p(this,1,e)[0]<<24>>24},getUint8:function(e){return p(this,1,e)[0]},getInt16:function(e){var t=p(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=p(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return a(p(this,4,e,arguments[1]))},getUint32:function(e){return a(p(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return i(p(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return i(p(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){h(this,1,e,s,t)},setUint8:function(e,t){h(this,1,e,s,t)},setInt16:function(e,t){h(this,2,e,c,t,arguments[2])},setUint16:function(e,t){h(this,2,e,c,t,arguments[2])},setInt32:function(e,t){h(this,4,e,u,t,arguments[2])},setUint32:function(e,t){
h(this,4,e,u,t,arguments[2])},setFloat32:function(e,t){h(this,4,e,f,t,arguments[2])},setFloat64:function(e,t){h(this,8,e,l,t,arguments[2])}});P(M,"ArrayBuffer"),P(D,"DataView"),b(D[O],m.VIEW,!0),t.ArrayBuffer=M,t.DataView=D},function(e,t,r){var o=r(4),i=r(17),a=r(5)("species");e.exports=function(e,t){var r,s=o(e).constructor;return s===n||(r=o(s)[a])==n?t:i(r)}},function(e,t){var n=!0;try{new Proxy({},{});n=!1}catch(e){}var r=!1;"undefined"!=typeof __wxConfig&&void 0!==__wxConfig.platform&&"ios"===__wxConfig.platform.toLowerCase()&&(r=!0),void 0!==WeixinJSBridge&&WeixinJSBridge.invoke("getSystemInfo",{},function(e){e&&e.platform&&"ios"===e.platform.toLowerCase()&&(r=!0)}),e.exports={needCoreJS:n,isIOS:r}},function(e,t,n){e.exports=!n(7)&&!n(1)(function(){return 7!=Object.defineProperty(n(53)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(9),o=n(12),i=n(55)(!1),a=n(56)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(6),o=n(4),i=n(32);e.exports=n(7)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,r){var o=r(4);e.exports=function(e,t,r,i){try{return i?t(o(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw a!==n&&o(a.call(e)),t}}},function(e,t,n){t.f=n(5)},function(e,t,n){var r=n(12),o=n(34).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(r(e))}},function(e,t,n){var r=n(17),o=n(2),i=n(86),a=[].slice,s={},c=function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?c(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,r){var o=r===n;switch(t.length){case 0:return o?e():e.call(r);case 1:return o?e(t[0]):e.call(r,t[0]);case 2:return o?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,n){var r=n(3).parseInt,o=n(48).trim,i=n(66),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(3).parseFloat,o=n(48).trim;e.exports=1/r(n(66)+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(20);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(21),o=n(26);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){var r=n(2),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){var o=r(21),i=r(26);e.exports=function(e){return function(t,r){var a,s,c=String(i(t)),u=o(r),l=c.length;return u<0||u>=l?e?"":n:(a=c.charCodeAt(u),a<55296||a>56319||u+1===l||(s=c.charCodeAt(u+1))<56320||s>57343?e?c.charAt(u):a:e?c.slice(u,u+2):s-56320+(a-55296<<10)+65536)}}},function(e,t,n){var r=n(6),o=n(25);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(17),o=n(13),i=n(42),a=n(8);e.exports=function(e,t,n,s,c){r(t);var u=o(e),l=i(u),f=a(u.length),d=c?f-1:0,p=c?-1:1;if(n<2)for(;;){if(d in l){s=l[d],d+=p;break}if(d+=p,c?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;c?d>=0:f>d;d+=p)d in l&&(s=t(s,l[d],d,u));return s}},function(e,t,r){var o=r(13),i=r(33),a=r(8);e.exports=[].copyWithin||function(e,t){var r=o(this),s=a(r.length),c=i(e,s),u=i(t,s),l=arguments.length>2?arguments[2]:n,f=Math.min((l===n?s:i(l,s))-u,s-c),d=1;for(u<c&&c<u+f&&(d=-1,u+=f-1,c+=f-1);f-- >0;)u in r?r[c]=r[u]:delete r[c],c+=d,u+=d;return r}},function(e,t,r){var o=r(45),i=r(63),a=r(35),s=r(12);e.exports=r(70)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=n,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(e,t,n){n(7)&&"g"!=/./g.flags&&n(6).f(RegExp.prototype,"flags",{configurable:!0,get:n(75)})},function(e,t,r){var o=r(6).f,i=r(27),a=r(39),s=r(16),c=r(40),u=r(43),l=r(70),f=r(63),d=r(38),p=r(7),h=r(29).fastKey,v=r(41),g=p?"_s":"size",y=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,r,l){var f=e(function(e,o){c(e,f,t,"_i"),e._t=t,e._i=i(null),e._f=n,e._l=n,e[g]=0,o!=n&&u(o,r,e[l],e)});return a(f.prototype,{clear:function(){for(var e=v(this,t),r=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=n),delete r[o.i];e._f=e._l=n,e[g]=0},delete:function(e){var n=v(this,t),r=y(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[g]--}return!!r},forEach:function(e){v(this,t);for(var r,o=s(e,arguments.length>1?arguments[1]:n,3);r=r?r.n:this._f;)for(o(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!y(v(this,t),e)}}),p&&o(f.prototype,"size",{get:function(){return v(this,t)[g]}}),f},def:function(e,t,r){var o,i,a=y(e,t);return a?a.v=r:(e._l=a={i:i=h(t,!0),k:t,v:r,p:o=e._l,n:n,r:!1},e._f||(e._f=a),o&&(o.n=a),e[g]++,"F"!==i&&(e._i[i]=a)),e},getEntry:y,setStrong:function(e,t,r){l(e,t,function(e,r){this._t=v(e,t),this._k=r,this._l=n},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?f(0,r.k):"values"==t?f(0,r.v):f(0,[r.k,r.v]):(e._t=n,f(1))},r?"entries":"values",!r,!0),d(t)}}},function(e,t,r){var o=r(39),i=r(29).getWeak,a=r(4),s=r(2),c=r(40),u=r(43),l=r(19),f=r(9),d=r(41),p=l(5),h=l(6),v=0,g=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},m=function(e,t){return p(e.a,function(e){return e[0]===t})};y.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,a){var l=e(function(e,o){c(e,l,t,"_i"),e._t=t,e._i=v++,e._l=n,o!=n&&u(o,r,e[a],e)});return o(l.prototype,{delete:function(e){if(!s(e))return!1;var n=i(e);return!0===n?g(d(this,t)).delete(e):n&&f(n,this._i)&&delete n[this._i]},has:function(e){if(!s(e))return!1;var n=i(e);return!0===n?g(d(this,t)).has(e):n&&f(n,this._i)}}),l},def:function(e,t,n){var r=i(a(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},function(e,t,r){var o=r(21),i=r(8);e.exports=function(e){if(e===n)return 0;var t=o(e),r=i(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,n){var r,o,i,a=n(16),s=n(86),c=n(59),u=n(53),l=n(3),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,g=0,y={},m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){m.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete y[e]},"process"==n(20)(f)?r=function(e){f.nextTick(a(m,e,1))}:v&&v.now?r=function(e){v.now(a(m,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,r){function o(e){var t,r;this.promise=new e(function(e,o){if(t!==n||r!==n)throw TypeError("Bad Promise constructor");t=e,r=o}),this.resolve=i(t),this.reject=i(r)}var i=r(17);e.exports.f=function(e){return new o(e)}},function(e,t,n){e.exports=n(105)},function(e,t,r){var o=r(78),i=o.needCoreJS||o.isIOS;i&&"undefined"!=typeof Promise&&(Promise=n),r(3),o.needCoreJS&&(r(106),r(109),r(112),r(113),r(114),r(115),r(116),r(117),r(118),r(119),r(120),r(121),r(122),r(123),r(124),r(125),r(126),r(128),r(129),r(130),r(131),r(132),r(133),r(134),r(135),r(136),r(137),r(138),r(139),r(140),r(141),r(142),r(143),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(166),r(167),r(168),r(169),r(170),r(171),r(172),r(173),r(174),r(175),r(176),r(177),r(178),r(179),r(180),r(181),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(189),r(191),r(192),r(194),r(195),r(196),r(197),r(198),r(199),r(200),r(203),r(204),r(205),r(206),r(207),r(208),r(209),r(210),r(211),r(212),r(213),r(214),r(215),r(97),r(216),r(217),r(98),r(218),r(219),r(220),r(221),r(222),r(223),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(231),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(249),r(250),r(251)),i&&r(252)},function(e,t,r){function o(e){var t=h(null);return e!=n&&(w(e)?_(e,!0,function(e,n){t[e]=n}):p(t,e)),t}function i(e,t,n){b(t);var r,o,i=T(e),a=g(i),s=a.length,c=0;if(arguments.length<3){if(!s)throw TypeError("Reduce of empty object with no initial value");r=i[a[c++]]}else r=Object(n);for(;s>c;)I(i,o=a[c++])&&(r=t(r,i[o],o,e));return r}function a(e,t){return(t==t?m(e,t):P(e,function(e){return e!=e}))!==n}function s(e,t){if(I(e,t))return e[t]}function c(e,t,n){return x&&t in Object?y.f(e,t,d(0,n)):e[t]=n,e}function u(e){return C(e)&&v(e)===o.prototype}var l=r(16),f=r(0),d=r(25),p=r(54),h=r(27),v=r(28),g=r(32),y=r(6),m=r(107),b=r(17),_=r(43),w=r(108),S=r(62),k=r(63),C=r(2),T=r(12),x=r(7),I=r(9),E=function(e){var t=1==e,r=4==e;return function(i,a,s){var c,u,f,d=l(a,s,3),p=T(i),h=t||7==e||2==e?new("function"==typeof this?this:o):n;for(c in p)if(I(p,c)&&(u=p[c],f=d(u,c,i),e))if(t)h[c]=f;else if(f)switch(e){case 2:h[c]=u;break;case 3:return!0;case 5:return u;case 6:return c;case 7:h[f[0]]=f[1]}else if(r)return!1;return 3==e||r?r:h}},P=E(6),O=function(e){return function(t){return new A(t,e)}},A=function(e,t){this._t=T(e),this._a=g(e),this._i=0,this._k=t};S(A,"Dict",function(){var e,t=this,r=t._t,o=t._a,i=t._k;do{if(t._i>=o.length)return t._t=n,k(1)}while(!I(r,e=o[t._i++]));return"keys"==i?k(0,e):"values"==i?k(0,r[e]):k(0,[e,r[e]])}),o.prototype=null,f(f.G+f.F,{Dict:o}),f(f.S,"Dict",{keys:O("keys"),values:O("values"),entries:O("entries"),forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findKey:P,mapPairs:E(7),reduce:i,keyOf:m,includes:a,has:I,get:s,set:c,isDict:u})},function(e,t,n){var r=n(32),o=n(12);e.exports=function(e,t){for(var n,i=o(e),a=r(i),s=a.length,c=0;s>c;)if(i[n=a[c++]]===t)return n}},function(e,t,r){var o=r(44),i=r(5)("iterator"),a=r(35);e.exports=r(30).isIterable=function(e){var t=Object(e);return t[i]!==n||"@@iterator"in t||a.hasOwnProperty(o(t))}},function(e,t,r){var o=r(3),i=r(9),a=r(7),s=r(0),c=r(11),u=r(29).KEY,l=r(1),f=r(57),d=r(36),p=r(31),h=r(5),v=r(83),g=r(110),y=r(111),m=r(64),b=r(4),_=r(12),w=r(24),S=r(25),k=r(27),C=r(84),T=r(22),x=r(6),I=r(32),E=T.f,P=x.f,O=C.f,A=o.Symbol,M=o.JSON,D=M&&M.stringify,R=h("_hidden"),N=h("toPrimitive"),B={}.propertyIsEnumerable,L=f("symbol-registry"),j=f("symbols"),F=f("op-symbols"),U=Object.prototype,W="function"==typeof A,q=o.QObject,V=!q||!q.prototype||!q.prototype.findChild,z=a&&l(function(){return 7!=k(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=E(U,t);r&&delete U[t],P(e,t,n),r&&e!==U&&P(U,t,r)}:P,G=function(e){var t=j[e]=k(A.prototype);return t._k=e,t},K=W&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},H=function(e,t,n){return e===U&&H(F,t,n),b(e),t=w(t,!0),b(n),i(j,t)?(n.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),n=k(n,{enumerable:S(0,!1)})):(i(e,R)||P(e,R,S(1,{})),e[R][t]=!0),z(e,t,n)):P(e,t,n)},J=function(e,t){b(e);for(var n,r=y(t=_(t)),o=0,i=r.length;i>o;)H(e,n=r[o++],t[n]);return e},Q=function(e,t){return t===n?k(e):J(k(e),t)},Y=function(e){var t=B.call(this,e=w(e,!0));return!(this===U&&i(j,e)&&!i(F,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,R)&&this[R][e])||t)},X=function(e,t){if(e=_(e),t=w(t,!0),e!==U||!i(j,t)||i(F,t)){var n=E(e,t);return!n||!i(j,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=O(_(e)),r=[],o=0;n.length>o;)i(j,t=n[o++])||t==R||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===U,r=O(n?F:_(e)),o=[],a=0;r.length>a;)!i(j,t=r[a++])||n&&!i(U,t)||o.push(j[t]);return o};W||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:n),t=function(n){this===U&&t.call(F,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),z(this,e,S(1,n))};return a&&V&&z(U,e,{configurable:!0,set:t}),G(e)},c(A.prototype,"toString",function(){return this._k}),T.f=X,x.f=H,r(34).f=C.f=$,r(47).f=Y,r(46).f=Z,a&&!r(37)&&c(U,"propertyIsEnumerable",Y,!0),v.f=function(e){return G(h(e))}),s(s.G+s.W+s.F*!W,{Symbol:A});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ne=I(h.store),re=0;ne.length>re;)g(ne[re++]);s(s.S+s.F*!W,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=A(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!W,"Object",{create:Q,defineProperty:H,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:$,getOwnPropertySymbols:Z}),M&&s(s.S+s.F*(!W||l(function(){var e=A();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){if(e!==n&&!K(e)){for(var t,r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);return t=o[1],"function"==typeof t&&(r=t),!r&&m(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!K(t))return t}),o[1]=t,D.apply(M,o)}}}),A.prototype[N]||r(14)(A.prototype,N,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(o.JSON,"JSON",!0)},function(e,t,n){var r=n(3),o=n(30),i=n(37),a=n(83),s=n(6).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(32),o=n(46),i=n(47);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),c=i.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(27)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperty:n(6).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperties:n(81)})},function(e,t,n){var r=n(12),o=n(22).f;n(18)("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},function(e,t,n){var r=n(13),o=n(28);n(18)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(13),o=n(32);n(18)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){n(18)("getOwnPropertyNames",function(){return n(84).f})},function(e,t,n){var r=n(2),o=n(29).onFreeze;n(18)("freeze",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(2),o=n(29).onFreeze;n(18)("seal",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(2),o=n(29).onFreeze;n(18)("preventExtensions",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(2);n(18)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(2);n(18)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(2);n(18)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(54)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(127)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(65).set})},function(e,t,n){var r=n(44),o={};o[n(5)("toStringTag")]="z",o+""!="[object z]"&&n(11)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(85)})},function(e,t,n){var r=n(6).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(7)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){var r=n(2),o=n(28),i=n(5)("hasInstance"),a=Function.prototype;i in a||n(6).f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),o=n(87);r(r.G+r.F*(parseInt!=o),{parseInt:o})},function(e,t,n){var r=n(0),o=n(88);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},function(e,t,n){var r=n(3),o=n(9),i=n(20),a=n(67),s=n(24),c=n(1),u=n(34).f,l=n(22).f,f=n(6).f,d=n(48).trim,p=r.Number,h=p,v=p.prototype,g="Number"==i(n(27)(v)),y="trim"in String.prototype,m=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():d(t,3);var n,r,o,i=t.charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,c=t.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>o)return NaN;return parseInt(c,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(g?c(function(){v.valueOf.call(n)}):"Number"!=i(n))?a(new h(m(t)),n,p):m(t)};for(var b,_=n(7)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)o(h,b=_[w])&&!o(p,b)&&f(p,b,l(h,b));p.prototype=v,v.constructor=p,n(11)(r,"Number",p)}},function(e,t,n){var r=n(0),o=n(21),i=n(89),a=n(90),s=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*u[n],u[n]=r%1e7,r=c(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=u[t],u[t]=c(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)},v=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(1)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,c=i(this,l),u=o(e),g="",y="0";if(u<0||u>20)throw RangeError(l);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(t=v(c*h(2,69,1))-69,n=t<0?c*h(2,-t,1):c/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=u;r>=7;)f(1e7,0),r-=7;for(f(h(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),y=p()}else f(0,n),f(1<<-t,0),y=p()+a.call("0",u);return u>0?(s=y.length,y=g+(s<=u?"0."+a.call("0",u-s)+y:y.slice(0,s-u)+"."+y.slice(s-u))):y=g+y,y}})},function(e,t,r){var o=r(0),i=r(1),a=r(89),s=1..toPrecision;o(o.P+o.F*(i(function(){return"1"!==s.call(1,n)})||!i(function(){s.call({})})),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return e===n?s.call(t):s.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),o=n(3).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(91)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),o=n(91),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),o=n(88);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(e,t,n){var r=n(0),o=n(87);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(e,t,n){var r=n(0),o=n(92),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var o=n(0),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(0),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),o=n(68);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},function(e,t,n){var r=n(0),o=n(69);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(155)})},function(e,t,n){var r=n(68),o=Math.pow,i=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),c=o(2,-126),u=function(e){return e+1/i-1/i};e.exports=Math.fround||function(e){var t,n,o=Math.abs(e),l=r(e);return o<c?l*u(o/c/a)*c*a:(t=(1+a/i)*o,n=t-(t-o),n>s||n!=n?l*(1/0):l*n)}},function(e,t,n){var r=n(0),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,s=arguments.length,c=0;a<s;)n=o(arguments[a++]),c<n?(r=c/n,i=i*r*r+1,c=n):n>0?(r=n/c,i+=r*r):i+=n;return c===1/0?1/0:c*Math.sqrt(i)}})},function(e,t,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(1)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(92)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(68)})},function(e,t,n){var r=n(0),o=n(69),i=Math.exp;r(r.S+r.F*n(1)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),o=n(69),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),o=n(33),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),o=n(12),i=n(8);r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){n(48)("trim",function(e){return function(){return e(this,3)}})},function(e,t,r){var o=r(93)(!0);r(70)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:n,done:!0}:(e=o(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(0),o=n(93)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,r){var o=r(0),i=r(8),a=r(71),s="".endsWith;o(o.P+o.F*r(73)("endsWith"),"String",{endsWith:function(e){var t=a(this,e,"endsWith"),r=arguments.length>1?arguments[1]:n,o=i(t.length),c=r===n?o:Math.min(i(r),o),u=String(e);return s?s.call(t,u,c):t.slice(c-u.length,c)===u}})},function(e,t,r){var o=r(0),i=r(71);o(o.P+o.F*r(73)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:n)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(90)})},function(e,t,r){var o=r(0),i=r(8),a=r(71),s="".startsWith;o(o.P+o.F*r(73)("startsWith"),"String",{startsWith:function(e){var t=a(this,e,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:n,t.length)),o=String(e);return s?s.call(t,o,r):t.slice(r,r+o.length)===o}})},function(e,t,n){n(10)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){n(10)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){n(10)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){n(10)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){n(10)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){n(10)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){n(10)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){n(10)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){n(10)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){n(10)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){n(10)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){n(10)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){n(10)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){var r=n(0),o=n(13),i=n(24);r(r.P+r.F*n(1)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),o=n(190);r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(e,t,n){var r=n(1),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:i},function(e,t,n){var r=Date.prototype,o=r.toString,i=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(11)(r,"toString",function(){var e=i.call(this);return e===e?o.call(this):"Invalid Date"})},function(e,t,n){var r=n(5)("toPrimitive"),o=Date.prototype;r in o||n(14)(o,r,n(193))},function(e,t,n){var r=n(4),o=n(24);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(64)})},function(e,t,r){var o=r(16),i=r(0),a=r(13),s=r(82),c=r(60),u=r(8),l=r(94),f=r(61);i(i.S+i.F*!r(49)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,d,p=a(e),h="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:n,y=g!==n,m=0,b=f(p);if(y&&(g=o(g,v>2?arguments[2]:n,2)),b==n||h==Array&&c(b))for(t=u(p.length),r=new h(t);t>m;m++)l(r,m,y?g(p[m],m):p[m]);else for(d=b.call(p),r=new h;!(i=d.next()).done;m++)l(r,m,y?s(d,g,[i.value,m],!0):i.value);return r.length=m,r}})},function(e,t,n){var r=n(0),o=n(94);r(r.S+r.F*n(1)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,r){var o=r(0),i=r(12),a=[].join;o(o.P+o.F*(r(42)!=Object||!r(15)(a)),"Array",{join:function(e){return a.call(i(this),e===n?",":e)}})},function(e,t,r){var o=r(0),i=r(59),a=r(20),s=r(33),c=r(8),u=[].slice;o(o.P+o.F*r(1)(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var r=c(this.length),o=a(this);if(t=t===n?r:t,"Array"==o)return u.call(this,e,t);for(var i=s(e,r),l=s(t,r),f=c(l-i),d=Array(f),p=0;p<f;p++)d[p]="String"==o?this.charAt(i+p):this[i+p];return d}})},function(e,t,r){var o=r(0),i=r(17),a=r(13),s=r(1),c=[].sort,u=[1,2,3];o(o.P+o.F*(s(function(){u.sort(n)})||!s(function(){u.sort(null)})||!r(15)(c)),"Array",{sort:function(e){return e===n?c.call(a(this)):c.call(a(this),i(e))}})},function(e,t,n){var r=n(0),o=n(19)(0),i=n(15)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(202);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,r){var o=r(2),i=r(64),a=r(5)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=n),o(t)&&null===(t=t[a])&&(t=n)),t===n?Array:t}},function(e,t,n){var r=n(0),o=n(19)(1);r(r.P+r.F*!n(15)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(19)(2);r(r.P+r.F*!n(15)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(19)(3);r(r.P+r.F*!n(15)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(19)(4);r(r.P+r.F*!n(15)([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(95);r(r.P+r.F*!n(15)([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){var r=n(0),o=n(95);r(r.P+r.F*!n(15)([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){var r=n(0),o=n(55)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(15)(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(12),i=n(21),a=n(8),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(15)(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=o(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(96)}),n(45)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(74)}),n(45)("fill")},function(e,t,r){var o=r(0),i=r(19)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),o(o.P+o.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:n)}}),r(45)("find")},function(e,t,r){var o=r(0),i=r(19)(6),a="findIndex",s=!0;a in[]&&Array(1)[a](function(){s=!1}),o(o.P+o.F*s,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:n)}}),r(45)(a)},function(e,t,n){n(38)("Array")},function(e,t,r){var o=r(3),i=r(67),a=r(6).f,s=r(34).f,c=r(72),u=r(75),l=o.RegExp,f=l,d=l.prototype,p=/a/g,h=/a/g,v=new l(p)!==p;if(r(7)&&(!v||r(1)(function(){return h[r(5)("match")]=!1,l(p)!=p||l(h)==h||"/a/i"!=l(p,"i")}))){l=function(e,t){var r=this instanceof l,o=c(e),a=t===n
;return!r&&o&&e.constructor===l&&a?e:i(v?new f(o&&!a?e.source:e,t):f((o=e instanceof l)?e.source:e,o&&a?u.call(e):t),r?this:d,l)};for(var g=s(f),y=0;g.length>y;)!function(e){e in l||a(l,e,{configurable:!0,get:function(){return f[e]},set:function(t){f[e]=t}})}(g[y++]);d.constructor=l,l.prototype=d,r(11)(o,"RegExp",l)}r(38)("RegExp")},function(e,t,r){r(98);var o=r(4),i=r(75),a=r(7),s=/./.toString,c=function(e){r(11)(RegExp.prototype,"toString",e,!0)};r(1)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):n)}):"toString"!=s.name&&c(function(){return s.call(this)})},function(e,t,r){r(50)("match",1,function(e,t,r){return[function(r){var o=e(this),i=r==n?n:r[t];return i!==n?i.call(r,o):new RegExp(r)[t](String(o))},r]})},function(e,t,r){r(50)("replace",2,function(e,t,r){return[function(o,i){var a=e(this),s=o==n?n:o[t];return s!==n?s.call(o,a,i):r.call(String(a),o,i)},r]})},function(e,t,r){r(50)("search",1,function(e,t,r){return[function(r){var o=e(this),i=r==n?n:r[t];return i!==n?i.call(r,o):new RegExp(r)[t](String(o))},r]})},function(e,t,r){r(50)("split",2,function(e,t,o){var i=r(72),a=o,s=[].push,c="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[c]||2!="ab".split(/(?:ab)*/)[c]||4!=".".split(/(.?)(.?)/)[c]||".".split(/()()/)[c]>1||"".split(/.?/)[c]){var u=/()??/.exec("")[1]===n;o=function(e,t){var r=String(this);if(e===n&&0===t)return[];if(!i(e))return a.call(r,e,t);var o,l,f,d,p,h=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,y=t===n?4294967295:t>>>0,m=new RegExp(e.source,v+"g");for(u||(o=new RegExp("^"+m.source+"$(?!\\s)",v));(l=m.exec(r))&&!((f=l.index+l[0][c])>g&&(h.push(r.slice(g,l.index)),!u&&l[c]>1&&l[0].replace(o,function(){for(p=1;p<arguments[c]-2;p++)arguments[p]===n&&(l[p]=n)}),l[c]>1&&l.index<r[c]&&s.apply(h,l.slice(1)),d=l[0][c],g=f,h[c]>=y));)m.lastIndex===l.index&&m.lastIndex++;return g===r[c]?!d&&m.test("")||h.push(""):h.push(r.slice(g)),h[c]>y?h.slice(0,y):h}}else"0".split(n,0)[c]&&(o=function(e,t){return e===n&&0===t?[]:a.call(this,e,t)});return[function(r,i){var a=e(this),s=r==n?n:r[t];return s!==n?s.call(r,a,i):o.call(String(a),r,i)},o]})},function(e,t,r){var o=r(99),i=r(41);e.exports=r(51)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:n)}},{get:function(e){var t=o.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return o.def(i(this,"Map"),0===e?0:e,t)}},o,!0)},function(e,t,r){var o=r(99),i=r(41);e.exports=r(51)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:n)}},{add:function(e){return o.def(i(this,"Set"),e=0===e?0:e,e)}},o)},function(e,t,r){var o,i=r(19)(0),a=r(11),s=r(29),c=r(54),u=r(100),l=r(2),f=r(1),d=r(41),p=s.getWeak,h=Object.isExtensible,v=u.ufstore,g={};if(r(3).WeakMap===n){var y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:n)}},m={get:function(e){if(l(e)){var t=p(e);return!0===t?v(d(this,"WeakMap")).get(e):t?t[this._i]:n}},set:function(e,t){return u.def(d(this,"WeakMap"),e,t)}},b=e.exports=r(51)("WeakMap",y,m,u,!0,!0);f(function(){return 7!=(new b).set((Object.freeze||Object)(g),7).get(g)})&&(o=u.getConstructor(y,"WeakMap"),c(o.prototype,m),s.NEED=!0,i(["delete","has","get","set"],function(e){var t=b.prototype,n=t[e];a(t,e,function(t,r){if(l(t)&&!h(t)){this._f||(this._f=new o);var i=this._f[e](t,r);return"set"==e?this:i}return n.call(this,t,r)})}))}},function(e,t,r){var o=r(100),i=r(41);r(51)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:n)}},{add:function(e){return o.def(i(this,"WeakSet"),e,!0)}},o,!1,!0)},function(e,t,r){var o=r(0),i=r(52),a=r(76),s=r(4),c=r(33),u=r(8),l=r(2),f=r(3).ArrayBuffer,d=r(77),p=a.ArrayBuffer,h=a.DataView,v=i.ABV&&f.isView,g=p.prototype.slice,y=i.VIEW;o(o.G+o.W+o.F*(f!==p),{ArrayBuffer:p}),o(o.S+o.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return v&&v(e)||l(e)&&y in e}}),o(o.P+o.U+o.F*r(1)(function(){return!new p(2).slice(1,n).byteLength}),"ArrayBuffer",{slice:function(e,t){if(g!==n&&t===n)return g.call(s(this),e);for(var r=s(this).byteLength,o=c(e,r),i=c(t===n?r:t,r),a=new(d(this,p))(u(i-o)),l=new h(this),f=new h(a),v=0;o<i;)f.setUint8(v++,l.getUint8(o++));return a}}),r(38)("ArrayBuffer")},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(52).ABV,{DataView:n(76).DataView})},function(e,t,n){n(23)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(23)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(0),o=n(17),i=n(4),a=(n(3).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(1)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),c=i(n);return a?a(r,t,c):s.call(r,t,c)}})},function(e,t,n){var r=n(0),o=n(27),i=n(17),a=n(4),s=n(2),c=n(1),u=n(85),l=(n(3).Reflect||{}).construct,f=c(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),d=!c(function(){l(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var c=n.prototype,p=o(s(c)?c:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(6),o=n(0),i=n(4),a=n(24);o(o.S+o.F*n(1)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),o=n(22).f,i=n(4);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,r){var o=r(0),i=r(4),a=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};r(62)(a,"Object",function(){var e,t=this,r=t._k;do{if(t._i>=r.length)return{value:n,done:!0}}while(!((e=r[t._i++])in t._t));return{value:e,done:!1}}),o(o.S,"Reflect",{enumerate:function(e){return new a(e)}})},function(e,t,r){function o(e,t){var r,c,f=arguments.length<3?e:arguments[2];return l(e)===f?e[t]:(r=i.f(e,t))?s(r,"value")?r.value:r.get!==n?r.get.call(f):n:u(c=a(e))?o(c,t,f):void 0}var i=r(22),a=r(28),s=r(9),c=r(0),u=r(2),l=r(4);c(c.S,"Reflect",{get:o})},function(e,t,n){var r=n(22),o=n(0),i=n(4);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(0),o=n(28),i=n(4);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),o=n(4),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(248)})},function(e,t,n){var r=n(34),o=n(46),i=n(4),a=n(3).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(0),o=n(4),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,r){function o(e,t,r){var u,p,h=arguments.length<4?e:arguments[3],v=a.f(f(e),t);if(!v){if(d(p=s(e)))return o(p,t,r,h);v=l(0)}return c(v,"value")?!(!1===v.writable||!d(h))&&(u=a.f(h,t)||l(0),u.value=r,i.f(h,t,u),!0):v.set!==n&&(v.set.call(h,r),!0)}var i=r(6),a=r(22),s=r(28),c=r(9),u=r(0),l=r(25),f=r(4),d=r(2);u(u.S,"Reflect",{set:o})},function(e,t,n){var r=n(0),o=n(65);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){var o,i,a,s,c=r(78),u=r(37),l=r(3),f=r(16),d=r(44),p=r(0),h=r(2),v=r(17),g=r(40),y=r(43),m=r(77),b=r(102).set,_=r(253)(),w=r(103),S=r(254),k=r(255),C=l.TypeError,T=l.process,x=l.Promise,I="process"==d(T),E=function(){},P=i=w.f,O=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[r(5)("species")]=function(e){e(E,E)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t}catch(e){}}();c.isIOS&&(O=!1);var A=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;_(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,a=o?t.ok:t.fail,s=t.resolve,c=t.reject,u=t.domain;try{a?(o||(2==e._h&&N(e),e._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&u.exit()),n===t.promise?c(C("Promise-chain cycle")):(i=A(n))?i.call(n,s,c):s(n)):c(r)}catch(e){c(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&D(e)})}},D=function(e){b.call(l,function(){var t,r,o,i=e._v,a=R(e);if(a&&(t=S(function(){I?T.emit("unhandledRejection",i,e):(r=l.onunhandledrejection)?r({promise:e,reason:i}):(o=l.console)&&o.error&&o.error("Unhandled promise rejection",i)}),e._h=I||R(e)?2:1),e._a=n,a&&t.e)throw t.v})},R=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!R(t.promise))return!1;return!0},N=function(e){b.call(l,function(){var t;I?T.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},L=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw C("Promise can't be resolved itself");(t=A(e))?_(function(){var r={_w:n,_d:!1};try{t.call(e,f(L,r,1),f(B,r,1))}catch(e){B.call(r,e)}}):(n._v=e,n._s=1,M(n,!1))}catch(e){B.call({_w:n,_d:!1},e)}}};O||(x=function(e){g(this,x,"Promise","_h"),v(e),o.call(this);try{e(f(L,this,1),f(B,this,1))}catch(e){B.call(this,e)}},o=function(e){this._c=[],this._a=n,this._s=0,this._d=!1,this._v=n,this._h=0,this._n=!1},o.prototype=r(39)(x.prototype,{then:function(e,t){var r=P(m(this,x));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=I?T.domain:n,this._c.push(r),this._a&&this._a.push(r),this._s&&M(this,!1),r.promise},catch:function(e){return this.then(n,e)}}),a=function(){var e=new o;this.promise=e,this.resolve=f(L,e,1),this.reject=f(B,e,1)},w.f=P=function(e){return e===x||e===s?new a(e):i(e)}),p(p.G+p.W+p.F*!O,{Promise:x}),r(36)(x,"Promise"),r(38)("Promise"),s=r(30).Promise,p(p.S+p.F*!O,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(u||!O),"Promise",{resolve:function(e){return k(u&&this===s?x:this,e)}}),p(p.S+p.F*!(O&&r(49)(function(e){x.all(e).catch(E)})),"Promise",{all:function(e){var t=this,r=P(t),o=r.resolve,i=r.reject,a=S(function(){var r=[],a=0,s=1;y(e,!1,function(e){var c=a++,u=!1;r.push(n),s++,t.resolve(e).then(function(e){u||(u=!0,r[c]=e,--s||o(r))},i)}),--s||o(r)});return a.e&&i(a.v),r.promise},race:function(e){var t=this,n=P(t),r=n.reject,o=S(function(){y(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,r){var o=r(3),i=r(102).set,a=o.MutationObserver||o.WebKitMutationObserver,s=o.process,c=o.Promise,u="process"==r(20)(s);e.exports=function(){var e,t,r,l=function(){var o,i;for(u&&(o=s.domain)&&o.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?r():t=n,o}}t=n,o&&o.enter()};if(u)r=function(){s.nextTick(l)};else if(a){var f=!0,d=document.createTextNode("");new a(l).observe(d,{characterData:!0}),r=function(){d.data=f=!f}}else if(c&&c.resolve){var p=c.resolve();r=function(){p.then(l)}}else r=function(){i.call(o,l)};return function(o){var i={fn:o,next:n};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(4),o=n(2),i=n(103);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}}]),"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.core=e}(1,1),function(e){var t={};define=function(e,n){t[e]={status:1,factory:n}};var n=function(e){var t=e.match(/(.*)\/([^\/]+)?$/);return t&&t[1]?t[1]:"./"},r=function(e){if(e&&__wxConfig.subPackages)for(var t=0,n=__wxConfig.subPackages.length;t<n;t++)if(0===e.indexOf(__wxConfig.subPackages[t].root))return __wxConfig.subPackages[t]},o=function(e){for(var t=[],n=e.split("/"),r=0,o=n.length;r<o;++r){var i=n[r];if(""!=i&&"."!=i)if(".."==i){if(0==t.length){t=null;break}t.pop()}else r+1<o&&".."==n[r+1]?r++:t.push(i)}return t},i=function(e){var n=o(e+"/index.js").join("/");return t[n]?n:(n=o(e).join("/"),/\.js$/.test(n)||(n+=".js"),t[n]?n:"")},a=function(e,n,r){var a=e;if(/\.js$/.test(a)||(a+=".js"),"string"==typeof a&&t[a])return a;var s=o(n);if(!s)throw new Error("can't find module : "+r);for(var c,u=e.substring(s.join("/").length);s.length;){var l=s.join("/")+"/miniprogram_npm"+u;if(c=i(l))break;s.pop()}if(!c){u="/"===u[0]?u:"/"+u;var l="miniprogram_npm"+u;c=i(l)}return c||e},s=function(e){var t=n(e);return function(n){if("string"!=typeof n)throw new Error("require args must be a string");var i=o(t+"/"+n);if(!i)throw new Error("can't find module : "+n);try{var s=i.join("/");if(s=a(s,t,n),"devtools"===__wxConfig.platform&&__wxConfig.subPackages){var c=r(s),u=r(e);if(c&&c!==u)throw new Error("should not require "+n+" in "+e+" because they are in diffrent subPackages")}return require(s)}catch(e){throw e}}};require=function(e){if("string"!=typeof e)throw new Error("require args must be a string");var n=t[e];if(!n){var r=-1===e.indexOf("/")?e+"/index.js":e;r="miniprogram_npm/"+r,/\.js$/.test(r)||(r+=".js"),n=t[r]}if(!n)throw new Error('module "'+e+'" is not defined');if(1===n.status){var o=n.factory,i={exports:{}};n.exports=i.exports,n.status=2;var a=void 0;o&&(a=o(s(e),i,i.exports)),n.exports=i.exports||a}return n.exports}}();var requireMiniProgramFile=require,JSContext=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=r(i),s=n(4),c=r(s),u=n(5),l=r(u),f=void 0,d=function(){return void 0!==(void 0===t?"undefined":o(t))?t:this}();if(void 0!==d.WeixinJSContext){f=Object.getPrototypeOf(d.WeixinJSContext)===Object.prototype?a.default:c.default,f.__init__(WeixinJSContext)}else f=l.default;delete f.__init__,d.WeixinJSContext=void 0,e.exports=f}).call(t,function(){return this}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(3),a={},s={},c=[],u=void 0,l=0,f=void 0,d=void 0,p=void 0,h=void 0,v=[],g=function(e){void 0===u&&void 0!==e&&(u=e,y())},y=function(){u.register=k,u.subscribeHandler=T,f=u.alloc,d=u.create,p=u.destroy,h=u.evaluateScriptFile,delete u.alloc,delete u.create,delete u.destroy,delete u.evaluateScriptFile},m=function(e){for(var t=c.length,n=0;n<t;n++){var r=c[n];if(s[r]===e)return r}},b=function(){return"function"==typeof f?f.call(u):-9999},_=function(){return"function"==typeof f},w=function(e){return"function"==typeof d?d.call(u,e):-9999},S=function(e){return"function"==typeof p?p(e):-9999},k=function(e,t){if(void 0!==t&&void 0!==e&&e===u)return s[++l]=t,c.push(l),v.forEach(function(e){"function"==typeof e&&e(l)}),l},C=function(e){v.push(e)},T=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(void 0!==e&&e===u){var s=m(t);if(void 0!==s){i||(n=n.valueOf(),r=new o.default(r));var c=a[n];"function"==typeof c&&c(r,s)}}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,i.getDataType)(t);if("Object"!==a&&"Undefined"!==a)throw new Error("params should be an object.");r||(e=e.valueOf(),t=new o.default(t)),n.forEach(function(n){var o=s[n];o&&o.subscribeHandler(u,e,t,0,r)})},I=function(e,t){a[e]=t},E=function(e,t){return h(e,t)},P={__init__:g,publish:x,subscribe:I,onRegister:C,evaluateScriptFile:E,alloc:b,create:w,destroy:S,supportAlloc:_};t.default=P},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=["constructor","__proto__","__defineGetter__","__defineSetter__"],a="undefined"!=typeof WeakMap?new WeakMap:{},s="undefined"!=typeof WeakMap?new WeakMap:{},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=s.get(e);return void 0!==n?n:(n=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];for(var i=0;i<r.length;i++){var s=r[i];r[i]=l(s)}var c=t?a.get(this):void 0,u=e.call.apply(e,[c].concat(r));return l(u)},s.set(e,n),n)},u=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(l(r))}return t},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,o.getDataType)(e);return"String"===n||"Number"===n||"Boolean"===n?e.valueOf():"Object"===n?new v(e):"Array"===n?u(e):"Function"===n?c(e,t):"Undefined"!==n&&"Null"===n?null:void 0},f=function(e){return function(){var t=a.get(this);if(void 0!==t){if(null===t)return null;var n=t[e];return l(n,!0)}}},d=function(e){return function(t){var n=a.get(this);if(void 0!==n)return null===n?null:void(n[e]=l(t))}},p=function(e){for(var t=0;t<i.length;t++){if(i[t]===e)return!0}return!1},h=function(){for(var e=a.get(this),t=(0,o.getAllPropertyDescs)(e),n=0;n<t.length;n++){var r=t[n],i=r.name;p(i)||(i in this||(delete r.value,delete r.writable,(0,o.ObjDefProp)(this,i,Object.assign(r,{get:f(i),set:d(i)}))))}},v=function e(t){r(this,e),a.set(this,t),h.call(this)};t.default=v},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.prototype.toString,r=Object.getPrototypeOf,o=Object.getOwnPropertyNames,i=Object.getOwnPropertyDescriptor;t.ObjDefProp=Object.defineProperty,t.getDataType=function(e){return n.call(e).split(" ")[1].split("]")[0]},t.getAllPropertyDescs=function(e){for(var t=[],n=e;n;n=r(n)){var a=o(n),s=!0,c=!1,u=void 0;try{for(var l,f=a[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value,p=i(n,d);void 0!==p&&(p.name=d,t.push(p))}}catch(e){c=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(3),a={},s=void 0,c=void 0,u=function(e){void 0===s&&void 0!==e&&(s=e,c=s.register(e,p))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,i.getDataType)(t);if("Object"!==r&&"Undefined"!==r)throw new Error("params should be an object.");var a=e.valueOf(),c=void 0;c=n?t||{}:void 0===t?{}:new o.default(t),s.subscribeHandler(s,p,a,c,n)},f=function(e,t){a[e]=t},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4]);if(void 0!==e&&e===s){r||(t=t.valueOf(),n=new o.default(n));var i=a[t];"function"==typeof i&&i(n)}},p={subscribeHandler:d},h={__init__:u,publish:l,subscribe:f};"undefined"!=typeof __wxConfig&&!0===__wxConfig.jestTest&&(h.subscribeHandler=d),t.default=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={alloc:function(){return-9999},create:function(){return-9999},destroy:function(){return-9999},publish:function(){},subscribe:function(){},supportAlloc:function(){}}}]),Protect=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){n.r(t),function(e){function r(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("undefined"!=typeof Function&&!o.default.karmaTest){var n=function(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e}};e={},n.prototype=Function.prototype,Function.prototype.constructor=n,Function=n}var r=function(){return this}();if("undefined"!=typeof eval&&(eval=void 0),"undefined"!=typeof setTimeout&&t){var a=setTimeout;setTimeout=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("function"!=typeof e)throw new TypeError("setTimeout expects a function as first argument but got "+(void 0===e?"undefined":i(e))+".");var n=Reporter.surroundThirdByTryCatch(e,"at setTimeout callback function"),o=[].slice.call(arguments,2);return a(function(){n.apply(r,o)},t)};var s=setInterval;setInterval=function(e,t){if("function"!=typeof e)throw new TypeError("setInterval expects a function as first argument but got "+(void 0===e?"undefined":i(e))+".");var n=Reporter.surroundThirdByTryCatch(e,"at setInterval callback function"),o=[].slice.call(arguments,2);return s(function(){n.apply(r,o)},t)}}}n.d(t,"hijack",function(){return r});var o=n(1),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}.call(this,n(3))},function(e,t,n){var r=void 0;r="undefined"!=typeof NativeGlobal?NativeGlobal:{};var o=r,i=void 0;i=o.__wxConfig?o.__wxConfig:__wxConfig,i.onReady(function(){Object.assign(i,__wxConfig)});t.default=i},function(e,t){if("undefined"==typeof navigator){try{new Function("const GeneratorFunction = Object.getPrototypeOf(function *() {}).constructor; const f = new GeneratorFunction('', 'console.log(0)'); f().__proto__.__proto__.next = () => {};")()}catch(e){}try{new Function("const AsyncFunctionProto = Object.getPrototypeOf(async function() {}); Object.defineProperty(AsyncFunctionProto, 'constructor', { value: function(){} });")()}catch(e){}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=["Array","ArrayBuffer","AsyncFunction","Atomics","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Generator","GeneratorFunction","Infinity","Int16Array","Int32Array","Int8Array","InternalError","Intl","Intl.Collator","Intl.DateTimeFormat","Intl.NumberFormat","Iterator","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","TypedArray","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],o=["App","getApp","Page","getCurrentPages","define","require","Reporter","wx","Protect","requirePlugin","definePlugin"],i=function(){return this}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function e(t,n,r,o){if(t&&n&&-1===n.indexOf("constructor")){var i=void 0;try{i=t[n]}catch(e){return}if(i){var s=Object.getOwnPropertyDescriptor(t,n);if(o||s||"__proto__"===n){s=s||{enumerable:!!o,configurable:!0};var c=void 0===i?"undefined":a(i);if(i&&("function"===c||"object"===c)&&(s.configurable&&Object.defineProperty(t,n,{get:function(){return i},set:function(s){if(this!==t)return e(this,n,r,!0),void(this[n]=s);if(i!==s)if(o)try{i=s}catch(e){return}else console.error('[non-writable] modification of global variable "'+r+'" is not allowed when using plugins at app.json.'),"object"==(void 0===Reporter?"undefined":a(Reporter))&&(Reporter.reportKeyValue({key:"GlobalReadOnly",value:r}),Reporter.reportIDKey({key:"global_objs_readonly"}))},enumerable:s.enumerable,configurable:!!o&&s.configurable}),!o&&"__proto__"!==n)){var u=Object.getOwnPropertyNames(i);"object"===(void 0===i?"undefined":a(i))&&e(i,"__proto__",r+".__proto__",!1);for(var l=0;l<u.length;++l){var f=u[l];e(i,f,r+"."+f,!1)}}}}}},c=r.concat(o),u=function(){Object.defineProperty(i.Object,"setPrototypeOf",{value:function(e,t){e.__proto__=t},configurable:!0})},l=function(){try{for(var e=(new Date,0);e<c.length;++e){var t=c[e];if(i[t]){new Date;s(i,t,t,!1)}}}catch(e){}},f=function(e,t,n){return s(e,t,n,!1)},d=(n(2),n(0));n.d(t,"overwriteSetPrototypeOf",function(){return u}),n.d(t,"doNotWriteGlobalObjs",function(){return l}),n.d(t,"doNotWriteObj",function(){return f}),n.d(t,"globalEsObjs",function(){return r}),n.d(t,"hijack",function(){return d.hijack})}]),__subContextEngine__=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r=n(1),o=n(4),i=n(5),a=n(3),s=n(6);n(7);var c=function(){return this}(),u=function(e){for(var t in e)c[t]=e[t];__wxConfig.onReady(function(){for(var t in e)c[t]=e[t];(0,a.isIsolateContext)()&&(0,a.callInitFunc)(function(){(0,a.freezeGlobal)(),(0,s.addToPool)((0,r.getAppContext)()),(0,r.initAppContext)(e)},"initAppIsolatedContext"),!(0,a.isIsolateContext)()&&__wxConfig.plugins&&(Protect.overwriteSetPrototypeOf(),Protect.doNotWriteGlobalObjs())})},l=function(){__wxConfig.onReady(function(){var e=__appServiceSDK__.getGameRelatedContextsExports();(0,a.isIsolateContext)()&&(0,a.callInitFunc)(function(){(0,a.freezeGlobal)(),(0,s.addToPool)((0,o.getGameContext)()),(0,o.initGameContext)(e.game)},"initGameIsolatedContext"),(0,a.needOpenDataContext)()&&(0,a.callInitFunc)(function(){(0,s.addToPool)((0,i.getGameOpenDataContext)()),(0,i.initGameOpenDataContext)(e.gameOpenData)},"initGameOpenDataContext")})};e.exports={initAppRelatedContexts:u,initGameRelatedContexts:l,getAppContext:r.getAppContext,getGameContext:o.getGameContext,getGameOpenDataContext:i.getGameOpenDataContext,isIsolateContext:a.isIsolateContext}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getAppContext=t.initAppContext=void 0;var r=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(3),a=!1,s=new o.default({name:"app",secure:!1,entry:"app-service.js",injectAfterAlloc:!1}),c=function(){a||(s.evaluateScriptFile("app-service.js"),a=!0)},u=(0,i.surroundByTryCatchFactory)("appServiceSDKScriptError",function(e,t){var n=t.moduleName,r="__APP__"===n;"string"!=typeof n&&console.error("SubContext onSubPackageReady error: moduleName is empty"),n.endsWith("/")||(n+="/"),r?c():s.evaluateScriptFile(n+"app-service.js")}),l=function(){var e=new Safeway(s),t={console:Object.assign({group:function(){},groupEnd:function(){}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,safeway:e,__wxConfig:__wxConfig,Reporter:Reporter};e.onSubpackageReady(u),s.setExportEnv(t),s.init()},f=function(){return s};t.initAppContext=l,t.getAppContext=f},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o={},i={},a={},s={},c={},u={},l=void 0,f=0;JSContext.subscribe("subContextMessage",function(e,t){var n=a[t];n&&n.__onMessageHandler(e)}),JSContext.subscribe("subContextReady",function(e,t){l&&(l.__onReadyHandler(t,e),l=void 0)}),JSContext.subscribe("subContextLibVarReady",function(e,t){a[t].__onLibVarReadyHandler(e)});var d=function(e){var t=JSContext.create(e);return t<=0&&setTimeout(function(){},0),o[this.__guid__]=t,t},p=function(){var e=JSContext.alloc();return e<=0&&setTimeout(function(){},0),o[this.__guid__]=e,e},h=function(e,t){Object.defineProperty(this,e,{value:t,writable:!1,configurable:!1})},v=function(){var e=this;void 0!==i[this.__guid__]&&(u[this.__guid__].forEach(function(t){e.postMessage(t)}),u[this.__guid__]=[])},g=function(){function e(t){var r=t.name,o=t.secure,i=void 0===o||o,a=t.env,s=void 0===a?{}:a,l=t.entry,d=t.injectAfterAlloc,p=void 0===d||d;n(this,e),h.call(this,"__name__",r),h.call(this,"__guid__",f++),h.call(this,"__secure__",i),h.call(this,"__entry__",l),h.call(this,"__injectAfterAlloc__",p),this.contextGlobal=function(){return this}(),this.setExportEnv(s),c[this.__guid__]=[],u[this.__guid__]=[]}return r(e,[{key:"init",value:function(){l=this;JSContext.supportAlloc()?(p.call(this),this.__injectAfterAlloc__&&this.evaluateScriptFile(this.__entry__)):d.call(this,this.__entry__)}},{key:"onMessage",value:function(e){var t=this;if(this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback){c[this.__guid__].forEach(function(e){t.__onMsgCallback(e)}),c[this.__guid__]=[]}}},{key:"postMessage",value:function(e){var t=i[this.__guid__];if(void 0!==t)JSContext.publish("mainContextMessage",e,[t]);else{u[this.__guid__].push(e)}}},{key:"onInitReady",value:function(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}},{key:"setExportEnv",value:function(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,s[this.__guid__]=e}},{key:"evaluateScriptFile",value:function(e){var t=o[this.__guid__];if(void 0!==t){var n=JSContext.evaluateScriptFile(t,e);if(n<=0)throw new Error("SubContext evaluateScriptFile failed: error code "+n)}}},{key:"destroy",value:function(){var e=o[this.__guid__],t=i[this.__guid__];e>0&&(JSContext.publish("subContextDestroy",{},[t]),JSContext.destroy(e)),delete a[t],delete o[this.__guid__],delete i[this.__guid__],delete s[this.__guid__],delete c[this.__guid__],delete u[this.__guid__],delete this.__guid__,delete this.contextGlobal}},{key:"__onMessageHandler",value:function(e){if("function"==typeof this.__onMsgCallback)this.__onMsgCallback(e);else{c[this.__guid__].push(e)}}},{key:"__onReadyHandler",value:function(e,t){a[e]=this,i[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var n=s[this.__guid__];n&&JSContext.publish("subContextEnvReady",n,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach(function(e){e(t)}),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,v.call(this)}}]),e}();t.default=g
},function(e,t){function n(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){var o=void 0;try{o=e[t]}catch(e){}"object"!==(void 0===o?"undefined":r(o))&&"function"!=typeof o||Object.isFrozen(o)||n(o)}),e}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.deepFreeze=n;t.isIsolateContext=function(){return"undefined"!=typeof __wxConfig&&__wxConfig.isIsolateContext},t.freezeGlobal=function(){var e=function(){return this}();Protect.globalEsObjs.concat(["console"]).forEach(function(t){e[t]&&(n(e[t]),Object.defineProperty(e,t,{value:e[t],configurable:!1,writable:!1}))})},t.callInitFunc=function(e,t){Reporter.reportIDKey({key:t});try{e()}catch(e){Reporter.reportIDKey({key:t+"_fail",force:!0});var n=t.indexOf("initGame")>=0?"gameSDKScriptError":"appServiceSDKScriptError";Reporter.errorReport({key:n,error:e,extend:""})}},t.surroundByTryCatchFactory=function(e,t){return function(){try{return t.apply(t,arguments)}catch(t){Reporter.errorReport({key:e,error:t,extend:""})}}},t.needOpenDataContext=function(){return"string"==typeof("devtools"===__wxConfig.platform?__wxConfig.appConfig.subContext:__wxConfig.subContext)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getGameContext=t.initGameContext=void 0;var r=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=new o.default({name:"game",secure:!1,entry:"game.js"}),a=function(e){e.__wxConfig=__wxConfig,i.setExportEnv(e),i.init()},s=function(){return i};t.initGameContext=a,t.getGameContext=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getGameOpenDataContext=t.initGameOpenDataContext=void 0;var r=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=new o.default({name:"gameopendata",secure:!0,entry:"subContext.js"}),a=function(e){e.__wxConfig=__wxConfig,i.setExportEnv(e),i.init()},s=function(){return i};t.initGameOpenDataContext=a,t.getGameOpenDataContext=s},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=[];t.addToPool=function(e){n.push(e)},t.getPool=function(){return n}},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(6);__wxConfig.onReady(function(){"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=(0,o.getPool)(),n=0;n<t.length;n++){var i=t[n],a=i.contextGlobal.__wxSourceMap;if("object"===(void 0===a?"undefined":r(a))&&a[e]){var s=void 0;try{s=JSON.parse(JSON.stringify(a[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return s}}})})}]),Safeway=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){function r(){return{invoke:function(e,t,n){return WeixinJSBridge.invoke(e,t,n)},on:function(e,t){return WeixinJSBridge.on(e,t)},publish:function(e,t,n){return WeixinJSBridge.publish(e,t,n)},subscribe:function(e,t){return WeixinJSBridge.subscribe(e,t)}}}function o(){return{create:function(e){return WeixinWorker.create(e)},onWorkerMsg:function(e){return WeixinWorker.onWorkerMsg(e)},postMsgToWorker:function(e,t){return WeixinWorker.postMsgToWorker(e,t)},terminate:function(e){return WeixinWorker.terminate(e)}}}function i(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.cloneArgs,o=void 0===r||r;return function(){for(var n=[],r=0;r<arguments.length;r++)"function"==typeof arguments[r]?n[r]=new s(e,arguments[r]):n[r]=o?v(arguments[r],{parse:JSON.parse,stringify:JSON.stringify}):arguments[r];var i=t.apply(this,n);return v(i,{parse:e.jsonParse,stringify:e.jsonStringify})}}function s(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=v(arguments[r],{parse:e.jsonParse,stringify:e.jsonStringify});t.apply(this,n)}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){for(var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Object.keys(e),i=0;i<o.length;i++){var s=o[i],c=e[s];if("function"!=typeof c)throw new Error("Export value of Safeway must be a function, key "+s+" func "+(void 0===c?"undefined":g(c)));n&&void 0!==__subContextEngine__&&__subContextEngine__.isIsolateContext()?t[s]=new a(n,c,{cloneArgs:r}):t[s]=c}}function l(e){var t=r(),n=o();u(t,t,e,{cloneArgs:!1}),u(n,n,e),this.bridge=t,this.worker=n,u({onSubpackageReady:p},this,e)}var f=!1,d=[],p=function(e){d.push(e),f||(this.bridge.on("onSubPackageReady",function(e){d.forEach(function(t){"function"==typeof t&&t(void 0,e)})}),f=!0)},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.stringify,r=void 0===n?JSON.stringify:n,o=t.parse,a=void 0===o?JSON.parse:o;if(!e)return e;var s=void 0===e?"undefined":h(e);if("function"===s)throw new Error("[Safeway] not allow to pass function.");if("object"!==s)return e.valueOf();for(var c=Object.keys(e),u={},l=0;l<c.length;l++){var f=c[l],d=e[f];void 0!==d&&"ArrayBuffer"===i(d)&&void 0!==d.byteLength&&(u[f]=d)}var p=void 0;try{p=a(r(e))}catch(e){throw new Error("[Safeway] data clone error "+e.toString())}for(var v=Object.keys(u),g=0;g<v.length;g++){var y=v[g];p[y]=u[y]}return p},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function e(t){c(this,e),l.call(this,t)};t.default=y}]).default,__safeway__=new Safeway,Reporter=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){void 0!==WeixinJSBridge?e():"undefined"!=typeof document&&document.addEventListener("WeixinJSBridgeReady",e,!1)}function i(){var e=arguments;o(function(){WeixinJSBridge.invoke.apply(WeixinJSBridge,e)})}function a(){var e=arguments;o(function(){WeixinJSBridge.publish.apply(WeixinJSBridge,e)})}function s(){return void 0!==wx?wx.version&&wx.version.version||"":""}function c(){!w||w.length<=0||(i("reportKeyValue",{dataArray:w}),w=[])}function u(){!S||S.length<=0||(i("reportIDKey",{dataArray:S}),S=[])}function l(){!k||k.length<=0||(i("systemLog",{dataArray:k}),k=[])}function f(){return"undefined"!=typeof window&&window.navigator?window.navigator.userAgent.indexOf("appservice")>-1?"devtools":window.navigator.userAgent.toLowerCase().indexOf("android")>-1?"android":"ios":"android"===__wxConfig.platform?"android":"devtools"===__wxConfig.platform?"devtools":"ios"}function d(e){return function(){try{return e.apply(e,arguments)}catch(e){console.error("reporter error:"+e.message)}}}var p,h={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3},v={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,clientRestoreWebview_fail:200,clientLibVersionNotMatch:205},g={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,APIRecycle:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859},y={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},m={apiCallback:1,pageInvoke:2,widgetInvoke:3},b={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14},_=(p={},r(p,h.APP,"thirdScriptError"),r(p,h.WIDGET,"widgetThirdScriptError"),r(p,h.GAME,"gameThirdScriptError"),r(p,h.GAME_SUBCONTEXT,"gameSubContextThirdScriptError"),p),w=[],S=[],k=[],C=0,T=0,x=0,I=0,E=0,P={},O={},A={},M="ios"===f(),D=(f(),function(){}),R=function(){},N="",B="",L="",j="",F=-1,U=h.APP;"undefined"!=typeof __wxConfig&&__wxConfig.onReady(function(){void 0!==__wxConfig.appType&&(F=__wxConfig.appType)});var W={surroundThirdByTryCatch:function(e,t){var n="";return L&&(n="at "+L+" "+j+" function;"),function(){var r=void 0;try{var o=Date.now();r=e.apply(e,arguments);var i=Date.now()-o;i>1e3&&W.slowReport({key:"apiCallback",cost:i,extend:n+t})}catch(e){W.thirdErrorReport({error:e,extend:n+t})}return r}},slowReport:function(e){var t=e.key,n=e.cost,r=e.extend,o=e.force,i=m[t],a=Date.now();if(i&&(o||!(a-E<500))&&!(Object.keys(A).length>50||(A[r]||(A[r]=0),++A[r]>3))){E=a;var s=n+","+encodeURIComponent(r)+","+i+","+W.getAppType();W.reportKeyValue({key:"Slow",value:s,force:!0})}},speedReport:function(e){var t=e.key,n=e.data,r=e.timeMark,o=e.force,i=y[t],a=Date.now(),s=0,c=r.nativeTime;if(i&&(o||!(a-(P[i]||0)<500))&&r.startTime&&r.endTime&&(1!=i&&2!=i||c)){n&&(s=JSON.stringify(n).length),P[i]=a;var u=i+","+r.startTime+","+c+","+c+","+r.endTime+","+s+","+W.getAppType();W.reportKeyValue({key:"Speed",value:u,force:!0})}},reportKeyValue:function(e){var t=e.key,n=e.value,r=e.force,o=void 0!==r&&r,i=e.immediately,a=void 0!==i&&i;g[t]&&(!o&&Date.now()-C<50||(C=Date.now(),w.push({key:g[t],value:n}),(w.length>=20||!0===a)&&c()))},reportIDKey:function(e){var t=e.id,n=e.key,r=e.force;v[n]&&(!r&&Date.now()-T<20||(T=Date.now(),S.push({id:t||(M?"356":"358"),key:v[n],value:1}),S.length>=1&&u()))},thirdErrorReport:function(e){var t=e.key,n=void 0===t?U:t,r=e.error,o=e.extend,i=e.triggerErrorCallback,a=void 0===i||i;W.errorReport({key:_[n],error:r,extend:o,triggerErrorCallback:a,isThirdScriptError:!0})},errorReport:function(e){var t=e.key,n=e.error,r=e.extend,o=e.isThirdScriptError,i=void 0!==o&&o,f=e.triggerErrorCallback,d=void 0===f||f;if(b[t]){"function"==typeof __wxSourceMapRetrace__&&(n=__wxSourceMapRetrace__(n));var p=r?n.message+";"+r:n.message,h=t+"\n"+p+"\n"+n.stack;if(console.error(h),!(h.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?a("WEBVIEW_ERROR_MSG",{data:{msg:h},options:{timestamp:Date.now()}}):d&&(W.triggerErrorMessage(h),i&&W.triggerThirdErrorMessage(h)),Object.keys(O).length>50))){var v=b[t]+","+n.name+","+encodeURIComponent(p)+","+encodeURIComponent(n.stack)+","+encodeURIComponent(s())+","+W.getAppType();if(O[v]||(O[v]=0),O[v]++,!(i&&O[v]>3||O[v]>3)&&(W.reportIDKey({key:t,force:!0}),W.reportKeyValue({key:"Error",value:v,force:!0}),u(),c(),l(),__wxConfig.karmaTest))throw n}}},log:function(e,t){e&&"string"==typeof e&&(!t&&Date.now()-x<50||(x=Date.now(),k.push(e+""),k.length>=50&&l()))},submit:function(){Date.now()-I<50||(I=Date.now(),u(),c(),l())},registerErrorListener:function(e){"function"==typeof e&&(D=e)},unRegisterErrorListener:function(){D=function(){}},registerThirdErrorListener:function(e){"function"==typeof e&&(R=e)},unRegisterThirdErrorListener:function(){R=func},triggerErrorMessage:function(e){N!=e&&(N=e,setTimeout(function(){try{D(e)}catch(e){console.error(e.message,"at onError callback function")}},0))},triggerThirdErrorMessage:function(e){B!=e&&(B=e,setTimeout(function(){try{R(e)}catch(e){console.error(e.message,"at onError callback function")}},0))},setAsWidget:function(){U=h.WIDGET},setAsGame:function(){U=h.GAME},setAsGameSubContext:function(){U=h.GAME_SUBCONTEXT},getAppType:function(){return-1===F?0:F+1e3}},q={};for(var V in W)!function(e){q.__defineGetter__(e,function(){return d(W[e])})}(V);q.__defineSetter__("__route__",function(e){L=e}),q.__defineSetter__("__method__",function(e){j=e}),q.RunType=h,"undefined"!=typeof window&&(window.onbeforeunload=function(){W.submit()});t.default=q}]).default,__appServiceSDK__=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t,n){function r(e){function t(){if(s(/^<\?xml\s*/)){for(var e={attributes:{}};!c()&&!u("?>");){var t=i();if(!t)return e;e.attributes[t.name]=t.value}return s(/\?>\s*/),e}}function n(){o("tag %j",e);var t=s(/^<([\w-:.]+)\s*/);if(t){for(var a={name:t[1],attributes:{},children:[]};!(c()||u(">")||u("?>")||u("/>"));){var l=i();if(!l)return a;a.attributes[l.name]=l.value}if(s(/^\s*\/>\s*/))return a;s(/\??>\s*/),a.content=r();for(var f;f=n();)a.children.push(f);return s(/^<\/[\w-:.]+>\s*/),a}}function r(){o("content %j",e);var t=s(/^([^<]*)/);return t?t[1]:""}function i(){o("attribute %j",e);var t=s(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:a(t[2])}}function a(e){return e.replace(/^['"]|['"]$/g,"")}function s(t){var n=e.match(t);if(n)return e=e.slice(n[0].length),n}function c(){return 0==e.length}function u(t){return 0==e.indexOf(t)}return e=e.trim(),e=e.replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:n()}}()}var o=n(4)("xml-parser");e.exports=r},function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,n){if(e&&u.isObject(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}function i(e){return u.isString(e)&&(e=o(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return o(e,!1,!0).resolve(t)}function s(e,t){return e?o(e,!1,!0).resolveObject(t):t}var c=n(8),u=n(11);t.parse=o,t.resolve=a,t.resolveObject=s,t.format=i,t.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(p),v=["'"].concat(h),g=["%","/","?",";","#"].concat(v),y=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k=n(12);r.prototype.parse=function(e,t,n){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",i=e.split(o),a=/\\/g;i[0]=i[0].replace(a,"/"),e=i.join(o);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var f=d.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],this.query=t?k.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var p=l.exec(s);if(p){p=p[0];var h=p.toLowerCase();this.protocol=h,s=s.substr(p.length)}if(n||p||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===s.substr(0,2);!C||p&&w[p]||(s=s.substr(2),this.slashes=!0)}if(!w[p]&&(C||p&&!S[p])){for(var T=-1,x=0;x<y.length;x++){var I=s.indexOf(y[x]);-1!==I&&(-1===T||I<T)&&(T=I)}var E,P;P=-1===T?s.lastIndexOf("@"):s.lastIndexOf("@",T),-1!==P&&(E=s.slice(0,P),s=s.slice(P+1),this.auth=decodeURIComponent(E)),T=-1;for(var x=0;x<g.length;x++){var I=s.indexOf(g[x]);-1!==I&&(-1===T||I<T)&&(T=I)}-1===T&&(T=s.length),this.host=s.slice(0,T),s=s.slice(T),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var A=this.hostname.split(/\./),x=0,M=A.length;x<M;x++){var D=A[x];if(D&&!D.match(m)){for(var R="",N=0,B=D.length;N<B;N++)D.charCodeAt(N)>127?R+="x":R+=D[N];if(!R.match(m)){var L=A.slice(0,x),j=A.slice(x+1),F=D.match(b);F&&(L.push(F[1]),j.unshift(F[2])),j.length&&(s="/"+j.join(".")+s),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=c.toASCII(this.hostname));var U=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+U,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!_[h])for(var x=0,M=v.length;x<M;x++){var q=v[x];if(-1!==s.indexOf(q)){var V=encodeURIComponent(q);V===q&&(V=escape(q)),s=s.split(q).join(V)}}var z=s.indexOf("#");-1!==z&&(this.hash=s.substr(z),s=s.slice(0,z));var G=s.indexOf("?");if(-1!==G?(this.search=s.substr(G),this.query=s.substr(G+1),t&&(this.query=k.parse(this.query)),s=s.slice(0,G)):t&&(this.search="",this.query={}),s&&(this.pathname=s),S[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",K=this.search||"";this.path=U+K}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(i=k.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||S[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+o+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var l=s[c];"protocol"!==l&&(n[l]=e[l])}return S[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!S[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||w[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",g=n.search||"";n.path=v+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=m||y||n.host&&e.pathname,_=b,k=n.pathname&&n.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],C=n.protocol&&!S[n.protocol];if(C&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),b=b&&(""===h[0]||""===k[0])),m)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=h;else if(h.length)k||(k=[]),k.pop(),k=k.concat(h),n.search=e.search,n.query=e.query;else if(!u.isNullOrUndefined(e.search)){if(C){n.hostname=n.host=k.shift();var T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");T&&(n.auth=T.shift(),n.host=n.hostname=T.shift())}return n.search=e.search,n.query=e.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=k.slice(-1)[0],I=(n.host||e.host||k.length>1)&&("."===x||".."===x)||""===x,E=0,P=k.length;P>=0;P--)x=k[P],"."===x?k.splice(P,1):".."===x?(k.splice(P,1),E++):E&&(k.splice(P,1),E--);if(!b&&!_)for(;E--;E)k.unshift("..");!b||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),I&&"/"!==k.join("/").substr(-1)&&k.push("");var O=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(C){n.hostname=n.host=O?"":k.length?k.shift():"";var T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");T&&(n.auth=T.shift(),n.host=n.hostname=T.shift())}return b=b||n.host&&k.length,b&&!O&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){var r;!function(o){"use strict";function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function s(e,t,n,r,o,s){return i(a(i(i(t,e),i(r,s)),o),n)}function c(e,t,n,r,o,i,a){return s(t&n|~t&r,e,t,o,i,a)}function u(e,t,n,r,o,i,a){return s(t&r|n&~r,e,t,o,i,a)}function l(e,t,n,r,o,i,a){return s(t^n^r,e,t,o,i,a)}function f(e,t,n,r,o,i,a){return s(n^(t|~r),e,t,o,i,a)}function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,r,o,a,s,d=1732584193,p=-271733879,h=-1732584194,v=271733878;for(n=0;n<e.length;n+=16)r=d,o=p,a=h,s=v,d=c(d,p,h,v,e[n],7,-680876936),v=c(v,d,p,h,e[n+1],12,-389564586),h=c(h,v,d,p,e[n+2],17,606105819),p=c(p,h,v,d,e[n+3],22,-1044525330),d=c(d,p,h,v,e[n+4],7,-176418897),v=c(v,d,p,h,e[n+5],12,1200080426),h=c(h,v,d,p,e[n+6],17,-1473231341),p=c(p,h,v,d,e[n+7],22,-45705983),d=c(d,p,h,v,e[n+8],7,1770035416),v=c(v,d,p,h,e[n+9],12,-1958414417),h=c(h,v,d,p,e[n+10],17,-42063),p=c(p,h,v,d,e[n+11],22,-1990404162),d=c(d,p,h,v,e[n+12],7,1804603682),v=c(v,d,p,h,e[n+13],12,-40341101),h=c(h,v,d,p,e[n+14],17,-1502002290),p=c(p,h,v,d,e[n+15],22,1236535329),d=u(d,p,h,v,e[n+1],5,-165796510),v=u(v,d,p,h,e[n+6],9,-1069501632),h=u(h,v,d,p,e[n+11],14,643717713),p=u(p,h,v,d,e[n],20,-373897302),d=u(d,p,h,v,e[n+5],5,-701558691),v=u(v,d,p,h,e[n+10],9,38016083),h=u(h,v,d,p,e[n+15],14,-660478335),p=u(p,h,v,d,e[n+4],20,-405537848),d=u(d,p,h,v,e[n+9],5,568446438),v=u(v,d,p,h,e[n+14],9,-1019803690),h=u(h,v,d,p,e[n+3],14,-187363961),p=u(p,h,v,d,e[n+8],20,1163531501),d=u(d,p,h,v,e[n+13],5,-1444681467),v=u(v,d,p,h,e[n+2],9,-51403784),h=u(h,v,d,p,e[n+7],14,1735328473),p=u(p,h,v,d,e[n+12],20,-1926607734),d=l(d,p,h,v,e[n+5],4,-378558),v=l(v,d,p,h,e[n+8],11,-2022574463),h=l(h,v,d,p,e[n+11],16,1839030562),p=l(p,h,v,d,e[n+14],23,-35309556),d=l(d,p,h,v,e[n+1],4,-1530992060),v=l(v,d,p,h,e[n+4],11,1272893353),h=l(h,v,d,p,e[n+7],16,-155497632),p=l(p,h,v,d,e[n+10],23,-1094730640),d=l(d,p,h,v,e[n+13],4,681279174),v=l(v,d,p,h,e[n],11,-358537222),h=l(h,v,d,p,e[n+3],16,-722521979),p=l(p,h,v,d,e[n+6],23,76029189),d=l(d,p,h,v,e[n+9],4,-640364487),v=l(v,d,p,h,e[n+12],11,-421815835),h=l(h,v,d,p,e[n+15],16,530742520),p=l(p,h,v,d,e[n+2],23,-995338651),d=f(d,p,h,v,e[n],6,-198630844),v=f(v,d,p,h,e[n+7],10,1126891415),h=f(h,v,d,p,e[n+14],15,-1416354905),p=f(p,h,v,d,e[n+5],21,-57434055),d=f(d,p,h,v,e[n+12],6,1700485571),v=f(v,d,p,h,e[n+3],10,-1894986606),h=f(h,v,d,p,e[n+10],15,-1051523),p=f(p,h,v,d,e[n+1],21,-2054922799),d=f(d,p,h,v,e[n+8],6,1873313359),v=f(v,d,p,h,e[n+15],10,-30611744),h=f(h,v,d,p,e[n+6],15,-1560198380),p=f(p,h,v,d,e[n+13],21,1309151649),d=f(d,p,h,v,e[n+4],6,-145523070),v=f(v,d,p,h,e[n+11],10,-1120210379),h=f(h,v,d,p,e[n+2],15,718787259),p=f(p,h,v,d,e[n+9],21,-343485551),d=i(d,r),p=i(p,o),h=i(h,a),v=i(v,s);return[d,p,h,v]}function p(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function h(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function v(e){return p(d(h(e),8*e.length))}function g(e,t){var n,r,o=h(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=d(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=d(i.concat(h(t)),512+8*t.length),p(d(a.concat(r),640))}function y(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function m(e){return unescape(encodeURIComponent(e))}function b(e){return v(m(e))}function _(e){return y(b(e))}function w(e,t){return g(m(e),m(t))}function S(e,t){return y(w(e,t))}function k(e,t,n){return t?n?w(t,e):S(t,e):n?b(e):_(e)}void 0!==(r=function(){return k}.call(t,n,t,e))&&(e.exports=r)}()},function(e,t,n){var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,a){o=[],r=a,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(){var n=function(){function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}function t(e){return void 0===e}function n(e){return e===W||e===q}function r(e){return e===V||e===z}function o(e,t){if(void 0!==e.style.marginStart&&n(t))return e.style.marginStart;var r=null;switch(t){case"row":r=e.style.marginLeft;break;case"row-reverse":r=e.style.marginRight;break;case"column":r=e.style.marginTop;break;case"column-reverse":r=e.style.marginBottom}
return void 0!==r?r:void 0!==e.style.margin?e.style.margin:0}function i(e,t){if(void 0!==e.style.marginEnd&&n(t))return e.style.marginEnd;var r=null;switch(t){case"row":r=e.style.marginRight;break;case"row-reverse":r=e.style.marginLeft;break;case"column":r=e.style.marginBottom;break;case"column-reverse":r=e.style.marginTop}return null!=r?r:void 0!==e.style.margin?e.style.margin:0}function a(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&n(t))return e.style.paddingStart;var r=null;switch(t){case"row":r=e.style.paddingLeft;break;case"row-reverse":r=e.style.paddingRight;break;case"column":r=e.style.paddingTop;break;case"column-reverse":r=e.style.paddingBottom}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}function s(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&n(t))return e.style.paddingEnd;var r=null;switch(t){case"row":r=e.style.paddingRight;break;case"row-reverse":r=e.style.paddingLeft;break;case"column":r=e.style.paddingBottom;break;case"column-reverse":r=e.style.paddingTop}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}function c(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&n(t))return e.style.borderStartWidth;var r=null;switch(t){case"row":r=e.style.borderLeftWidth;break;case"row-reverse":r=e.style.borderRightWidth;break;case"column":r=e.style.borderTopWidth;break;case"column-reverse":r=e.style.borderBottomWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function u(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&n(t))return e.style.borderEndWidth;var r=null;switch(t){case"row":r=e.style.borderRightWidth;break;case"row-reverse":r=e.style.borderLeftWidth;break;case"column":r=e.style.borderBottomWidth;break;case"column-reverse":r=e.style.borderTopWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function l(e,t){return a(e,t)+c(e,t)}function f(e,t){return s(e,t)+u(e,t)}function d(e,t){return c(e,t)+u(e,t)}function p(e,t){return o(e,t)+i(e,t)}function h(e,t){return l(e,t)+f(e,t)}function v(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}function g(e){return e.style.alignContent?e.style.alignContent:"flex-start"}function y(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function m(e,t){if(t===U){if(e===W)return q;if(e===q)return W}return e}function b(e,t){var n;return n=e.style.direction?e.style.direction:j,n===j&&(n=void 0===t?F:t),n}function _(e){return e.style.flexDirection?e.style.flexDirection:V}function w(e,t){return r(e)?m(W,t):V}function S(e){return e.style.position?e.style.position:"relative"}function k(e){return S(e)===ee&&e.style.flex>0}function C(e){return"wrap"===e.style.flexWrap}function T(e,t){return e.layout[ie[t]]+p(e,t)}function x(e,t){return void 0!==e.style[ie[t]]&&e.style[ie[t]]>=0}function I(e,t){return void 0!==e.style[t]}function E(e){return void 0!==e.style.measure}function P(e,t){return void 0!==e.style[t]?e.style[t]:0}function O(e,t,n){var r={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],o={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],i=n;return void 0!==o&&o>=0&&i>o&&(i=o),void 0!==r&&r>=0&&i<r&&(i=r),i}function A(e,t){return e>t?e:t}function M(e,t){void 0===e.layout[ie[t]]&&x(e,t)&&(e.layout[ie[t]]=A(O(e,t,e.style[ie[t]]),h(e,t)))}function D(e,t,n){t.layout[re[n]]=e.layout[ie[n]]-t.layout[ie[n]]-t.layout[oe[n]]}function R(e,t){return void 0!==e.style[ne[t]]?P(e,ne[t]):-P(e,re[t])}function N(e,r,a){var s=b(e,a),u=m(_(e),s),N=w(u,s),j=m(W,s);M(e,u),M(e,N),e.layout.direction=s,e.layout[ne[u]]+=o(e,u)+R(e,u),e.layout[re[u]]+=i(e,u)+R(e,u),e.layout[ne[N]]+=o(e,N)+R(e,N),e.layout[re[N]]+=i(e,N)+R(e,N);var F=e.children.length,U=h(e,j);if(E(e)){var ae=!t(e.layout[ie[j]]),se=L;se=x(e,j)?e.style.width:ae?e.layout[ie[j]]:r-p(e,j),se-=U;var ce=!x(e,j)&&!ae,ue=!x(e,V)&&t(e.layout[ie[V]]);if(ce||ue){var le=e.style.measure(se);ce&&(e.layout.width=le.width+U),ue&&(e.layout.height=le.height+h(e,V))}if(0===F)return}var fe,de,pe,he,ve=C(e),ge=v(e),ye=l(e,u),me=l(e,N),be=h(e,u),_e=h(e,N),we=!t(e.layout[ie[u]]),Se=!t(e.layout[ie[N]]),ke=n(u),Ce=null,Te=null,xe=L;we&&(xe=e.layout[ie[u]]-be);for(var Ie=0,Ee=0,Pe=0,Oe=0,Ae=0,Me=0;Ee<F;){var De,Re=0,Ne=0,Be=0,Le=0,je=we&&ge===G||!we&&ge!==K,Fe=je?F:Ie,Ue=!0,We=F,qe=null,Ve=null,ze=ye,Ge=0;for(fe=Ie;fe<F;++fe){pe=e.children[fe],pe.lineIndex=Me,pe.nextAbsoluteChild=null,pe.nextFlexChild=null;var Ke=y(e,pe);if(Ke===Z&&S(pe)===ee&&Se&&!x(pe,N))pe.layout[ie[N]]=A(O(pe,N,e.layout[ie[N]]-_e-p(pe,N)),h(pe,N));else if(S(pe)===te)for(null===Ce&&(Ce=pe),null!==Te&&(Te.nextAbsoluteChild=pe),Te=pe,de=0;de<2;de++)he=0!==de?W:V,!t(e.layout[ie[he]])&&!x(pe,he)&&I(pe,ne[he])&&I(pe,re[he])&&(pe.layout[ie[he]]=A(O(pe,he,e.layout[ie[he]]-h(e,he)-p(pe,he)-P(pe,ne[he])-P(pe,re[he])),h(pe,he)));var He=0;if(we&&k(pe)?(Ne++,Be+=pe.style.flex,null===qe&&(qe=pe),null!==Ve&&(Ve.nextFlexChild=pe),Ve=pe,He=h(pe,u)+p(pe,u)):(De=L,ke||(De=x(e,j)?e.layout[ie[j]]-U:r-p(e,j)-U),0===Pe&&B(pe,De,s),S(pe)===ee&&(Le++,He=T(pe,u))),ve&&we&&Re+He>xe&&fe!==Ie){Le--,Pe=1;break}je&&(S(pe)!==ee||k(pe))&&(je=!1,Fe=fe),Ue&&(S(pe)!==ee||Ke!==Z&&Ke!==Y||t(pe.layout[ie[N]]))&&(Ue=!1,We=fe),je&&(pe.layout[oe[u]]+=ze,we&&D(e,pe,u),ze+=T(pe,u),Ge=A(Ge,O(pe,N,T(pe,N)))),Ue&&(pe.layout[oe[N]]+=Oe+me,Se&&D(e,pe,N)),Pe=0,Re+=He,Ee=fe+1}var Je=0,Qe=0,Ye=0;if(Ye=we?xe-Re:A(Re,0)-Re,0!==Ne){var Xe,$e,Ze=Ye/Be;for(Ve=qe;null!==Ve;)Xe=Ze*Ve.style.flex+h(Ve,u),$e=O(Ve,u,Xe),Xe!==$e&&(Ye-=$e,Be-=Ve.style.flex),Ve=Ve.nextFlexChild;for(Ze=Ye/Be,Ze<0&&(Ze=0),Ve=qe;null!==Ve;)Ve.layout[ie[u]]=O(Ve,u,Ze*Ve.style.flex+h(Ve,u)),De=L,x(e,j)?De=e.layout[ie[j]]-U:ke||(De=r-p(e,j)-U),B(Ve,De,s),pe=Ve,Ve=Ve.nextFlexChild,pe.nextFlexChild=null}else ge!==G&&(ge===K?Je=Ye/2:ge===H?Je=Ye:ge===J?(Ye=A(Ye,0),Qe=Ne+Le-1!=0?Ye/(Ne+Le-1):0):ge===Q&&(Qe=Ye/(Ne+Le),Je=Qe/2));for(ze+=Je,fe=Fe;fe<Ee;++fe)pe=e.children[fe],S(pe)===te&&I(pe,ne[u])?pe.layout[oe[u]]=P(pe,ne[u])+c(e,u)+o(pe,u):(pe.layout[oe[u]]+=ze,we&&D(e,pe,u),S(pe)===ee&&(ze+=Qe+T(pe,u),Ge=A(Ge,O(pe,N,T(pe,N)))));var et=e.layout[ie[N]];for(Se||(et=A(O(e,N,Ge+_e),_e)),fe=We;fe<Ee;++fe)if(pe=e.children[fe],S(pe)===te&&I(pe,ne[N]))pe.layout[oe[N]]=P(pe,ne[N])+c(e,N)+o(pe,N);else{var tt=me;if(S(pe)===ee){var Ke=y(e,pe);if(Ke===Z)t(pe.layout[ie[N]])&&(pe.layout[ie[N]]=A(O(pe,N,et-_e-p(pe,N)),h(pe,N)));else if(Ke!==Y){var nt=et-_e-T(pe,N);tt+=Ke===X?nt/2:nt}}pe.layout[oe[N]]+=Oe+tt,Se&&D(e,pe,N)}Oe+=Ge,Ae=A(Ae,ze),Me+=1,Ie=Ee}if(Me>1&&Se){var rt=e.layout[ie[N]]-_e,ot=rt-Oe,it=0,at=me,st=g(e);st===$?at+=ot:st===X?at+=ot/2:st===Z&&rt>Oe&&(it=ot/Me);var ct=0;for(fe=0;fe<Me;++fe){var ut=ct,lt=0;for(de=ut;de<F;++de)if(pe=e.children[de],S(pe)===ee){if(pe.lineIndex!==fe)break;t(pe.layout[ie[N]])||(lt=A(lt,pe.layout[ie[N]]+p(pe,N)))}for(ct=de,lt+=it,de=ut;de<ct;++de)if(pe=e.children[de],S(pe)===ee){var ft=y(e,pe);if(ft===Y)pe.layout[oe[N]]=at+o(pe,N);else if(ft===$)pe.layout[oe[N]]=at+lt-i(pe,N)-pe.layout[ie[N]];else if(ft===X){var dt=pe.layout[ie[N]];pe.layout[oe[N]]=at+(lt-dt)/2}else ft===Z&&(pe.layout[oe[N]]=at+o(pe,N))}at+=lt}}var pt=!1,ht=!1;if(we||(e.layout[ie[u]]=A(O(e,u,Ae+f(e,u)),be),u!==q&&u!==z||(pt=!0)),Se||(e.layout[ie[N]]=A(O(e,N,Oe+_e),_e),N!==q&&N!==z||(ht=!0)),pt||ht)for(fe=0;fe<F;++fe)pe=e.children[fe],pt&&D(e,pe,u),ht&&D(e,pe,N);for(Te=Ce;null!==Te;){for(de=0;de<2;de++)he=0!==de?W:V,!t(e.layout[ie[he]])&&!x(Te,he)&&I(Te,ne[he])&&I(Te,re[he])&&(Te.layout[ie[he]]=A(O(Te,he,e.layout[ie[he]]-d(e,he)-p(Te,he)-P(Te,ne[he])-P(Te,re[he])),h(Te,he))),I(Te,re[he])&&!I(Te,ne[he])&&(Te.layout[ne[he]]=e.layout[ie[he]]-Te.layout[ie[he]]-P(Te,re[he]));pe=Te,Te=Te.nextAbsoluteChild,pe.nextAbsoluteChild=null}}function B(e,t,n){e.shouldUpdate=!0;var r=e.style.direction||F;!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===r?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=r,e.children.forEach(function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0}),N(e,t,n),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}var L,j="inherit",F="ltr",U="rtl",W="row",q="row-reverse",V="column",z="column-reverse",G="flex-start",K="center",H="flex-end",J="space-between",Q="space-around",Y="flex-start",X="center",$="flex-end",Z="stretch",ee="relative",te="absolute",ne={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},re={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},oe={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},ie={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};return{layoutNodeImpl:N,computeLayout:B,fillNodes:e}}();return"object"===a(t)&&(e.exports=n),function(e){n.fillNodes(e),n.computeLayout(e)}})},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function c(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}t=e.exports=n(6),t.log=a,t.formatArgs=i,t.save=s,t.load=c,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(c())}).call(this,n(5))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&p&&(v=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!v){var e=o(a);v=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,v=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],v=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||v||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(u||r);e.diff=o,e.prev=u,e.curr=r,u=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;s++;var o=t.formatters[r];if("function"==typeof o){var a=i[s];n=o.call(e,a),i.splice(s,1),s--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=c,t.disable=a,t.enable=i,t.enabled=s,t.humanize=n(7),t.names=[],t.skips=[],t.formatters={};var u},function(e,t){function n(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,u,"day")||i(e,c,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,u=24*c,l=365.25*u;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){(function(e,r){var o;!function(i){function a(e){throw RangeError(M[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function c(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(A,"."),r+s(e.split("."),t).join(".")}function u(e){for(var t,n,r=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=N(e>>>10&1023|55296),e=56320|1023&e),t+=N(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?R(e/T):e>>1,e+=R(e/t);e>D*k>>1;r+=w)e=R(e/D);return R(r+(D+1)*e/(e+C))}function h(e){var t,n,r,o,i,s,c,u,d,h,v=[],g=e.length,y=0,m=I,b=x;for(n=e.lastIndexOf(E),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&a("not-basic"),v.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(i=y,s=1,c=w;o>=g&&a("invalid-input"),u=f(e.charCodeAt(o++)),(u>=w||u>R((_-y)/s))&&a("overflow"),y+=u*s,d=c<=b?S:c>=b+k?k:c-b,!(u<d);c+=w)h=w-d,s>R(_/h)&&a("overflow"),s*=h;t=v.length+1,b=p(y-i,t,0==i),R(y/t)>_-m&&a("overflow"),m+=R(y/t),y%=t,v.splice(y++,0,m)}return l(v)}function v(e){var t,n,r,o,i,s,c,l,f,h,v,g,y,m,b,C=[];for(e=u(e),g=e.length,t=I,n=0,i=x,s=0;s<g;++s)(v=e[s])<128&&C.push(N(v));for(r=o=C.length,o&&C.push(E);r<g;){for(c=_,s=0;s<g;++s)(v=e[s])>=t&&v<c&&(c=v);for(y=r+1,c-t>R((_-n)/y)&&a("overflow"),n+=(c-t)*y,t=c,s=0;s<g;++s)if(v=e[s],v<t&&++n>_&&a("overflow"),v==t){for(l=n,f=w;h=f<=i?S:f>=i+k?k:f-i,!(l<h);f+=w)b=l-h,m=w-h,C.push(N(d(h+b%m,0))),l=R(b/m);C.push(N(d(l,0))),i=p(n,y,r==o),n=0,++r}++n,++t}return C.join("")}function g(e){return c(e,function(e){return P.test(e)?h(e.slice(4).toLowerCase()):e})}function y(e){return c(e,function(e){return O.test(e)?"xn--"+v(e):e})}var m=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof r&&r);var b,_=2147483647,w=36,S=1,k=26,C=38,T=700,x=72,I=128,E="-",P=/^xn--/,O=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=w-S,R=Math.floor,N=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:u,encode:l},decode:h,encode:v,toASCII:y,toUnicode:g},void 0!==(o=function(){return b}.call(t,n,t,e))&&(e.exports=o)}()}).call(this,n(9)(e),n(10))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){t.decode=t.parse=n(13),t.encode=t.stringify=n(14)},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var f,d,p,h,v=e[l].replace(s,"%20"),g=v.indexOf(n);g>=0?(f=v.substr(0,g),d=v.substr(g+1)):(f=v,d=""),p=decodeURIComponent(f),h=decodeURIComponent(d),r(a,p)?o(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(o(a))+n;return i(e[a])?r(e[a],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[a]))}).join(t):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){function r(){this._events={},this._conf&&o.call(this,this._conf)}function o(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:Sr,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=Sr}function i(e,t){console.warn("[Event] "+e+" listeners of event "+t+" have been added, possibly causing memory leak.")}function a(e){this._events={},this._newListener=!1,this._removeListener=!1,o.call(this,e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){switch(void 0===e?"undefined":Pr(e)){case"function":return""===e.name?"[function anonymous]":"[function "+e.name+"]";case"undefined":return"undefined";default:return e}}function u(e){return e instanceof ArrayBuffer||null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function l(e){if(u(e))return"[ArrayBuffer of length: "+e.byteLength+" bytes]";if(ArrayBuffer.isView(e))return e instanceof DataView?"[DataView of length: "+e.byteLength+" bytes]":"[TypedArray of length: "+e.byteLength+" bytes]";var t={};for(var n in e){var r=e[n];"object"===(void 0===r?"undefined":Pr(r))&&null!==r?t[n]=l(r):t[n]=c(r)}return t}function f(e,t,n){return!0===Ir.karmaTest?e:function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"==e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:n,error:e,extend:t})}}}}function d(e,t,n,r){e.__defineGetter__(n,function(){return"function"==typeof t[n]?f(t[n],"wx."+n,r):t[n]})}function p(e){return"string"==typeof e?e.length:"object"===(void 0===e?"undefined":Pr(e))&&"number"==typeof e.byteLength?e.byteLength:0}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){return!0===Ir.karmaTest?e:function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"==e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function m(e){var t=Object.prototype.toString.call(e).split(" ")[1].split("]")[0];if("Array"==t||"Object"==t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"==t||"Number"==t||"Boolean"==t?e.toString():"Date"==t?e.getTime().toString():"Undefined"==t?"undefined":"Null"==t?"null":"";return{data:e,dataType:t}}function b(e,t){return e="String"==t?e:"Array"==t||"Object"==t?JSON.parse(e):"Number"==t?parseFloat(e):"Boolean"==t?"true"==e:"Date"==t?new Date(parseInt(e)):"Undefined"==t?void 0:"Null"==t?null:""}function _(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parameter",r=_(t),o=_(e);if(o!=r)return n+" should be "+r+" instead of "+o+";";var i="";switch(r){case"Object":for(var a in t)i+=w(e[a],t[a],n+"."+a);break;case"Array":if(e.length<t.length)return n+" should have at least "+t.length+" item;";for(var s=0;s<t.length;++s)i+=w(e[s],t[s],n+"["+s+"]")}return i}function S(e,t){if((!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(t=O(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return S(e,t.substr(2),!1);var n,r,o=t.split("/");for(n=0,r=o.length;n<r&&".."===o[n];n++);o.splice(0,n);var t=o.join("/"),i=e.length>0?e.split("/"):[];return i.splice(i.length-n-1,n+1),i.concat(o).join("/")}function k(e,t){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];;){var r=t.match(/^[-+a-zA-Z0-9]+:\/\//);if(!r)break;var o=r[0];if("plugin://"===o){var i=o.length,a=t.indexOf("/",i);if(a>=0){var s=t.slice(i,a),c=Ir.plugins&&Ir.plugins[s]?Ir.plugins[s].provider:s;t=t.slice(0,i)+c+t.slice(a)}var u=t.indexOf("?");u<0&&(u=t.length);var l=t.slice(0,u),f=exparser.Component._list[l];if(!f)throw new Ur('Page "'+l+'" is not found');t=f.is+t.slice(u)}else{if("plugin-private://"!==o)throw new Ur('Unknown URL protocol "'+o+'"');var d=t.indexOf("?");d<0&&(d=t.length);var p=t.slice(0,d);t="/"+__appServiceEngine__.convertComponentAliasToRoute(p)+t.slice(d)}}return S(e,t,n)}function C(){return"android"===Ir.platform?"android":"devtools"===Ir.platform?"devtools":"ios"}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("object"!==(void 0===e?"undefined":Lr(e)))return e;var n=[];for(var r in e)if(e.hasOwnProperty(r))if(t)try{n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]))}catch(t){n.push(r+"="+e[r])}else n.push(r+"="+e[r]);return n.join("&")}function x(e,t){if("string"==typeof e&&"object"===(void 0===t?"undefined":Lr(t))&&null!==t&&Object.keys(t).length>0){var n=e.split("?");return n[0]+"?"+T(E((n[1]||"").split("&").reduce(function(e,t){if("string"==typeof t&&t.length>0){var n=t.split("="),r=n[0],o=n[1];e[r]=o}return e},{}),Object.keys(t).reduce(function(e,n){return"object"===Lr(t[n])?e[encodeURIComponent(n)]=encodeURIComponent(JSON.stringify(t[n])):e[encodeURIComponent(n)]=encodeURIComponent(t[n]),e},{})))}return e}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http";return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function E(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){for(var n in t)e[n]=t[n];return e},{})}function P(e){if("string"==typeof e){var t=e.split("?"),n=t[0],r=(t[1]||"").split("&").reduce(function(e,t){if("string"==typeof t&&t.length>0){var n=t.split("="),r=n[0],o=n[1];e[r]=o}return e},{}),o=[];for(var i in r)r.hasOwnProperty(i)&&o.push(i+"="+encodeURIComponent(r[i]));return o.length>0?n+"?"+o.join("&"):e}return e}function O(e){if("string"!=typeof e)return e;var t=e.split("?")[0],n=e.split("?")[1];return t+=".html",void 0!==n?t+"?"+n:t}function A(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}function M(e,t){for(var n in t)e[n]=t[n];return e}function D(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return Vr(t)}function R(e){for(var t=zr(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer}function N(e){return Object.keys(e).reduce(function(t,n){return"string"==typeof e[n]?t[n]=e[n]:"number"==typeof e[n]?t[n]=e[n]+"":t[n]=Object.prototype.toString.apply(e[n]),t},{})}function B(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function L(e,t,n){"background"===Jr.runningStatus&&-1!==Kr.indexOf(e)?n({errMsg:e+":fail can not be invoked in background running status"}):"active"!==Jr.runningStatus&&-1!==Hr.indexOf(e)?n({errMsg:e+":fail can only be invokeed in acitve running status"}):__safeway__.bridge.invoke(e,t,n)}function j(e,t){__safeway__.bridge.on(e,t)}function F(e,t,n){var r={data:t,options:{timestamp:Date.now()}};__safeway__.bridge.publish(e,r,n)}function U(e,t){var n=function(e,n){var r=e.data,o=e.options,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o&&o.timestamp||0,s=Date.now();"function"==typeof t&&t(r,n),Reporter.speedReport({key:"webview2AppService",data:r||{},timeMark:{startTime:a,endTime:s,nativeTime:i.nativeTime||0}})};__safeway__.bridge.subscribe(e,n)}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=E({},t);var r={};for(var o in t)"function"==typeof t[o]&&(!0===Ir.karmaTest?r[o]=t[o]:r[o]=Reporter.surroundThirdByTryCatch(t[o],"at api "+e+" "+o+" callback function"),delete t[o]);var i={};for(var a in n)"function"==typeof n[a]&&(i[a]=y(n[a],"at api "+e+" "+a+" callback function"),i[a]._argumentsLength=n[a].length);L(e,t,function(t){t.errMsg=t.errMsg||e+":ok";var n=0===t.errMsg.indexOf(e+":ok"),o=0===t.errMsg.indexOf(e+":cancel"),a=0===t.errMsg.indexOf(e+":fail");if("function"==typeof i.beforeAll&&i.beforeAll(t),n){var s=function(){"function"==typeof r.success&&r.success(t),"function"==typeof i.afterSuccess&&i.afterSuccess(t)};"function"==typeof i.beforeSuccess?2===i.beforeSuccess._argumentsLength?i.beforeSuccess(t,s):(i.beforeSuccess(t),s()):s()}else if(o)t.errMsg=t.errMsg.replace(e+":cancel",e+":fail cancel"),"function"==typeof r.fail&&r.fail(t),"function"==typeof i.beforeCancel&&i.beforeCancel(t),"function"==typeof r.cancel&&r.cancel(t),"function"==typeof i.afterCancel&&i.afterCancel(t);else if(a){"function"==typeof i.beforeFail&&i.beforeFail(t),"function"==typeof r.fail&&r.fail(t);var c=!0;"function"==typeof i.afterFail&&(c=i.afterFail(t)),!1!==c&&Reporter.reportIDKey({key:e+"_fail"})}"function"==typeof r.complete&&r.complete(t),"function"==typeof i.afterAll&&i.afterAll(t),no(e,n,a,o,t.errMsg)}),Reporter.reportIDKey({key:e})}function q(e,t){j(e,y(t,"at api "+e+" callback function"))}function V(){}function z(e,t,n){var r=w(t,n);return!r||(G(e,t,"parameter error: "+r),!1)}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments[3],o=e+":fail "+n;console.error(o);var i=Reporter.surroundThirdByTryCatch(t.fail||V,"at api "+e+" fail callback function"),a=Reporter.surroundThirdByTryCatch(t.complete||V,"at api "+e+" complete callback function"),s={errMsg:o};"number"==typeof r&&(s.errCode=r),i(s),a(s)}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=n?e+":ok":e+":fail "+r;n||console.error(a);var s=Reporter.surroundThirdByTryCatch((n?t.success:t.fail)||V,"at api "+e+" "+(n?"success":"fail")+" callback function"),c=Reporter.surroundThirdByTryCatch(t.complete||V,"at api "+e+" complete callback function");i.errMsg=a,"number"==typeof o&&(i.errCode=o),s(i),c(i)}function H(e,t,n){var r=t.replace(/\.html\?.*|\.html$/,"");return!!__appServiceEngine__.hasPageRoute(r)||(G(e,n,'page "'+A(t)+'" is not found'),!1)}function J(e,t){var n=po(e,"ui");if(n>0&&ho)return!1;if(n>=20)if("undefined"==typeof __appServiceEngine__){if(t)return!1}else{var r=__appServiceEngine__.getCurrentRoute()||"";if(/^\/?__wx__\//.test(r))return!1;var o=r.match(/(?:^|\/)__plugin__\/(.*?)\//),i=o?o[1]:"";if(i!==t&&n>=30)return!1}return!0}function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};return function(a){n=o(a),W("operateWXData",Object.assign({},a,{data:Object.assign({api_name:t},r,n?{data:n}:void 0)}),{beforeAll:function(t){t.errMsg=t.errMsg.replace("operateWXData",e)},beforeSuccess:function(e){if("android"===C()&&(e.data=JSON.parse(e.data)),e.data.data){e.rawData=e.data.data;var t=JSON.parse(e.data.data);e=Object.assign(e,t)}e.data.signature&&(e.signature=e.data.signature),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),delete e.data,e=i(e)}})
}}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(){var e=this,t=Ao.get(this);Oo.set(this,"sending"),Mo.set(this,Date.now());var n=void 0;W("createRequestTask",{data:t.data,url:t.url,header:t.header,method:t.method,responseType:t.responseType,__skipDomainCheck__:t.__skipDomainCheck__,success:function(t){Po.set(e,t.requestTaskId),Do+=1,No[t.requestTaskId]=e},fail:function(r){n=r.errMsg;var o=t.url,i=Date.now()-Mo.get(e),a=t.__skipDomainCheck__;ko("request",o,2,i,n,"",a)},complete:function(t){Oo.set(e,"done")}}),n?setTimeout(function(){var e={errMsg:n.replace("createRequestTask","request")};"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)},0):(Bo.on(Po.get(this)+"success",function(e){if(e.errMsg="request:ok","string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1)),"json"===t.dataType)try{e.data=JSON.parse(e.data)}catch(e){}e.statusCode=parseInt(e.statusCode),"object"===To(e.header)&&(e.header=Object.keys(e.header).reduce(function(t,n){return Array.isArray(e.header[n])?t[n]=e.header[n].join(","):"string"==typeof e.header[n]&&(t[n]=e.header[n]),t},{})),"function"==typeof t.success&&t.success(e),"function"==typeof t.complete&&t.complete(e)}),Bo.on(Po.get(this)+"fail",function(e){e.errMsg="request:fail "+e.errMsg,"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)}))}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(){var e=this,t=Qo.get(this);Jo.set(this,"sending"),Yo.set(this,Date.now());var n=void 0;W("createDownloadTask",{url:t.url,header:t.header,filePath:t.filePath,__skipDomainCheck__:t.__skipDomainCheck__,success:function(t){Ho.set(e,t.downloadTaskId),Xo+=1,Zo[t.downloadTaskId]=e},fail:function(r){n=r.errMsg;var o=t.url,i=Date.now()-Yo.get(e),a=t.__skipDomainCheck__;ko("downloadFile",o,2,i,n,"",a)},complete:function(e){Jo.set(this,"done")}}),n?setTimeout(function(){var e={errMsg:n.replace("createDownloadTask","downloadFile")};"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)},0):(ei.on(Ho.get(this)+"success",function(e){e.errMsg="downloadFile:ok",e.statusCode=parseInt(e.statusCode),-1===[200,304].indexOf(e.statusCode)&&delete e.tempPath,delete e.timeInterval,"function"==typeof t.success&&t.success(e),"function"==typeof t.complete&&t.complete(e)}),ei.on(Ho.get(this)+"fail",function(e){e.errMsg="downloadFile:fail "+e.errMsg,"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)}))}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){return Oi[t]||(Oi[t]=new WeakMap,Ti.on("onSocket"+t,re(t))),function(n){z("onSocket"+t,n,V)&&Oi[t].set(e,n)}}function re(e){return function(t,n){var r=n.__socketInstance__,o=Oi[e].get(r),i=Pi.get(r);o&&n===i&&Reporter.surroundThirdByTryCatch(o,"at onSocket"+e+" callback function")(t)}}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ae(e){var t=this,n=e.success,r=e.fail,o=e.complete;W("addDownloadTask",Object.assign(e,{success:function(e){delete e.errMsg,t.taskId=e.downloadId,ji.on(t.taskId+":success",function(e){e.errMsg="downloadApp:ok","function"==typeof n&&n(e),"function"==typeof o&&o(e)}),ji.on(t.taskId+":fail",function(e){e.errMsg="downloadFile:fail "+e.errMsg,"function"==typeof r&&r(e),"function"==typeof o&&o(e)});var i=Li.get(t)||[];Bi.set(t,"ready"),i.forEach(function(e){se.call.apply(se,[t,e[0]].concat(ie(e[1])))}),ji.emit(t.taskId+":created",e)},fail:function(e){"function"==typeof r&&r(e),"function"==typeof o&&o(e)},complete:function(){Li.set(t,[])}}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("addDownloadTask","downloadApp")}})}function se(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("ready"!==Bi.get(this)){var o=Li.get(this)||[];return o.push([e,n]),void Li.set(this,o)}switch(e){case"cancel":W("cancelDownloadTask",{downloadIdArray:[this.taskId]});break;case"onProgressUpdate":ji.on(this.taskId+":progressUpdate",function(e){"function"==typeof n[0]&&Reporter.surroundThirdByTryCatch(n[0],"at DownloadAppTask.onProgressUpdate callback function")(e)});break;case"onCreated":ji.on(this.taskId+":created",function(e){"function"==typeof n[0]&&Reporter.surroundThirdByTryCatch(n[0],"at DownloadAppTask.onCreated callback function")(e)});break;default:W(e+"DownloadTask",{downloadId:this.taskId})}}function ce(){if("devtools"!==C())try{var e=[];L("readdirSync",{dirPath:oa},function(t){t.files&&(e=t.files)});var t=new RegExp("^"+oa),n=new RegExp("^"+oa);return e.filter(function(e){return t.test(e)}).map(function(e){return n.test(e)?e:""+oa+e})}catch(e){return[]}}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){return"function"!=typeof t?(console.error("on"+e+" should accept a function instead of "+(void 0===t?"undefined":Wa(t))),null):Reporter.surroundThirdByTryCatch(t,"at api on"+e+" callback function")}function fe(e,t){return!t||"function"==typeof t||(console.error("off"+e+" should accept a function instead of "+(void 0===t?"undefined":Wa(t))),!1)}function de(e){if(e=e[0].toUpperCase()+e.slice(1),!za[e]){var t=new WeakMap;za[e]={getGlobalListeners:function(){return qa.listeners(e)},getInternalListeners:function(){return Va.listeners(e)},emit:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];Va.emit.apply(Va,[e].concat(n)),qa.emit.apply(qa,[e].concat(n))},emitGlobal:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];qa.emit.apply(qa,[e].concat(n))},emitInternal:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];Va.emit.apply(Va,[e].concat(n))},internalOnMethod:function(t){"function"==typeof t&&Va.on(e,t)},internalOffMethod:function(t){"function"==typeof t&&Va.off(e,t)},onMethod:function(n){var r=le(e,n);r&&(t.set(n,r),qa.on(e,r))},offMethod:function(n){if(fe(e,n))if(n){if(t.has(n)){var r=t.get(n);t.delete(n),qa.off(e,r)}}else t=new WeakMap,qa.removeAllListeners(e)}}}return za[e]}function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:Jr.query)||{},e.path=A(t?e.path:Jr.lastRoute),e.referrerInfo=e.referrerInfo||{},t||(1044!==e.scene||e.shareInfo||(e.shareInfo=$a.appLaunchShareInfo),1044===e.scene?Jr.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:Jr.lastShareInfo=void 0),$a.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||($a.appId=e.referrerInfo.appId),"object"===es(e.shareInfo)&&null!==e.shareInfo){var n=e.shareInfo;n.shareKey&&n.shareName&&(e.shareTicket=$a.ShareInfoStorage.set(n.shareKey,n.shareName),$a.ShareInfoStorage.lastShareTicket=e.shareTicket),delete e.shareInfo}return e}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};0===e.scene?e.scene=ts:ts=e.scene;var t=e.scene;return 1103===t?t=1001:1104===t&&(t=1089),{path:e.path,query:e.query,scene:t,shareTicket:e.shareTicket,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}}}function ve(e){e=pe(e,!1),e.__public=he(e),os=e,ns.emit(e)}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="canvas_"+e+"_"+t+"_"+n+"_";return r&&r!==__virtualDOM__.getRootNodeId(e)&&(o+=r),o}function ye(e){var t=[],n=1;return U(e,function(e){t.forEach(function(t){var n=t[0],r=t[1];n.cid===e.cid&&n.canvasId===e.canvasId&&r(e)}),t=[]}),function(e,r){e.cid=n++,t.push([e,r])}}function me(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return window.__global.btoa(t)}function be(e){for(var t=window.atob(e),n=t.length,r=new Uint8ClampedArray(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e){return"number"==typeof e}function Se(e){var t=null;if(null!=(t=/^#([0-9|A-F|a-f]{6})$/.exec(e))){var n=parseInt(t[1].slice(0,2),16),r=parseInt(t[1].slice(2,4),16),o=parseInt(t[1].slice(4),16);return[n,r,o,255]}if(null!=(t=/^#([0-9|A-F|a-f]{3})$/.exec(e))){var n=t[1].slice(0,1),r=t[1].slice(1,2),o=t[1].slice(2,3);return n=parseInt(n+n,16),r=parseInt(r+r,16),o=parseInt(o+o,16),[n,r,o,255]}if(null!=(t=/^rgb\((.+)\)$/.exec(e)))return t[1].split(",").map(function(e){return Math.min(255,parseInt(e.trim()))}).concat(255);if(null!=(t=/^rgba\((.+)\)$/.exec(e)))return t[1].split(",").map(function(e,t){return 3==t?Math.floor(255*parseFloat(e.trim())):Math.min(255,parseInt(e.trim()))});var i=e.toLowerCase();if(ds.hasOwnProperty(i)){t=/^#([0-9|A-F|a-f]{6,8})$/.exec(ds[i]);var n=parseInt(t[1].slice(0,2),16),r=parseInt(t[1].slice(2,4),16),o=parseInt(t[1].slice(4,6),16),a=parseInt(t[1].slice(6,8),16);return a=a>=0?a:255,[n,r,o,a]}return console.group("非法颜色: "+e),console.error("不支持颜色："+e),console.groupEnd(),[0,0,0,255]}function ke(e){if(Array.isArray(e)){var t=[];return e.forEach(function(e){t.push(ke(e))}),t}if("object"==(void 0===e?"undefined":hs(e))){var t={};for(var n in e)t[n]=ke(e[n]);return t}return e}function Ce(e,t,n){"string"==typeof n?e.actions.push({method:t,data:["normal",Se(n)]}):"object"==(void 0===n?"undefined":hs(n))&&n instanceof ws?e.actions.push({method:t,data:[n.type,n.data,n.colorStop]}):n instanceof ks&&e.actions.push({method:t,data:["pattern",n.image,n.repetition]})}function Te(e,t){if("devtools"!==ms&&!/wxfile:\/\//.test(t))if(e.pluginId||e.nodeId){var n=e.pluginId.split("/")[0],r=__virtualDOM__.getNodeById(e.nodeId,e.webviewId),o=r&&r.is||"";t=n?"__plugin__/"+n+"/"+S(o,t,!1).replace(/\.html$/,""):S(o,t,!1).replace(/\.html$/,"")}else t=S(Jr.lastRoute,t,!1).replace(/.html$/,"");return t}function xe(){for(var e in Ms)e.indexOf("canvas_"+Jr.currentWebviewId+"_")>-1&&delete Ms[e]}function Ie(e,t,n){var r={errMsg:e+": "+(n||"fail canvas is empty")},o=Reporter.surroundThirdByTryCatch(t.fail||Ps,"at api "+e+" fail callback function"),i=Reporter.surroundThirdByTryCatch(t.complete||Ps,"at api "+e+" complete callback function");o(r),i(r)}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=C(),o=ge(Jr.currentWebviewId,e.canvasId,n,t),i=E({},e);if("number"==typeof Ms[o]){if(i.canvasId=Ms[o],i.jsInvokedAt=Date.now(),i.x=Number(i.x)||0,i.y=Number(i.y)||0,i.width=Number(i.width)||0,i.height=Number(i.height)||0,0===i.width)return void Ie("canvasGetImageData",e,"the source width is 0");if(0===i.height)return void Ie("canvasGetImageData",e,"the source height is 0");if("ios"===r||"android"===r){var a=i.success,s=i.fail;i.success=function(e){"[object ArrayBuffer]"===Object.prototype.toString.call(e.data)?(e.width=i.width,e.height=i.height,e.data=new Uint8ClampedArray(e.data),"function"==typeof a&&a(e)):(delete e.data,e.errMsg="canvasGetImageData: fail","function"==typeof s&&s(e))},W("canvasGetImageData",i)}else i.method="getImageData",js(i,function(t){var n={width:t.width,height:t.height,data:be(t.data)};"function"==typeof e.success&&e.success(n),"function"==typeof e.complete&&e.complete(n)}),F("invokeCanvasMethod",i)}else Ie("canvasGetImageData",e)}function Pe(e,t){Ee(e,t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(Jr.currentWebviewId)?t.__wxExparserNodeId__:"")}function Oe(e,t,n){Ee(e,n,t)}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=C(),o=ge(Jr.currentWebviewId,e.canvasId,n,t),i=E({},e);return"number"!=typeof i.width?void Ie("canvasPutImageData",e,"invalid width argument"):i.data&&"[object Uint8ClampedArray]"===Object.prototype.toString.call(i.data)?void("number"==typeof Ms[o]?(i.canvasId=Ms[o],i.jsInvokedAt=Date.now(),i.x=Number(i.x)||0,i.y=Number(i.y)||0,i.height="number"==typeof i.height?i.height:i.data.length/i.width/4|0,"ios"===r||"android"===r?(i.data=i.data.buffer,W("canvasPutImageData",i)):(i.data=me(i.data),i.method="putImageData",F("invokeCanvasMethod",i),"function"==typeof e.success&&e.success({errMsg:"canvasPutImageData:ok"}),"function"==typeof e.complete&&e.complete({errMsg:"canvasPutImageData:ok"}))):Ie("canvasPutImageData",e)):void Ie("canvasPutImageData",e,"data argument must be an Uint8ClampedArray")}function Me(e,t){Ae(e,t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(Jr.currentWebviewId)?t.__wxExparserNodeId__:"")}function De(e,t,n){Ae(e,n,t)}function Re(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments[3],o=arguments[4],i=arguments[5],a=arguments[6],s=C();if("ios"==s||"android"==s)W("drawCanvas",{canvasId:e,reserve:n,useHardwareAccelerate:r,actions:t,success:o,fail:i,complete:a});else{var c={actions:t,reserve:n,canvasId:e};Fs(c,function(e){"function"==typeof a&&a({errMsg:e.errMsg})}),F("canvasActionsChanged",c)}}function Ne(e){var t=e.isWidgetCanvas,n=e.canvasId,r=e.actions,o=e.reserve,i=e.useHardwareAccelerate,a=e.success,s=e.fail,c=e.complete,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jr.currentWebviewId,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",d=Ls();if(Array.isArray(r)){if(t){if(d-Rs<Bs){var p={errMsg:"drawCanvas:fail 调用 draw 过于频繁。"};return Ns+=1,Ns>500&&(Ns=0,console.warn(p.errMsg)),void("function"==typeof s&&s(p))}return Rs=d,void W("drawCanvas",{canvasId:v,reserve:o,actions:r,success:a,fail:s,complete:c})}if(n){var h=ge(u,n,l,f);if("number"==typeof Ms[h]){var v=Ms[h];Re(v,r,o,i,a,s,c)}else Ds[h]=Ds[h]||[],Ds[h]=Ds[h].concat({actions:r,reserve:o,useHardwareAccelerate:i,success:a,fail:s,complete:c})}}}function Be(e){Ne(e)}function Le(e,t,n){Ne(e,Jr.currentWebviewId,t,n)}function je(e){var t=C();e.fileType=["jpg","png"].indexOf(e.fileType)>-1?e.fileType:"png",e.quality="jpg"===e.fileType?e.quality<0||e.quality>1?1:e.quality:1,e.jpgQuality=e.quality,"ios"===t||"android"===t?Us?Vs(Us,e):(Us=Is(),Vs(Us,e)):(e.method="toDataURL",js(e,function(t){W("base64ToTempFilePath",E({base64Data:t.dataUrl},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("base64ToTempFilePath","canvasToTempFilePath")}})}),F("invokeCanvasMethod",e))}function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e.canvasId){var r=ge(Jr.currentWebviewId,e.canvasId,n,t);"number"==typeof Ms[r]?(e.canvasId=Ms[r],je(e)):Ie("canvasToTempFilePath",e)}}function Ue(e,t){Fe(e,t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(Jr.currentWebviewId)?t.__wxExparserNodeId__:"")}function We(e,t,n){Fe(e,n,t)}function qe(e){var t=C();"ios"===t||"android"===t?W("canvasToData",e):(e.method="toDataURL",js(e,function(t){var n=t.dataUrl;e.success({data:n})}),F("invokeCanvasMethod",e))}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ge(Jr.currentWebviewId,e.canvasId),n=Object.assign({},e),r=n.success,o=n.complete;n.success=function(e){var t="data:image/"+(n.fileType||"png"),i=t+";base64,"+e.data;"function"==typeof r&&r({dataURL:i}),"function"==typeof o&&o({dataURL:i})},n.complete=Ps,"number"==typeof Ms[t]?(n.canvasId=Ms[t],qe(n)):Ie("canvasToDataURL",e)}function ze(e){if("appLaunch"===e.openType){var t=us();$s.emitInternal(t),$s.emitGlobal(t.__public),Xs(ze)}}function Ge(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var o=n[r].split("=");if(o.length>1)try{t[o[0]]=decodeURIComponent(o[1])}catch(e){}}return t}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e){var t=[];for(var n in e)ac.indexOf(n)>=0&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)),t.join("; ")}function Je(e){var t={SSID:e.wifi.SSID,BSSID:e.wifi.BSSID,confidence:"none"};if("function"==typeof Xu){var n=void 0;try{n=Xu(e)||{}}finally{$u.find(function(e){return e===n.confidence})&&(t.confidence=n.confidence),W("evaluateWifi",t,{})}}}function Qe(e){W("operateBackgroundAudio",e)}function Ye(e,t){if(!1!==Jr.possessingBackgroundAudioPlayer){var n=El[e];return W("getBackgroundAudioState",{success:function(r){void 0===r.paused||1==r.paused?r.paused=!0:r.paused=!1,El=E(El,r),n=El[e],"function"==typeof t&&t(n)},fail:function(e){e.errMsg},complete:function(e){}}),n}}function Xe(e,t){if("src"===e&&!t)throw new Error("invalid wx.backgroundAudio.src: "+t);if("active"!==Jr.runningStatus&&!1===Jr.possessingBackgroundAudioPlayer)throw new Ur("Can not set wx.backgroundAudio."+e+", background audio is preempted.");Ol[e]=t,1===Object.keys(Ol).length&&setTimeout(function(){var e=E({},Ol);if(Ol.src)Ol=E({},El,Ol);else{var t={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0},n=!0;for(var r in El)if(El[r]!=t[r]){n=!1;break}if(El=E({},El,e),n)return void(Ol={})}W("setBackgroundAudioState",E({},Ol,{success:function(){El=E({},El,e)},fail:function(e){var t=e.errMsg;throw new Error(t.replace(/^setBackgroundAudioState: fail /,""))},complete:function(e){}})),Ol={}},0)}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e){for(var t=0;t<qf.length;t++)qf[t](e)}function tt(){setTimeout(function(){Yf(fd(1));for(var e=2;e<=nd+1;e++)Hf(fd(e),fd(e-1));ad.lastLogNum=nd+1,ld[ad.lastLogNum]=!1,ad.lastLogSize=0,cd=!1},50)}function nt(){id&&clearTimeout(id),id=setTimeout(function(){vd(),id=null,nt()},rd)}function rt(){return gd}function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.index||e.index>ad.lastLogNum)return void(e.complete&&e.complete());var t=Qf(fd(e.index),"utf8");yd(t.errMsg.indexOf("readFileSync:ok")>=0&&t.data?{webviewId:e.webviewId,data:{type:"uploadUserLogContent",content:t.data,index:e.index,total:ad.lastLogNum},success:function(){yd({webviewId:e.webviewId,data:{type:"uploadUserLogProgress",progress:parseFloat(e.index/ad.lastLogNum)}}),e.index++,ot(e)},fail:function(t){e.retry?yd({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:t&&t.errMsg,index:e.index}}):(e.retry=!0,ot(e))}}:{webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:t.errMsg,index:e.index}})}function it(){var e=new bd;return e.width=1,e.height=1,e}function at(e){var t={};return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);if("function"==typeof r.value){var o=e[n];return void(t[n]=function(){return o.apply(this,arguments)})}if(r.get||r.set)return void Object.defineProperty(t,n,{get:function(){if(r.get)return r.get.call(this)},set:function(e){r.set&&r.set.call(this,e)}});Object.defineProperty(t,n,r)}),t}function st(){return Object.keys(kd).forEach(function(e){if(!kd[e]){var t=it(),n=t.getContext("2d");if("Canvas"===e)kd[e]=Object.getPrototypeOf(t);else if("Image"===e)kd[e]=Object.getPrototypeOf(new _d);else if("CanvasRenderingContext2D"===e)kd[e]=Object.getPrototypeOf(n);else if("CanvasPattern"===e){var r=n.createPattern(t,"repeat");kd[e]=Object.getPrototypeOf(r)}else if("CanvasGradient"===e){var o=n.createLinearGradient(0,0,100,100);kd[e]=Object.getPrototypeOf(o)}else if("ImageData"===e){var i=n.getImageData(0,0,10,10);kd[e]=Object.getPrototypeOf(i)}else if("TextMetrics"===e){var a=n.measureText("123");kd[e]=Object.getPrototypeOf(a)}}}),kd}function ct(e,t){var n=e[t];e[t]=function(){var e=this;"getImageData"===t&&(e=Cd.get(this));var r=Ad(e),o=(r.canvasId,r.secure);return r.inner||!o?n.apply(this,arguments):(console.warn("An secure canvas can't invoke "+t+" When using subcontext"),"getImageData"===t?{width:0,height:0,data:new Uint8ClampedArray(0)}:"")}}function ut(e,t){var n=e[t];e[t]=function(){var e=arguments[0];/Image2D/.test(t)&&(e=arguments[arguments.length-1]);var r=Ad(e);if(!r)return n.apply(this,arguments);var o=(r.canvasId,r.secure),i=Ad(this.canvas),a=(i.canvasId,i.secure);return i.inner||!o?n.apply(this,arguments):a?n.apply(this,arguments):void console.warn("An unsecure canvas can't take an secure canvas as arugment of "+t+" When using subcontext")}}function lt(e){e.query||(e.query={}),1022===e.scene&&(e.query={}),Sp.emit(e)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ht(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function yt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function kt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(){return new Promise(function(e,t){Lv?e(Lv):jv({success:function(t){Lv={openId:t.openID,appId:t.appId},e(Lv)},fail:function(e){t(e.errMsg)}})})}function Pt(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Ot(e){var t=[];return"subscribe"===e.mode?t=["product_id","service_code","service_name","buy_quantity","aid","provide_uin"]:"game"===e.mode?t=["buy_quantity","zoneid","provide_uin"]:"pcGame"===e.mode?t=["buy_quantity","zoneid","provide_uin"]:"goods"===e.mode?t=["buy_quantity","zoneid","goodstokenurl"]:"enterprise"===e.mode&&(t=["zoneid","goodstokenurl"]),[].concat(Uv,Pt(t)).reduce(function(t,n){return t[n]=e[Fv[n]],t},{})}function At(e,t){return Object.prototype.toString.call(t).match(/\s(\w+)/)[1].toLowerCase()===e}function Mt(e){return!!e&&At("object",e)}function Dt(e,t){if(!Mt(e)||!Mt(t))throw new Error("destination and source must be type of object");for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.data,e.success,e.fail,e.complete;console.warn("wx.gameLoginReport 已经废弃")}function Nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.data,e.success,e.fail,e.complete;console.warn("wx.gameLogoutReport 已经废弃")}function Bt(e){if(Array.isArray(e)&&e.some(function(e){return"string"!=typeof e||0===e.length}))return"invalid keyList"}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(){var e={};return e.toString=function(){return"9999"},e}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){if(!e)return"";if(!t)return e;var n=e.split("#"),r=n[0].indexOf("?")>-1?"&":"?",o="",i=Object.keys(t);if(i.length>0){for(var a=0;a<i.length;a++)o=o.concat(i[a]+"="+t[i[a]]+"&");return o.length>0&&(o=o.substring(0,o.length-1)),n[0]+r+o+(n[1]?"#"+n[1]:"")}return e}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ht(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Yt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function en(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function rn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function cn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function fn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e){Bw[e]||(Bw[e]=!0,O_(e,function(e){delete Bw[e],Object.keys(Dw).forEach(function(t){new RegExp("^"+e).test(t)&&(delete Rw[e+"_"+Dw[t]],delete Dw[t])})}))}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _n(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new Xw(t,r)}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e){rS[e]||(rS[e]=!0,O_(e,function(e){delete rS[e],Object.keys(eS).forEach(function(t){new RegExp("^"+e).test(t)&&(delete tS[e+"_"+eS[t]],delete eS[t])}),Tn(e)}))}function kn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=new iS(e,t,n,r);return o._getAppStatus=function(){return Jr.appStatus},o._getHanged=function(){return Jr.hanged},o}function Cn(e){var t=sS[e];if(sS[e]=[],t)for(var n=0;n<t.length;n++){var r=t[n];xn(r[0],r[1],r[2])}}function Tn(e){delete sS[e]}function xn(e,t,n){var r=tS[n+"_"+t.livePlayerId],o=aS[e];if(!r)return sS[n]=sS[n]||[],void sS[n].push([e,t,n]);if(r.handlers[o]&&"function"==typeof Jr.webviewEventCallback){var i={};switch(e){case"onLivePlayerEvent":i.code=t.errCode,i.message=t.errMsg;break;case"onLivePlayerNetStatus":t.info=t.info||{},i.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT}}Jr.webviewEventCallback({
data:{type:o.replace("bind",""),target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:i},eventName:r.handlers[o],webviewId:n,nodeId:r.nodeId})}}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e){dS[e]||(dS[e]=!0,O_(e,function(e){delete dS[e],Object.keys(uS).forEach(function(t){new RegExp("^"+e).test(t)&&(delete lS[e+"_"+uS[t]],delete uS[t])}),An(e)}))}function Pn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new pS(t,r)}function On(e){var t=vS[e];if(vS[e]=[],t)for(var n=0;n<t.length;n++){var r=t[n];Mn(r[0],r[1],r[2])}}function An(e){delete vS[e]}function Mn(e,t,n){var r=lS[n+"_"+t.livePusherId],o=hS[e];if(!r)return vS[n]=vS[n]||[],void vS[n].push([e,t,n]);if(r.handlers[o]&&"function"==typeof Jr.webviewEventCallback){var i={};switch(e){case"onLivePusherEvent":i.code=t.errCode,i.message=t.errMsg;break;case"onLivePusherNetStatus":t.info=t.info||{},i.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT}}Jr.webviewEventCallback({data:{type:o.replace("bind",""),target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:i},eventName:r.handlers[o],webviewId:n,nodeId:r.nodeId})}}function Dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rn(e){wS[e]||(wS[e]=!0,O_(e,function(e){delete wS[e],Object.keys(bS).forEach(function(t){new RegExp("^"+e).test(t)&&delete bS[t]})}))}function Nn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=new kS(e,t,n,r);return o._getAppStatus=function(){return Jr.appStatus},o._getHanged=function(){return Jr.hanged},Ka.call(this,function(){o.pause()}),o}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ln(e){IS[e]||(IS[e]=!0,O_(e,function(e){delete IS[e],Object.keys(TS).forEach(function(t){new RegExp("^"+e).test(t)&&delete TS[t]})}))}function jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=new ES(e,t,n,r);return o._getAppStatus=function(){return Jr.appStatus},o._getHanged=function(){return Jr.hanged},Ka.call(this,function(){o.pause()}),o}function Fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Un(e,t){return qS[t]||(qS[t]=VS(t)),new qS[t](e)}function Wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t,n){return QS[n]||(QS[n]=YS(n)),new QS[n](e,t)}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zn={};n.r(zn),n.d(zn,"getNetworkType",function(){return yo}),n.d(zn,"onNetworkStatusChange",function(){return mo}),n.d(zn,"_getCurrentNetworkType",function(){return bo});var Gn={};n.r(Gn),n.d(Gn,"getSystemInfo",function(){return xs}),n.d(Gn,"getSystemInfoSync",function(){return Is}),n.d(Gn,"getStaticSystemInfoSync",function(){return Es});var Kn={};n.r(Kn),n.d(Kn,"requestPayment",function(){return fc}),n.d(Kn,"verifyPaymentPassword",function(){return dc}),n.d(Kn,"bindPaymentCard",function(){return pc}),n.d(Kn,"requestPaymentToBank",function(){return hc}),n.d(Kn,"requestVirtualPayment",function(){return vc}),n.d(Kn,"openOfflinePayView",function(){return gc}),n.d(Kn,"openWCPayCardList",function(){return yc}),n.d(Kn,"requestMallPayment",function(){return mc});var Hn={};n.r(Hn),n.d(Hn,"ShareInfoStorage",function(){return Qa}),n.d(Hn,"getShareInfo",function(){return bc}),n.d(Hn,"showShareMenu",function(){return _c}),n.d(Hn,"hideShareMenu",function(){return wc}),n.d(Hn,"updateShareMenu",function(){return Sc}),n.d(Hn,"showUpdatableMessageSubscribeButton",function(){return kc});var Jn={};n.r(Jn),n.d(Jn,"openGoldenRedPacketDetail",function(){return Cc}),n.d(Jn,"sendGoldenRedPacket",function(){return Tc}),n.d(Jn,"sendBizRedPacket",function(){return xc}),n.d(Jn,"sendRedPacket",function(){return Ic}),n.d(Jn,"openRedPacket",function(){return Ec});var Qn={};n.r(Qn),n.d(Qn,"getBatteryInfo",function(){return Yc}),n.d(Qn,"getBatteryInfoSync",function(){return Xc});var Yn={};n.r(Yn),n.d(Yn,"startAccelerometer",function(){return eu}),n.d(Yn,"stopAccelerometer",function(){return tu}),n.d(Yn,"onAccelerometerChange",function(){return nu});var Xn={};n.r(Xn),n.d(Xn,"startCompass",function(){return iu}),n.d(Xn,"stopCompass",function(){return au}),n.d(Xn,"onCompassChange",function(){return su});var $n={};n.r($n),n.d($n,"makePhoneCall",function(){return cu}),n.d($n,"makeVoIPCall",function(){return uu});var Zn={};n.r(Zn),n.d(Zn,"scanCode",function(){return lu}),n.d(Zn,"openQRCode",function(){return fu});var er={};n.r(er),n.d(er,"getClipboardData",function(){return hu}),n.d(er,"setClipboardData",function(){return vu});var tr={};n.r(tr),n.d(tr,"startBeaconDiscovery",function(){return gu}),n.d(tr,"stopBeaconDiscovery",function(){return yu}),n.d(tr,"getBeacons",function(){return mu}),n.d(tr,"onBeaconUpdate",function(){return bu}),n.d(tr,"onBeaconServiceChange",function(){return _u});var nr={};n.r(nr),n.d(nr,"captureScreen",function(){return wu}),n.d(nr,"onUserCaptureScreen",function(){return Su}),n.d(nr,"getScreenBrightness",function(){return ku}),n.d(nr,"setScreenBrightness",function(){return Cu}),n.d(nr,"setKeepScreenOn",function(){return Tu});var rr={};n.r(rr),n.d(rr,"vibrateShort",function(){return xu}),n.d(rr,"vibrateLong",function(){return Iu});var or={};n.r(or),n.d(or,"chooseContact",function(){return Eu}),n.d(or,"chooseWeChatContact",function(){return Pu}),n.d(or,"addPhoneContact",function(){return Ou});var ir={};n.r(ir),n.d(ir,"openBluetoothAdapter",function(){return Au}),n.d(ir,"closeBluetoothAdapter",function(){return Mu}),n.d(ir,"getBluetoothAdapterState",function(){return Du}),n.d(ir,"onBluetoothAdapterStateChange",function(){return Ru}),n.d(ir,"startBluetoothDevicesDiscovery",function(){return Nu}),n.d(ir,"stopBluetoothDevicesDiscovery",function(){return Bu}),n.d(ir,"getBluetoothDevices",function(){return Lu}),n.d(ir,"getConnectedBluetoothDevices",function(){return ju}),n.d(ir,"createBLEConnection",function(){return Fu}),n.d(ir,"closeBLEConnection",function(){return Uu}),n.d(ir,"getBLEDeviceServices",function(){return Wu}),n.d(ir,"getBLEDeviceCharacteristics",function(){return qu}),n.d(ir,"notifyBLECharacteristicValueChanged",function(){return Vu}),n.d(ir,"notifyBLECharacteristicValueChange",function(){return zu}),n.d(ir,"onBluetoothDeviceFound",function(){return Gu}),n.d(ir,"readBLECharacteristicValue",function(){return Ku}),n.d(ir,"writeBLECharacteristicValue",function(){return Hu}),n.d(ir,"onBLEConnectionStateChanged",function(){return Ju}),n.d(ir,"onBLEConnectionStateChange",function(){return Qu}),n.d(ir,"onBLECharacteristicValueChange",function(){return Yu});var ar={};n.r(ar),n.d(ar,"getHCEState",function(){return Zu}),n.d(ar,"startHCE",function(){return el}),n.d(ar,"stopHCE",function(){return tl}),n.d(ar,"sendHCEMessage",function(){return nl}),n.d(ar,"onHCEMessage",function(){return rl});var sr={};n.r(sr),n.d(sr,"chooseImage",function(){return al}),n.d(sr,"previewImage",function(){return sl}),n.d(sr,"_getImageInfoWithDownloadFile",function(){return ul}),n.d(sr,"getImageInfo",function(){return cl}),n.d(sr,"saveImageToPhotosAlbum",function(){return ll});var cr={};n.r(cr),n.d(cr,"chooseVideo",function(){return fl}),n.d(cr,"saveVideoToPhotosAlbum",function(){return dl});var ur={};n.r(ur),n.d(ur,"playVoice",function(){return hl}),n.d(ur,"pauseVoice",function(){return vl}),n.d(ur,"stopVoice",function(){return gl}),n.d(ur,"onVoicePlayEnd",function(){return yl});var lr={};n.r(lr),n.d(lr,"getRecorderManager",function(){return Sl}),n.d(lr,"startRecord",function(){return kl}),n.d(lr,"stopRecord",function(){return Cl});var fr={};n.r(fr),n.d(fr,"getBackgroundAudioManager",function(){return Al}),n.d(fr,"getBackgroundAudioPlayerState",function(){return Ml}),n.d(fr,"playBackgroundAudio",function(){return Dl}),n.d(fr,"pauseBackgroundAudio",function(){return Rl}),n.d(fr,"seekBackgroundAudio",function(){return Nl}),n.d(fr,"stopBackgroundAudio",function(){return Bl}),n.d(fr,"onBackgroundAudioPlay",function(){return jl}),n.d(fr,"onBackgroundAudioPause",function(){return Fl}),n.d(fr,"onBackgroundAudioStop",function(){return Ul});var dr={};n.r(dr),n.d(dr,"showToast",function(){return If}),n.d(dr,"hideToast",function(){return Ef}),n.d(dr,"showLoading",function(){return Of}),n.d(dr,"hideLoading",function(){return Af}),n.d(dr,"showModal",function(){return Cf}),n.d(dr,"showActionSheet",function(){return Mf});var pr={};n.r(pr),n.d(pr,"getGameRelatedContextsExports",function(){return Fg});var hr={};n.r(hr),n.d(hr,"setNavigationBarTitle",function(){return h_}),n.d(hr,"showNavigationBarLoading",function(){return v_}),n.d(hr,"hideNavigationBarLoading",function(){return g_}),n.d(hr,"setNavigationBarAlpha",function(){return b_}),n.d(hr,"setNavigationBarColor",function(){return m_}),n.d(hr,"setNavigationBarRightButton",function(){return __}),n.d(hr,"onTapNavigationBarRightButton",function(){return w_});var vr={};n.r(vr),n.d(vr,"navigateTo",function(){return C_}),n.d(vr,"redirectTo",function(){return S_}),n.d(vr,"switchTab",function(){return T_}),n.d(vr,"navigateBack",function(){return x_}),n.d(vr,"reLaunch",function(){return k_}),n.d(vr,"onPageReload",function(){return M_}),n.d(vr,"_triggerBeforeUnloadPage",function(){return D_}),n.d(vr,"_triggerBeforeShareAppMessage",function(){return R_});var gr={};n.r(gr),n.d(gr,"onWebviewEvent",function(){return N_}),n.d(gr,"onNativeEvent",function(){return B_});var yr={};n.r(yr),n.d(yr,"canvas",function(){return Ms}),n.d(yr,"canvasInfo",function(){return Os}),n.d(yr,"onCanvasMethodCallbackOnce",function(){return js}),n.d(yr,"clearOldWebviewCanvas",function(){return xe}),n.d(yr,"createContext",function(){return zs}),n.d(yr,"createWidgetContext",function(){return Gs}),n.d(yr,"drawCanvasImpl",function(){return Ne}),n.d(yr,"drawCanvas",function(){return Be}),n.d(yr,"canvasToTempFilePath",function(){return Ue}),n.d(yr,"createCanvasContext",function(){return Hs}),n.d(yr,"drawCanvas4Plugin",function(){return Le}),n.d(yr,"canvasToTempFilePath4Plugin",function(){return We}),n.d(yr,"createCanvasContext4Plugin",function(){return Js}),n.d(yr,"canvasGetImageData4Plugin",function(){return Oe}),n.d(yr,"canvasPutImageData4Plugin",function(){return De}),n.d(yr,"canvasToDataURL",function(){return Ve}),n.d(yr,"canvasGetImageData",function(){return Pe}),n.d(yr,"canvasPutImageData",function(){return Me});var mr={};n.r(mr),n.d(mr,"createCameraContext",function(){return _n}),n.d(mr,"createMapContext",function(){return Fw}),n.d(mr,"createInnerAudioContext",function(){return gf}),n.d(mr,"createLivePlayerContext",function(){return kn}),n.d(mr,"createLivePusherContext",function(){return Pn}),n.d(mr,"createVideoContext",function(){return Nn}),n.d(mr,"createAudioContext",function(){return jn});var br={};n.r(br),n.d(br,"_operateWXData",function(){return Vc}),n.d(br,"_requestSkipCheckDomain",function(){return qo}),n.d(br,"_uploadFileSkipCheckDomain",function(){return yi}),n.d(br,"_downloadFileSkipCheckDomain",function(){return ii}),n.d(br,"_socketSkipCheckDomainFactory",function(){return Di});var _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},Sr=20;a.prototype.delimiter=".",a.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},a.prototype.event="",a.prototype.once=function(e,t){return this._once(e,t,!1)},a.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},a.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},a.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},a.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},a.prototype._many=function(e,t,n,r){function o(){return 0==--t&&i.off(e,o),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return o._origin=n,this._on(e,o,r),i},a.prototype.emit=function(){this._events||r.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,n,o,i,a,s=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),s>3)for(t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];for(o=0,n=a.length;o<n;o++)switch(this.event=e,s){case 1:a[o].call(this,e);break;case 2:a[o].call(this,e,arguments[1]);break;case 3:a[o].call(this,e,arguments[1],arguments[2]);break;default:a[o].apply(this,t)}}if("function"==typeof(a=this._events[e])){switch(this.event=e,s){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];a.apply(this,t)}return!0}if(a&&(a=a.slice()),a&&a.length){if(s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(o=0,n=a.length;o<n;o++)switch(this.event=e,s){case 1:a[o].call(this);break;case 2:a[o].call(this,arguments[1]);break;case 3:a[o].call(this,arguments[1],arguments[2]);break;default:a[o].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},a.prototype.emitAsync=function(){this._events||r.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,o,i,a,s=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),i=1;i<c;i++)t[i]=arguments[i];for(o=0,n=this._all.length;o<n;o++)switch(this.event=e,c){case 1:s.push(this._all[o].call(this,e));break;case 2:s.push(this._all[o].call(this,e,arguments[1]));break;case 3:s.push(this._all[o].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[o].apply(this,t))}}if("function"==typeof(a=this._events[e]))switch(this.event=e,c){case 1:s.push(a.call(this));break;case 2:s.push(a.call(this,arguments[1]));break;case 3:s.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),i=1;i<c;i++)t[i-1]=arguments[i];s.push(a.apply(this,t))}else if(a&&a.length){if(a=a.slice(),c>3)for(t=new Array(c-1),i=1;i<c;i++)t[i-1]=arguments[i];for(o=0,n=a.length;o<n;o++)switch(this.event=e,c){case 1:s.push(a[o].call(this));break;case 2:s.push(a[o].call(this,arguments[1]));break;case 3:s.push(a[o].call(this,arguments[1],arguments[2]));break;default:s.push(a[o].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},a.prototype.on=function(e,t){return this._on(e,t,!1)},a.prototype.prependListener=function(e,t){return this._on(e,t,!0)},a.prototype.onAny=function(e){return this._onAny(e,!1)},a.prototype.prependAny=function(e){return this._onAny(e,!0)},a.prototype.addListener=a.prototype.on,a.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},a.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||r.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,i.call(this,this._events[e].length,e))):this._events[e]=t,this},a.prototype.off=function(e,t){function n(e){if(void 0!==e){var t=Object.keys(e);for(var r in t){var o=t[r],i=e[o];i instanceof Function||"object"!==(void 0===i?"undefined":_r(i))||null===i||(Object.keys(i).length>0&&n(e[o]),0===Object.keys(i).length&&delete e[o])}}}if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,o=[];if(!this._events[e])return this;r=this._events[e],o.push({_listeners:r});for(var i=0;i<o.length;i++){if(r=o[i]._listeners,wr(r)){for(var a=-1,s=0,c=r.length;s<c;s++)if(r[s]===t||r[s].listener&&r[s].listener===t||r[s]._origin&&r[s]._origin===t){a=s;break}if(a<0)continue;return this._events[e].splice(a,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return n(this.listenerTree),this},a.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},a.prototype.removeListener=a.prototype.off,a.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||r.call(this),this):(this._events&&(this._events[e]=null),this)},a.prototype.listeners=function(e){return this._events||r.call(this),this._events[e]||(this._events[e]=[]),wr(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},a.prototype.eventNames=function(){return Object.keys(this._events)},a.prototype.listenerCount=function(e){return this.listeners(e).length},a.prototype.listenersAny=function(){return this._all?this._all:[]};var kr=a,Cr=void 0;Cr="undefined"!=typeof NativeGlobal?NativeGlobal:{};var Tr=Cr,xr=void 0;xr=Tr.__wxConfig?Tr.__wxConfig:__wxConfig,xr.onReady(function(){Object.assign(xr,__wxConfig)});var Ir=xr,Er=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or=function(e){for(var t=Array.prototype.slice.call(e),n=0;n<t.length;n++){var r=t[n];try{JSON.stringify(r)}catch(e){return void console.error("An object with circular reference can't be logged")}}return t.map(function(e){return"object"===(void 0===e?"undefined":Pr(e))&&null!==e?l(e):c(e)})},Ar=function(e,t){var n=t.timeout;if("number"!=typeof n)return void e(t);var r=!1,o=setTimeout(function(){var e={errMsg:"request timeout"};r=!0,"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)},n),i=["success","fail","complete"].reduce(function(e,n){return e[n]=function(e){r||(clearTimeout(o),"function"==typeof t[n]&&t[n](e))},e},{});e(Object.assign({},t,i))},Mr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxListeners:2e3};s(this,e),this.emitter=new kr(t),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{}}return Er(e,[{key:"emit",value:function(e,t){this.emitter.emit(e,t)}},{key:"on",value:function(e,t){if(t&&"function"==typeof t){var n=Reporter.surroundThirdByTryCatch(t,"at "+e+" callback function");this.callbackMap.set(t,n),this.emitter.on(e,n)}}},{key:"off",value:function(e,t){if(t&&"function"==typeof t){var n=this.callbackMap.get(t);this.emitter.off(e,n)}else this.emitter.removeAllListeners(e)}},{key:"listeners",value:function(e){return this.emitter.listeners(e)}}]),e}(),Dr=void 0;Dr="undefined"!=typeof NativeGlobal?NativeGlobal:{};var Rr=Dr;if("devtools"!==Ir.platform){var Nr={LOG:0,INFO:1,WARNING:2,ERROR:3,DEBUG:4,TIME:5,TIME_END:5},Br=function(e,t){Rr.log(JSON.stringify({level:e,logs:Or(t)}))};console={log:function(){Br(Nr.LOG,arguments)},info:function(){Br(Nr.INFO,arguments)},warn:function(){Br(Nr.WARNING,arguments)},error:function(){Br(Nr.ERROR,arguments)},debug:function(){Br(Nr.DEBUG,arguments)},time:function(){Br(Nr.TIME,arguments)},timeEnd:function(){Br(Nr.TIME_END,arguments)},group:function(){},groupEnd:function(){}}}var Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jr=y(m,"anyTypeToString"),Fr=y(b,"stringToAnyType"),Ur=function(e){function t(e){h(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"APP-SERVICE-SDK:"+e));return n.type="AppServiceSdkKnownError",n}return g(t,e),t}(Error),Wr=function(e){function t(e){h(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,""+e));return n.type="ThirdScriptError",n}return g(t,e),t}(Error),qr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Vr=Vr||function(e){for(var t,n,r=String(e),o="",i=0,a=qr;r.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if((n=r.charCodeAt(i+=.75))>255)throw new Error('"btoa" failed');t=t<<8|n}return o},zr=zr||function(e){var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var r,o,i=0,a=0;o=t.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)o=qr.indexOf(o);return n},Gr=(Ir.clientVersion,{FORE_GROUND:0,BACK_GROUND:1,LOCK:2}),Kr=[],Hr=[],Jr={lastRoute:"",query:{},runningStatus:"active",navigatorLock:!1,openUrlLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:Gr.FORE_GROUND},Qr={},Yr={},Xr={},$r=0,Zr=function(e,t){var n=Object.keys(t).map(function(n){return Object.keys(t[n]).map(function(r){return{func:n,result:e,errMsg:r,count:t[n][r]}})});return[].concat.apply([],n)},eo=function(){Qr={},Yr={},Xr={}},to=function(){var e=Zr(1,Qr),t=Zr(2,Yr),n=Zr(3,Xr),r=[].concat(e,t,n);0!==r.length&&W("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:r,appType:Reporter.getAppType()})}),eo()},no=function(e,t,n,r,o){var i=t?Qr:n?Yr:Xr;i[e]=i[e]||{},i[e][o]=(i[e][o]||0)+1,Date.now()-$r>=6e4&&($r=Date.now(),setTimeout(to,6e4))},ro={invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,openBluetoothAdapter:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,onBluetoothAdapterStateChange:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,createBLEConnection:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,request:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getLocation:null,openLocation:null,chooseLocation:null,startLocationUpdate:null,stopLocationUpdate:null,onLocationChange:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,login:null,checkSession:null,authorize:null,getUserInfo:null,requestPayment:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,getLaunchOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,reportAnalytics:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,loadFontFace:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,getAccountInfoSync:null},oo=ro,io={invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:30,setNavigationBarRightButton:30,onTapNavigationBarRightButton:30,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,openBluetoothAdapter:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,onBluetoothAdapterStateChange:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,createBLEConnection:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,onBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,
chooseVideo:20,saveVideoToPhotosAlbum:10,getLocation:20,openLocation:20,chooseLocation:20,startLocationUpdate:20,stopLocationUpdate:20,onLocationChange:20,getNetworkType:0,onAppRoute:30,onAppRouteDone:30,onAppEnterBackground:30,onAppEnterForeground:30,onAppUnhang:30,onPageReload:30,onPageNotFound:30,offPageNotFound:30,onAppShow:30,offAppShow:30,onAppHide:30,offAppHide:30,onError:30,offError:30,getLaunchOptionsSync:30,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,reportAnalytics:10,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,loadFontFace:20,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,login:10,checkSession:10,authorize:20,getUserInfo:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPaymentToBank:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:0},ao=io,so={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,openBluetoothAdapter:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,onBluetoothAdapterStateChange:3,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,createBLEConnection:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,request:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getLocation:1,openLocation:1,chooseLocation:1,startLocationUpdate:0,stopLocationUpdate:0,onLocationChange:0,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,login:1,checkSession:1,authorize:1,getUserInfo:1,requestPayment:1,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,reportAnalytics:0,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:0,onAppHide:3,offAppHide:0,onError:3,offError:0,getLaunchOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,getAccountInfoSync:0},co=so,uo={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:10,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,exitMiniProgram:0,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,openBluetoothAdapter:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,onBluetoothAdapterStateChange:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,createBLEConnection:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,request:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:0,addNativeDownloadTask:0,chooseImage:0,previewImage:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getLocation:0,openLocation:0,chooseLocation:0,startLocationUpdate:0,stopLocationUpdate:0,onLocationChange:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestPayment:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,addCard:0,openCard:0,scanCode:0,openQRCode:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,getLaunchOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,getPublicLibVersion:0,showModal:20,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:20,reportAnalytics:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,onWindowResize:0,offWindowResize:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0},lo=uo,fo={sample:oo,ui:ao,log:co,tap:lo},po=function(e,t){return fo[t][e]},ho=("function"==typeof Symbol&&Symbol.iterator,!1),vo=(C(),[]),go="",yo=function(e){W("getNetworkType",e)},mo=function(e){vo.push(Reporter.surroundThirdByTryCatch(e,"onNetworkStatusChange"))},bo=function(){return go};q("onNetworkStatusChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&void 0!==arguments[1]&&arguments[1];go=e.networkType,vo.forEach(function(t){"function"==typeof t&&t(e)})}),Ir.onReady(function(){yo({success:function(e){go=e.networkType}})});var _o=0,wo=[],So=function(){W("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxaservicequality",dataArray:wo,appType:Reporter.getAppType()},null,2)}),wo=[]},ko=function(e,t,n,r,o,i,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=[e,t,n,r,o,Reporter.getAppType(),i,s].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"NetworkAPI",value:c}),Reporter.reportIDKey({key:e+"_"+(1===n?"ok":"fail")}),wo.push([e,t,n,i||"",r,o,bo(),a?"1":"0",Reporter.getAppType(),s].map(encodeURIComponent).join(",")),Date.now()-_o>=6e4&&(_o=Date.now(),setTimeout(So,6e4))},Co=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo=10,Io=0,Eo=new WeakMap,Po=new WeakMap,Oo=(new WeakMap,new WeakMap),Ao=new WeakMap,Mo=new WeakMap,Do=0,Ro=[],No={},Bo=new kr;Ir.onReady(function(){try{"number"==typeof Ir.wxAppInfo.maxRequestConcurrent&&(xo=Ir.wxAppInfo.maxRequestConcurrent)}catch(e){}}),q("onRequestTaskStateChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.requestTaskId;if(delete e.state,delete e.requestTaskId,"success"!==t&&"fail"!==t||(Do-=1,Ro.length>0&&X.call(Ro.shift().item)),Bo.emit(""+n+t,e),"success"===t||"fail"===t){var r=No[n];if(!r)return;var o=Ao.get(r).url,i="success"===t?1:2,a=Date.now()-Mo.get(r),s=e.errMsg,c=e.statusCode,u=Ao.get(r).__skipDomainCheck__,l=p(Ao.get(r).data);ko("request",o,i,a,s,c,u,l),delete No[n],Bo.removeAllListeners(n+"success"),Bo.removeAllListeners(n+"fail"),Bo.removeAllListeners(n+"headersReceived")}});var Lo=function(){function e(t){Y(this,e);var n=Io++;if(Eo.set(this,n),Oo.set(this,"waiting"),["success","fail","complete"].forEach(function(e){"function"==typeof t[e]&&(t[e]=Reporter.surroundThirdByTryCatch(t[e],"at api request "+e+" callback function"))}),Ao.set(this,t),Do>=xo)return void Ro.push({id:n,item:this});X.call(this)}return Co(e,[{key:"abort",value:function(){var e=this;if("waiting"==typeof Oo.get(this)){var t=Ro.findIndex(function(t){return t.id===Eo.get(e)});t>-1&&(Ro.splice(t,1),Do-=1),Oo.set(this,"done")}else{W("operateRequestTask",{requestTaskId:Po.get(this),operationType:"abort"})}}},{key:"onHeadersReceived",value:function(e){Bo.on(Po.get(this)+"headersReceived",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at RequestTask.onHeadersReceived callback function")(t)})}},{key:"offHeadersReceived",value:function(e){"function"==typeof e?Bo.off(Po.get(this)+"headersReceived",e):Bo.removeAllListeners(Po.get(this)+"headersReceived")}}]),e}(),jo=Lo,Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=Object.assign({__skipDomainCheck__:!1},e),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("request",t,{url:""})){if(!1===I(t.url))return void G("request",t,'invalid url "'+t.url+'"');if("function"===t.data)return void G("request",t,"data should not be Function");var n=_(t.header);t.header=t.header||{},t.header=N(t.header),"Undefined"!==n&&"Object"!==n&&(console.warn("wx.request: header must be an object"),t.header={}),t.header=Object.keys(t.header).reduce(function(e,n){return"content-type"===n.toLowerCase()?e[n.toLowerCase()]=t.header[n]:e[n]=t.header[n],e},{});var r="text";t.responseType&&(r=t.responseType.toLowerCase());var o=t.header||{},i="GET";"string"==typeof t.method&&(i=t.method.toUpperCase());var a=void 0;t.dataType=t.dataType||"json",o["content-type"]=o["content-type"]||"application/json",a=void 0===t.data?"":"string"!=typeof t.data&&"ArrayBuffer"!==_(t.data)?o["content-type"].indexOf("application/x-www-form-urlencoded")>-1?T(t.data,!0):o["content-type"].indexOf("application/json")>-1?JSON.stringify(t.data):"object"===Fo(t.data)?JSON.stringify(t.data):a.toString():t.data,"GET"==i&&(t.url=x(t.url,t.data));try{return new jo(Object.assign({},t,{header:o,method:i,responseType:r,data:a,__skipDomainCheck__:e.__skipDomainCheck__}))}catch(e){G("request",t,e.message)}}}},Wo=Uo(),qo=Uo({__skipDomainCheck__:!0}),Vo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zo=10;try{"number"==typeof Ir.wxAppInfo.maxDownloadConcurrent&&(zo=Ir.wxAppInfo.maxDownloadConcurrent)}catch(e){}var Go=0,Ko=new WeakMap,Ho=new WeakMap,Jo=(new WeakMap,new WeakMap),Qo=new WeakMap,Yo=new WeakMap,Xo=0,$o=[],Zo={},ei=new kr;q("onDownloadTaskStateChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.downloadTaskId;if(delete e.state,delete e.downloadTaskId,ei.emit(""+n+t,e),"success"===t||"fail"===t){Xo-=1,$o.length>0&&Z.call($o.shift().item);try{var r=Zo[n],o=Qo.get(r).url,i="success"===t?1:2,a=Date.now()-Yo.get(r),s=e.errMsg,c=e.statusCode,u=Qo.get(r).__skipDomainCheck__;ko("downloadFile",o,i,a,s,c,u)}catch(e){}delete Zo[n],ei.removeAllListeners(n+"success"),ei.removeAllListeners(n+"fail"),ei.removeAllListeners(n+"progressUpdate")}});var ti=function(){function e(t){$(this,e);var n=Go++;if(Ko.set(this,n),Jo.set(this,"waiting"),["success","fail","complete"].forEach(function(e){"function"==typeof t[e]&&(t[e]=Reporter.surroundThirdByTryCatch(t[e],"at api downloadFile "+e+" callback function"))}),Qo.set(this,t),Xo>=zo)return void $o.push({id:n,item:this});Z.call(this)}return Vo(e,[{key:"abort",value:function(){W("operateDownloadTask",{downloadTaskId:Ho.get(this),operationType:"abort"})}},{key:"onProgressUpdate",value:function(e){ei.on(Ho.get(this)+"progressUpdate",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at DownloadTask.onProgressUpdate callback function")(t)})}},{key:"offProgressUpdate",value:function(e){"function"==typeof e?ei.off(Ho.get(this)+"progressUpdate",e):ei.removeAllListeners(Ho.get(this)+"progressUpdate")}},{key:"onHeadersReceived",value:function(e){ei.on(Ho.get(this)+"headersReceived",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at DownloadTask.onHeadersReceived callback function")(t)})}},{key:"offHeadersReceived",value:function(e){"function"==typeof e?ei.off(Ho.get(this)+"headersReceived",e):ei.removeAllListeners(Ho.get(this)+"headersReceived")}}]),e}(),ni=ti,ri=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=Object.assign({__skipDomainCheck__:!1},e),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{return new ni(t)}catch(e){G("downloadFile",t,e.message)}}}},oi=ri(),ii=ri({__skipDomainCheck__:!0}),ai=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),si=new WeakMap,ci=(new WeakMap,new WeakMap),ui=new WeakMap,li={},fi=new kr;q("onUploadTaskStateChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.uploadTaskId;if(delete e.state,delete e.uploadTaskId,fi.emit(""+n+t,e),"success"===t||"fail"===t){try{var r=li[n],o=ci.get(r).url,i="success"===t?1:2,a=Date.now()-ui.get(r),s=e.errMsg,c=e.statusCode,u=ci.get(r).__skipDomainCheck__;ko("uploadFile",o,i,a,s,c,u)}catch(e){}delete li[n],fi.removeAllListeners(n+"success"),fi.removeAllListeners(n+"fail"),fi.removeAllListeners(n+"progressUpdate")}});var di=function(){function e(t){var n=this;ee(this,e);var r=void 0;if(["success","fail","complete"].forEach(function(e){"function"==typeof t[e]&&(t[e]=Reporter.surroundThirdByTryCatch(t[e],"at api uploadFile "+e+" callback function"))}),ci.set(this,t),ui.set(this,Date.now()),W("createUploadTask",{url:t.url,header:t.header,filePath:t.filePath,name:t.name,formData:t.formData,__skipDomainCheck__:t.__skipDomainCheck__,success:function(e){si.set(n,e.uploadTaskId),li[e.uploadTaskId]=n},fail:function(e){r=e.errMsg;var o=t.url,i=Date.now()-ui.get(n),a=t.__skipDomainCheck__;ko("uploadFile",o,2,i,r,"",a)},complete:function(e){}}),r)throw new Error(r);fi.on(si.get(this)+"success",function(e){e.errMsg="uploadFile:ok",e.statusCode=parseInt(e.statusCode),-1===[200,304].indexOf(e.statusCode)&&delete e.tempPath,"function"==typeof t.success&&t.success(e),"function"==typeof t.complete&&t.complete(e)}),fi.on(si.get(this)+"fail",function(e){e.errMsg="uploadFile:fail "+e.errMsg,"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)})}return ai(e,[{key:"abort",value:function(){W("operateUploadTask",{uploadTaskId:si.get(this),operationType:"abort"})}},{key:"onProgressUpdate",value:function(e){fi.on(si.get(this)+"progressUpdate",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at UploadTask.onProgressUpdate callback function")(t)})}},{key:"offProgressUpdate",value:function(e){"function"==typeof e?fi.off(si.get(this)+"progressUpdate",e):fi.removeAllListeners(si.get(this)+"progressUpdate")}},{key:"onHeadersReceived",value:function(e){fi.on(si.get(this)+"headersReceived",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at UploadTask.onHeadersReceived callback function")(t)})}},{key:"offHeadersReceived",value:function(e){"function"==typeof e?fi.off(si.get(this)+"headersReceived",e):fi.removeAllListeners(si.get(this)+"headersReceived")}}]),e}(),pi=di,hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=Object.assign({__skipDomainCheck__:!1},e),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("uploadFile",t,{url:"",filePath:"",name:""})){"object"!==hi(t.header)&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!==hi(t.formData)&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var n={},r={};t.header&&(n=N(t.header)),t.formData&&(r=N(t.formData));try{return new pi(Object.assign({},t,{header:n,formData:r,__skipDomainCheck__:e.__skipDomainCheck__}))}catch(e){G("uploadFile",t,e.message)}}}},gi=vi(),yi=vi({__skipDomainCheck__:!0}),mi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bi=0,_i=new WeakMap,wi=new WeakMap,Si=new WeakMap,ki=(new WeakMap,new WeakMap),Ci={},Ti=new kr;q("onSocketTaskStateChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.socketTaskId,r=Ci[n];if(r){var o=_i.get(r);if(delete e.state,delete e.socketTaskId,r){if("open"===t){r.readyState=r.OPEN;var i=Si.get(r).url,a=Date.now()-ki.get(r),s=e.statusCode,c=Si.get(r).__skipDomainCheck__;ko("connectSocket",i,1,a,"",s,c,0)}else"close"!==t&&"error"!==t||(r.readyState=r.CLOSED);Ti.emit(""+o+t,e),Ti.emit("onSocket"+(t[0].toUpperCase()+t.substr(1)),e,r),"close"===t&&(delete Ci[n],Ti.removeAllListeners(o+"open"),Ti.removeAllListeners(o+"close"),Ti.removeAllListeners(o+"error"),Ti.removeAllListeners(o+"message"))}}});var xi=function(e,t){_i.get(this);Ti.on(""+_i.get(this)+e,Reporter.surroundThirdByTryCatch(t,"at socketTask.on"+e+" callback function"))},Ii=function(){function e(t,n){var r=this;te(this,e),this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this.readyState=this.CONNECTING;var o=bi++;_i.set(this,o),Si.set(this,n),Object.defineProperty(this,"__socketInstance__",{value:t,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach(function(e){"function"==typeof n[e]&&(n[e]=Reporter.surroundThirdByTryCatch(n[e],"at api connectSocket "+e+" callback function"))}),ki.set(this,Date.now());var i=void 0;W("createSocketTask",n,{beforeAll:function(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:function(e){wi.set(r,e.socketTaskId),Ci[e.socketTaskId]=r},beforeFail:function(e){var t=n.url,o=Date.now()-ki.get(r),a=n.__skipDomainCheck__;i=e.errMsg,ko("connectSocket",t,2,o,i,"",a,0)}}),i&&(this.readyState=this.CLOSED,setTimeout(function(){Ti.emit(o+"error",{errMsg:i})},0))}return mi(e,[{key:"send",value:function(e){var t=this;if(this.readyState===this.OPEN){var n=Date.now();W("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:wi.get(this)}),{beforeAll:function(r){if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),Math.random()>.99){var o=Si.get(t).url,i=r.errMsg.indexOf("ok")>-1?1:2,a=Date.now()-n,s=r.errMsg,c=Si.get(t).__skipDomainCheck__,u=p(e.data);ko("sendSocketMessage",o,i,a,s,"",c,u)}}})}else G("SocketTask.send",e,"SocketTask.readState is not OPEN")}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("operateSocketTask",Object.assign({},e,{operationType:"close",code:1e3,socketTaskId:wi.get(this)}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}},{key:"onOpen",value:function(e){xi.call(this,"open",e)}},{key:"onClose",value:function(e){xi.call(this,"close",e)}},{key:"onMessage",value:function(e){xi.call(this,"message",e)}},{key:"onError",value:function(e){xi.call(this,"error",e)}}]),e}(),Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi=new WeakMap,Oi={},Ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({__skipDomainCheck__:!1},e);var t={};return{connectSocket:function(n){if(z("connectSocket",n,{url:""})){if(!1===I(n.url,"websocket"))return void G("request",n,'invalid url "'+n.url+'"');"object"!==Ei(n.header)&&void 0!==n.header&&delete n.header;var r={};n.header&&(r=N(n.header)),n.__skipDomainCheck__=e.__skipDomainCheck__;try{var o=Pi.get(t),i=new Ii(t,Object.assign({},n,{header:r}));return o&&o.readyState!==o.CLOSED||Pi.set(t,i),i}catch(e){G("connectSocket",n,e.message)}}},closeSocket:function(e){var n=Pi.get(t);n&&n.readyState!==n.CLOSED?(n.readyState=n.CLOSED,n.close(e)):G("closeSocket",e,"WebSocket is not connected");for(var r in Ci){var o=Ci[r];o.__socketInstance__===t&&(o.readyState=o.CLOSED,o!==n&&o.close())}},sendSocketMessage:function(e){var n=Pi.get(t);n&&n.readyState===n.OPEN?n.send(e):G("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:ne(t,"Open"),onSocketClose:ne(t,"Close"),onSocketMessage:ne(t,"Message"),onSocketError:ne(t,"Error")}},Mi=Ai(),Di=function(){return Ai({__skipDomainCheck__:!0})},Ri=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("ios"===C())return void G("addNativeDownloadTask",e,"iOS not supported");W("addNativeDownloadTask",e,{})},Ni=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Bi=new WeakMap,Li=new WeakMap,ji=new kr;q("onDownloadAppStateChange",function(e){var t=e.state,n=e.downloadId;e.appId;switch(delete e.state,delete e.downloadId,delete e.appId,t){case"download_succ":ji.emit(n+":progressUpdate",e),ji.emit(n+":success",e);break;case"download_failed":ji.emit(n+":fail",e);break;case"download_progress_changed":ji.emit(n+":progressUpdate",e)}"download_succ"!==t&&"download_failed"!==t||(ji.removeAllListeners(n+":success"),ji.removeAllListeners(n+":fail"),ji.removeAllListeners(n+":progressUpdate"))});var Fi=(function(){function e(t){oe(this,e),this.taskId=null,["success","fail","complete"].forEach(function(e){"function"==typeof t[e]&&(t[e]=Reporter.surroundThirdByTryCatch(t[e],"at api downloadApp "+e+" callback function"))}),ae.call(this,t)}Ni(e,[{key:"pause",value:function(){se.call(this,"pause")}},{key:"resume",value:function(){se.call(this,"resume")}},{key:"cancel",value:function(){se.call(this,"cancel")}},{key:"install",value:function(){se.call(this,"install")}},{key:"onCreated",value:function(e){se.call(this,"onCreated",e)}},{key:"onProgressUpdate",value:function(e){se.call(this,"onProgressUpdate",e)}}])}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("calRqt",e,{rqt:""})&&W("calRqt",e)}),Ui=function(e){z("saveFile",e,{tempFilePath:""})&&W("saveFile",e)},Wi=function(e,t){if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var n=void 0,r=void 0;if(W("saveFileSync",{tempFilePath:e,filePath:t,success:function(e){r=e.savedFilePath},fail:function(e){n=e.errMsg}}),n)throw new Error(n);return r},qi=function(e){z("openDocument",e,{filePath:""})&&W("openDocument",e)},Vi=function(){W("getSavedFileList",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},zi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("getSavedFileInfo",e,{filePath:""})&&W("getSavedFileInfo",e)},Gi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("removeSavedFile",e,{filePath:""})&&W("removeSavedFile",e)},Ki=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=w(e,{digestAlgorithm:""})
;if(t)return void G("getFileInfo",e,"parameter error: "+t);if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void G("getFileInfo",e,'parameter error: invalid digestAlgorithm "'+e.digestAlgorithm+'"')}W("getFileInfo",e,{})}},Hi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("readFile",e,{filePath:""})&&W("readFile",e)},Ji=function(e,t){if(!e||"string"!=typeof e)throw new Error("filePath must be a string");if(t&&"string"!=typeof t)throw new Error("encoding must be a string");var n=void 0,r=void 0;if(W("readFileSync",{filePath:e,encoding:t,success:function(e){n=e.data},fail:function(e){r=e.errMsg}}),r)throw new Error(r);return n},Qi=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],Yi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("writeFile",e,{filePath:""}))return e.encoding&&-1===Qi.indexOf(e.encoding)?void G("writeFile",e,'invalid encoding "'+e.encoding+'"'):void W("writeFile",e,{})},Xi=function(e,t,n){if(!e||"string"!=typeof e)throw new Error("path must be a string");if(n&&-1===Qi.indexOf(n))throw new Error('invalid encoding "'+n+'"');var r=void 0;if(W("writeFileSync",{filePath:e,data:t,encoding:n,fail:function(e){r=e.errMsg}}),r)throw new Error(r)},$i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("mkdir",e,{dirPath:""})&&W("mkdir",e)},Zi=function(e){if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t=void 0;if(W("mkdirSync",{dirPath:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("rmdir",e,{dirPath:""})&&W("rmdir",e)},ta=function(e){if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var t=void 0;if(W("rmdirSync",{dirPath:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},na=new kr,ra={map:{},set:function(e){var t=B();return this.map[t]=e,t},get:function(e){var t=this;return e?this.map[e]:Object.keys(this.map).map(function(e){return t.map[e]})}},oa="devtools"===C()?"http://":"wxfile://",ia=[];Ir.onReady(function(){ia=ce()});var aa=function(e,t){var n=ra.get();e.files=e.files.filter(function(e){return new RegExp("^"+t).test(e)||(e=""+t+e),-1===n.indexOf(e)&&-1===ia.indexOf(e)})},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("readdir",e,{dirPath:""})&&W("readdir",e,{beforeSuccess:function(t){aa(t,e.dirPath)}})},ca=function(e){if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t=void 0,n=void 0;if(W("readdirSync",{dirPath:e,success:function(e){t=e.files},fail:function(e){n=e.errMsg}},{beforeSuccess:function(t){aa(t,e)}}),n)throw new Error(n);return t},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("access",e,{path:""})&&W("access",e)},la=function(e){if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t=void 0;if(W("accessSync",{path:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("unlink",e,{filePath:""})&&W("unlink",e)},da=function(e){if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t=void 0;if(W("unlink",{filePath:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},pa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ha=function(){function e(t){var n=t.mode,r=t.size,o=t.lastAccessedTime,i=t.lastModifiedTime;ue(this,e),this.mode=n,this.size=r,this.lastAccessedTime=o,this.lastModifiedTime=i}return pa(e,[{key:"_checkModeProperty",value:function(e){return(61440&this.mode)===e}},{key:"isDirectory",value:function(){return this._checkModeProperty(16384)}},{key:"isFile",value:function(){return this._checkModeProperty(32768)}}]),e}(),va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("stat",e,{path:""})&&W("stat",e,{beforeSuccess:function(e){e.stats=new ha(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},ga=function(e){if(!e||"string"!=typeof e)throw new Error("path must be a string");var t=void 0,n=void 0;if(W("statSync",{path:e,success:function(e){t=new ha(e)},fail:function(e){n=e.errMsg}}),n)throw new Error(n);return t},ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("unzip",e,{zipFilePath:"",targetPath:""})&&W("unzip",Object.assign({},e,{targetDirectory:e.targetPath}))},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("copyFile",e,{srcPath:"",destPath:""})&&W("fs_copyFile",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},ba=function(e,t){if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var n=void 0;if(W("fs_copyFileSync",{srcPath:e,destPath:t,fail:function(e){n=e.errMsg.replace(/^fs_/,"")}}),n)throw new Error(n)},_a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("rename",e,{oldPath:"",newPath:""})&&W("fs_rename",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},wa=function(e,t){if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var n=void 0;if(W("fs_renameSync",{oldPath:e,newPath:t,fail:function(e){n=e.errMsg.replace(/^fs_/,"")}}),n)throw new Error(n)},Sa=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("appendFile",e,{filePath:""}))return e.encoding&&-1===Sa.indexOf(e.encoding)?void G("appendFile",e,'invalid encoding "'+e.encoding+'"'):void W("fs_appendFile",e,{})},Ca=function(e,t,n){if(!e||"string"!=typeof e)throw new Error("path must be a string");if(n&&-1===Sa.indexOf(n))throw new Error('invalid encoding "'+n+'"');var r=void 0;if(W("fs_appendFileSync",{filePath:e,data:t,encoding:n,fail:function(e){r=e.errMsg}}),r)throw new Error(r)},Ta={saveFile:Ui,saveFileSync:Wi,getSavedFileList:Vi,getSavedFileInfo:zi,removeSavedFile:Gi,getFileInfo:Ki,readFile:Hi,readFileSync:Ji,writeFile:Yi,writeFileSync:Xi,mkdir:$i,mkdirSync:Zi,rmdir:ea,rmdirSync:ta,readdir:sa,readdirSync:ca,access:ua,accessSync:la,unlink:fa,unlinkSync:da,stat:va,statSync:ga,unzip:ya,copyFile:ma,copyFileSync:ba,rename:_a,renameSync:wa,appendFile:ka,appendFileSync:Ca},xa=function(){return Ta},Ia=function(e){z("getStorage",e,{key:""})&&W("getStorage",e,{beforeSuccess:function(e){e.data=Fr(e.data,e.dataType),delete e.dataType},afterFail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.errMsg&&e.errMsg.indexOf("data not found")>0)return!1}})},Ea=function(e){if(z("getStorageSync",e,"")){var t="ios"===C()?"getStorage":"getStorageSync",n=void 0;return W(t,{key:e},{beforeAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=Fr(e.data,e.dataType)},afterFail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.errMsg&&e.errMsg.indexOf("data not found")>0)return!1}}),n}},Pa=function(e){if(z("setStorage",e,{key:""}))try{var t=jr(e.data),n=t.data,r=t.dataType;W("setStorage",{key:e.key,data:n,dataType:r,success:e.success,fail:e.fail,complete:e.complete})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"setStorage:fail "+t.message}),"function"==typeof e.complete&&e.complete({errMsg:"setStorage:fail "+t.message})}},Oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(z("setStorage",e,"")){var n="ios"===C()?"setStorage":"setStorageSync",r=jr(t),o=r.data,i=r.dataType,a=!1,s="";if(W(n,{key:e,data:o,dataType:i,fail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a=!0,s=e.errMsg.replace("setStorage:","setStorageSync:")}}),a)throw new Ur(s)}},Aa=function(e){z("removeStorage",e,{key:""})&&W("removeStorage",e)},Ma=function(e){z("removeStorageSync",e,"")&&W("removeStorageSync",{key:e})},Da=function(e){W("clearStorage",e)},Ra=function(){W("ios"===C()?"clearStorage":"clearStorageSync")},Na=function(e){return Array.isArray(e)?e.filter(function(e){return"string"==typeof e&&!e.startsWith("__plugins__")&&!e.startsWith("__wxprivate__")}):[]},Ba=function(e){W("getStorageInfo",e,{beforeAll:function(e){e.keys=Na(e.keys)}})},La=function(){var e=void 0;return W("getStorageInfoSync",{},{beforeAll:function(t){e=t,t.keys=Na(t.keys),delete t.errMsg}}),e},ja={setStorage:Pa,setStorageSync:Oa,getStorage:Ia,getStorageSync:Ea,getStorageInfo:Ba,getStorageInfoSync:La,removeStorage:Aa,removeStorageSync:Ma,clearStorage:Da,clearStorageSync:Ra},Fa={};["setStorage","getStorage","getStorageInfo","removeStorage","clearStorage"].forEach(function(e){Fa[e]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.key){var n=t.key.toString();if(n.startsWith("__plugins__")||n.startsWith("__wxprivate__"))return void G(e,t,'invalid key "'+t.key+'"')}return ja[""+e](t)},Fa[e+"Sync"]=function(t){for(var n,r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(!t||!t.toString().startsWith("__plugins__")&&!t.toString().startsWith("__wxprivate__"))return(n=ja[e+"Sync"]).call.apply(n,[void 0,t].concat(o))};var t="plugin_"+e;Fa[t]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.key&&(t.key="__plugins__/"+t.key),ja[""+e](t)},Fa[t+"Sync"]=function(t){for(var n,r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t&&(t="__plugins__/"+t),(n=ja[e+"Sync"]).call.apply(n,[void 0,t].concat(o))};var n="wxprivate_"+e;Fa[n]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.key&&(t.key="__wxprivate__/"+t.key),ja[""+e](t)},Fa[n+"Sync"]=function(t){for(var n,r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t&&(t="__wxprivate__/"+t),(n=ja[e+"Sync"]).call.apply(n,[void 0,t].concat(o))}});var Ua=Fa,Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa=new kr({maxListeners:20,newListener:!1}),Va=new kr({maxListeners:10,newListener:!1}),za={},Ga=de("AppEnterBackground"),Ka=Ga.internalOnMethod;q("onAppEnterBackground",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ga.emit(e),F("onAppEnterBackground",e)});var Ha={},Ja={lastShareTicket:null,get:function(e){return Ha[e]},set:function(e,t){var n=B();return Ha[n]={shareKey:e,shareName:t},n}},Qa=Ja,Ya=new kr,Xa={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:Qa,emitter:Ya},$a=Xa,Za=function(){var e=!1;return"ios"===C()?e=!0:"android"===C()&&Ir.clientVersion>=637865520&&(e=!0),function(){return e}}(),es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts=void 0,ns=de("AppEnterForeground"),rs=ns.internalOnMethod,os=void 0;U("getAppEnterForegroundInfo",function(e){var t=e.callbackId;F("appEnterForegroundInfoGot",{data:{info:os,sceneHistory:$a.sceneHistory,appId:$a.appId},callbackId:t})}),q("onAppEnterForeground",function(e){!Za()||1!==e.reLaunch&&!0!==e.reLaunch?ve(e):$a.emitter.once("onAppRoute",function(){ve(e)}),F("onAppEnterForeground",e)});var is=de("AppUnhang"),as=(is.internalOnMethod,is.onMethod);q("onAppUnhang",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};is.emit(e)}),Jr.appStatus=Gr.FORE_GROUND,Jr.hanged=!1,rs(function(){Jr.appStatus=Gr.FORE_GROUND}),Ka(function(e){"hide"===e.mode?Jr.appStatus=Gr.LOCK:Jr.appStatus=Gr.BACK_GROUND,"close"===e.mode?Jr.hanged=!1:"hang"===e.mode&&(Jr.hanged=!0)}),as(function(){Jr.hanged=!1});U("getLaunchInfo",function(e){var t=e.callbackId;F("launchInfoGot",{data:{info:$a.appLaunchInfo,sceneHistory:$a.sceneHistory,appId:$a.appId},callbackId:t})});var ss=void 0,cs=void 0;Ir.onReady(function(){var e=Ir.appLaunchInfo||{};$a.appLaunchInfo=e,$a.appLaunchShareInfo=e.shareInfo,cs=pe(e,!0),ss=he(cs),cs.__public=ss});var us=function(){return cs},ls=de("AppRunningStatusChange");ls.internalOnMethod;q("onAppRunningStatusChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Jr.runningStatus=e.status,ls.emit(e)});var fs=de("AppHide");fs.onMethod,fs.offMethod,fs.internalOnMethod;Ka(function(e){fs.emitInternal(e),fs.emitGlobal()});var ds={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"},ps=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs=["scale","rotate","translate","setTransform","transform"],gs=["drawImage","fillText","fill","stroke","fillRect","strokeRect","clearRect","strokeText"],ys=["setFillStyle","setTextAlign","setStrokeStyle","setGlobalAlpha","setShadow","setFontSize","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setTextBaseline","setLineDash"],ms=void 0,bs={},_s={},ws=function(){function e(t,n){_e(this,e),this.type=t,this.data=n,this.colorStop=[]}return ps(e,[{key:"addColorStop",value:function(e,t){this.colorStop.push([e,Se(t)])}}]),e}(),Ss=function e(t){_e(this,e),this.width=t},ks=function e(t,n){_e(this,e),this.image=t,this.repetition=n},Cs=function(){function e(t,n,r,o){if(_e(this,e),this.actions=[],this.path=[],this.subpath=[],this.webviewId=t,this.canvasId=n,this.pluginId=o,this.useHardwareAccelerate=!0,this.nodeId=r,this._id=ge(t,n,o,r),this.drawingState=bs[this._id]=bs[this._id]||[],this.state=_s[this._id]=_s[this._id]||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"ios"===ms?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},"devtools"===(ms=ms||C())){var i=document.createElement("canvas");this._context=i.getContext("2d")}}return ps(e,[{key:"getActions",value:function(){var e=ke(this.actions);return this.actions=[],this.path=[],this.subpath=[],e}},{key:"clearActions",value:function(){this.actions=[],this.path=[],this.subpath=[]}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1],n=this.canvasId,r=(this.pluginId,ke(this.actions)),o=this.useHardwareAccelerate;this.actions=[],this.path=[],this.useHardwareAccelerate=!0,this.isWidgetCanvas?Ne({isWidgetCanvas:!0,actions:r,reserve:e}):Ne({canvasId:n,actions:r,reserve:e,useHardwareAccelerate:o,complete:t},this.webviewId,this.pluginId,this.nodeId)}},{key:"createLinearGradient",value:function(e,t,n,r){return new ws("linear",[e,t,n,r])}},{key:"createCircularGradient",value:function(e,t,n){return new ws("radial",[e,t,n])}},{key:"createPattern",value:function(e,t){return void 0===t?void console.error("Failed to execute 'createPattern' on 'CanvasContext': 2 arguments required, but only 1 present."):-1===["repeat","repeat-x","repeat-y","no-repeat"].indexOf(t)?void console.error("Failed to execute 'createPattern' on 'CanvasContext': The provided type ('"+t+"') is not one of 'repeat', 'no-repeat', 'repeat-x', or 'repeat-y'."):(e=Te(this,e),new ks(e,t))}},{key:"measureText",value:function(e){var t=void 0;return"devtools"===ms?(this._context.font=this.state.font,t=this._context.measureText(e)):W("measureText",{text:e,fontSize:this.state.fontSize,fontFamily:this.state.fontFamily,fontWeight:this.state.fontWeight,fontStyle:this.state.fontStyle,complete:function(e){t={width:e.width||0}}}),new Ss(t.width||0)}},{key:"save",value:function(){this.actions.push({method:"save",data:[]}),this.drawingState.push(this.state)}},{key:"restore",value:function(){this.actions.push({method:"restore",data:[]}),this.state=_s[this._id]=this.drawingState.pop()||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"ios"===ms?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"}}},{key:"getLineDash",value:function(){return this.state.lineDash}},{key:"beginPath",value:function(){this.path=[],this.subpath=[]}},{key:"moveTo",value:function(e,t){this.path.push({method:"moveTo",data:[e,t]}),this.subpath=[[e,t]]}},{key:"closePath",value:function(){this.path.push({method:"closePath",data:[]}),this.subpath.length&&(this.subpath=[this.subpath.shift()])}},{key:"lineTo",value:function(e,t){0===this.path.length&&0===this.subpath.length?this.path.push({method:"moveTo",data:[].slice.apply(arguments)}):this.path.push({method:"lineTo",data:[].slice.apply(arguments)}),this.subpath.push([e,t])}},{key:"quadraticCurveTo",value:function(e,t,n,r){this.path.push({method:"quadraticCurveTo",data:[e,t,n,r]}),this.subpath.push([n,r])}},{key:"bezierCurveTo",value:function(e,t,n,r,o,i){this.path.push({method:"bezierCurveTo",data:[e,t,n,r,o,i]}),this.subpath.push([o,i])}},{key:"arc",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if("android"!==ms)return this.path.push({method:"arc",data:[e,t,n,r,o,i]}),void this.subpath.push([e,t]);var a=e+Math.cos(r)*n,s=t+Math.sin(r)*n;if(this.subpath.push([a,s]),i&&r-o>=2*Math.PI||!i&&o-r>=2*Math.PI)this.subpath.push([a,s]);else{var c=e+Math.cos(o)*n,u=t+Math.sin(o)*n;this.subpath.push([c,u])}this.path.push({method:"arc",data:[e,t,n,r,o,i]})}},{key:"rect",value:function(e,t,n,r){this.path.push({method:"rect",data:[e,t,n,r]}),this.subpath=[[e,t]],"android"===ms&&this.path.push({method:"closePath",data:[]})}},{key:"arcTo",value:function(e,t,n,r,o,i){if("android"!==ms&&!i)return this.path.push({method:"arcTo",data:[e,t,n,r,o]}),void this.subpath.push([n,r]);var a=this.subpath[this.subpath.length-1],s=a[0],c=a[1];if(s===e&&c===t||e===n&&t===r||0===o)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);if(s===e&&s===n||c===t&&c===r)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);var u=Math.sqrt,l=Math.acos,f=Math.sin,d=Math.tan,p=(Math.cos,Math.atan),h=(Math.abs,Math.PI),v=function(e){return Math.pow(e,2)},g=s-e,y=c-t,m=n-e,b=r-t,_=(g*m+y*b)/(u(v(g)+v(y))*u(v(m)+v(b))),w=l(_)/2,S=Math.round(o/f(w)*1e6)/1e6,k=Math.round(o/d(w)*1e6)/1e6,C=void 0,T=void 0;if(s-e==0)C=e,T=c-t>0?t+k:t-k;else if(c-t==0)C=s-e>0?e+k:e-k,T=t;else{var x=(c-t)/(s-e),I=c-x*s;C=(u(v(g)+v(y))*k+g*e+y*t-I*y)/(g+x*y),T=x*C+I}var E=void 0,P=void 0;if(n-e==0)E=e,P=r-t>0?t+k:t-k;else if(r-t==0)E=n-e>0?e+k:e-k,P=t;else{var O=(r-t)/(n-e),A=r-O*n;E=(u(v(m)+v(m))*k+m*e+b*t-A*b)/(m+O*b),P=O*E+A}var M=void 0,D=void 0,R=(C+E)/2-e,N=(T+P)/2-t;if(0===N)M=e,D=N>0?t+S:t-S;else{var B=N/R,L=t-B*e;M=(u(v(R)+v(N))*S+e*R+t*N-L*N)/(R+B*N),D=B*M+L}M=Math.round(1e6*M)/1e6,D=Math.round(1e6*D)/1e6;var j=T-D,F=C-M,U=h-2*w,W=p(j/F);0===j&&F<0&&(W=Math.PI);var q=(C-M)*(P-D)-(T-D)*(E-M);this.path.push({method:"arc",data:[M,D,o,W,q>0?W+U:W-U,q<0]}),this.subpath.push([E,P])}},{key:"clip",value:function(){this.actions.push({method:"clip",data:ke(this.path)})}},{key:"lineDashOffset",set:function(e){if("devtools"!==ms){var t=this.state.lineDash||[0,0];this.actions.push({method:"setLineDash",data:[t,e]})}else this.actions.push({method:"setLineDashOffset",data:[e]})}},{key:"globalCompositeOperation",set:function(e){this.actions.push({method:"setGlobalCompositeOperation",data:[e]})}},{key:"shadowBlur",set:function(e){if("devtools"===ms)return void this.actions.push({method:"setShadowBlur",data:[e]});this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,e,this.state.shadowColor]}),this.state.shadowBlur=e}},{key:"shadowColor",set:function(e){if("devtools"===ms)return void this.actions.push({method:"setShadowColor",data:[e]});var t=void 0;t="ios"===ms&&0===this.state.shadowBlur?[]:Se(e),this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,this.state.shadowBlur,t]}),this.state.shadowColor=t}},{key:"shadowOffsetX",set:function(e){if("devtools"===ms)return void this.actions.push({method:"setShadowOffsetX",data:[e]});this.actions.push({method:"setShadow",data:[e,this.state.shadowOffsetY,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetX=e}},{key:"shadowOffsetY",set:function(e){if("devtools"===ms)return void this.actions.push({method:"setShadowOffsetY",data:[e]});this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,e,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetY=e}},{key:"font",set:function(e){function t(){c.push({method:"setFontStyle",data:["normal"]}),l.state.fontStyle="normal"}function n(){c.push({method:"setFontWeight",data:["normal"]}),l.state.fontWeight="normal"}var r=this;this.state.font=e;var o=e.match(/^(([\w\-]+\s)*)(\d+r?px)(\/(\d+\.?\d*(r?px)?))?\s+(.*)/);if(!o)return void console.warn("Failed to set 'font' on 'CanvasContext': invalid format.");var i=o[1].trim().split(/\s/),a=parseFloat(o[3]),s=o[7],c=[],u="",l=this;if(i.forEach(function(e,o){["italic","oblique","normal"].indexOf(e)>-1?(c.push({method:"setFontStyle",data:[e]}),r.state.fontStyle=e):["bold","normal"].indexOf(e)>-1?(c.push({method:"setFontWeight",data:[e]}),r.state.fontWeight=e):0===o?t():1===o&&n()}),1===i.length&&n(),u=c.map(function(e){return e.data[0]}).join(" "),this.state.fontSize=a,this.state.fontFamily=s,"devtools"===ms)return u=u+" "+a+"px "+s,void this.actions.push({method:"setFont",data:[u]});this.actions.push.apply(this.actions,c),this.actions.push({method:"setFontSize",data:[a]},{method:"setFontFamily",data:[s]})},get:function(){return this.state.font}},{key:"fillStyle",set:function(e){Ce(this,"setFillStyle",e)}},{key:"strokeStyle",set:function(e){Ce(this,"setStrokeStyle",e)}},{key:"globalAlpha",set:function(e){e=Math.floor(255*parseFloat(e)),this.actions.push({method:"setGlobalAlpha",data:[e]})}},{key:"textAlign",set:function(e){this.actions.push({method:"setTextAlign",data:[e]})}},{key:"lineCap",set:function(e){this.actions.push({method:"setLineCap",data:[e]})}},{key:"lineJoin",set:function(e){this.actions.push({method:"setLineJoin",data:[e]})}},{key:"lineWidth",set:function(e){this.actions.push({method:"setLineWidth",data:[e]})}},{key:"miterLimit",set:function(e){this.actions.push({method:"setMiterLimit",data:[e]})}},{key:"textBaseline",set:function(e){this.actions.push({method:"setTextBaseline",data:[e]})}}]),e}();[].concat(vs,gs).forEach(function(e){Cs.prototype[e]="fill"==e||"stroke"==e?function(){this.actions.push({method:e+"Path",data:ke(this.path)})}:"fillRect"===e?function(e,t,n,r){this.actions.push({method:"fillPath",data:[{method:"rect",data:[e,t,n,r]}]})}:"strokeRect"===e?function(e,t,n,r){this.actions.push({method:"strokePath",data:[{method:"rect",data:[e,t,n,r]}]})}:"fillText"===e||"strokeText"===e?function(t,n,r,o){var i=[t.toString(),n,r];"number"==typeof o&&i.push(o),this.actions.push({method:e,data:i})}:"drawImage"==e?function(t,n,r,o,i,a,s,c,u){t=Te(this,t),void 0===u&&(a=n,s=r,c=o,u=i,n=void 0,r=void 0,o=void 0,i=void 0);var l=void 0;l=we(n)&&we(r)&&we(o)&&we(i)?[t,a,s,c,u,n,r,o,i]:we(c)&&we(u)?[t,a,s,c,u]:[t,a,s],this.actions.push({method:e,data:l})}:"clearRect"===e?function(){this.useHardwareAccelerate=!1,this.actions.push({method:e,data:[].slice.apply(arguments)})}:function(){this.actions.push({method:e,data:[].slice.apply(arguments)})}}),ys.forEach(function(e){"setFillStyle"==e||"setStrokeStyle"==e?Cs.prototype[e]=function(){var t=arguments[0];Ce(this,e,t)}:"setGlobalAlpha"===e?Cs.prototype[e]=function(){var t=[].slice.apply(arguments,[0,1]);t[0]=Math.floor(255*parseFloat(t[0])),this.actions.push({method:e,data:t})}:"setShadow"==e?Cs.prototype[e]=function(){var t=[].slice.apply(arguments,[0,4]);t[3]="ios"===ms&&0===t[2]?[]:Se(t[3]),this.actions.push({method:e,data:t}),this.state.shadowBlur=t[2],this.state.shadowColor=t[3],this.state.shadowOffsetX=t[0],this.state.shadowOffsetY=t[1]}:"setLineDash"==e?Cs.prototype[e]=function(){var t=[].slice.apply(arguments,[0,2]);t[0]=t[0]||[0,0],t[1]=t[1]||0,this.actions.push({method:e,data:t}),this.state.lineDash=t[0]}:"setFontSize"===e?Cs.prototype.setFontSize=function(e){this.state.font=this.state.font.replace(/\d+\.?\d*px/,e+"px"),this.state.fontSize=e,this.actions.push({method:"setFontSize",data:[e]})}:Cs.prototype[e]=function(){this.actions.push({method:e,data:[].slice.apply(arguments,[0,1])})}});var Ts=null,xs=function(e){var t=C();W("getSystemInfo",e,{beforeSuccess:function(e){"ios"===t&&(e.brand="iPhone"),"devtools"===t&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion="2.2.4",Ir.devicePixelRatio&&(e.devicePixelRatio=Ir.devicePixelRatio),Ts=Object.assign({},e),delete Ts.errMsg}})},Is=function(){var e={};return xs({success:function(t){delete t.errMsg,e=t,Ts=Object.assign({},e)}}),e},Es=function(){return Ts||Is()},Ps=function(){},Os={},As={},Ms={},Ds={},Rs=0,Ns=0,Bs=4500,Ls=Date.now,js=ye("onCanvasMethodCallback"),Fs=ye("onDrawCanvas");"undefined"!=typeof __widgetConfig__&&(Bs="number"==typeof __widgetConfig__.drawMinInterval?__widgetConfig__.drawMinInterval:25),U("canvasInsert",function(e,t){var n=e.canvasId,r=e.canvasNumber,o=e.pluginId,i=e.data,a=e.position,s=e.nodeId,c=e.compPath,u=ge(t,n,o,s);Os[r]={lastTouches:[],data:i,compPath:c},Ms[u]=r,As[r]=a,Array.isArray(Ds[u])&&(Ds[u].forEach(function(e){Re(r,e.actions,e.reserve,e.useHardwareAccelerate,e.success,e.fail,e.complete)}),delete Ds[u])}),U("canvasUpdate",function(e,t){var n=(e.canvasId,e.canvasNumber),r=e.position;As.hasOwnProperty(n)&&(As[n]=r)}),U("canvasRemove",function(e,t){var n=e.canvasId,r=e.pluginId,o=e.nodeId,i=ge(t,n,r,o);Ms[i]&&delete Ms[i]});var Us=Es(),Ws=function(e,t,n,r){n*=t,r*=t,e.x=e.x?e.x*t:0,e.y=e.y?e.y*t:0,(e.x<0||e.x>n)&&(e.x=0),(e.y<0||e.y>r)&&(e.y=0),e.width=e.width?Math.min(n-e.x,e.width*t):n-e.x,e.height=e.height?Math.min(r-e.y,e.height*t):r-e.y,e.destWidth=e.destWidth?e.destWidth/t:e.width/t,e.destHeight=e.destHeight?e.destHeight/t:e.height/t},qs=function(e,t,n,r){e.x=e.x?e.x:0,e.y=e.y?e.y:0,(e.x<0||e.x>n)&&(e.x=0),(e.y<0||e.y>r)&&(e.y=0),e.width=e.width?Math.min(n-e.x,e.width):n-e.x,e.height=e.height?Math.min(r-e.y,e.height):r-e.y,e.destWidth=e.destWidth?e.destWidth:e.width*t,e.destHeight=e.destHeight?e.destHeight:e.height*t},Vs=function(e,t){var n=E({},t);n.success=t.success,n.fail=t.fail,n.complete=t.complete;var r=300,o=150;As.hasOwnProperty(t.canvasId)&&(r=As[t.canvasId].width,o=As[t.canvasId].height),"ios"!==C()||"6.5.10"!==e.version&&"6.5.11"!==e.version&&"6.5.12"!==e.version?qs(n,e.pixelRatio,r,o):Ws(n,e.pixelRatio,r,o),W("canvasToTempFilePath",n)},zs=function(){return new Cs},Gs=function(){var e=new Cs;return e.isWidgetCanvas=!0,e},Ks=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new Cs(e,t,n,r)},Hs=function(e,t){var n=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(Jr.currentWebviewId)?t.__wxExparserNodeId__:"";return Ks(Jr.currentWebviewId,e,n)},Js=function(e,t,n){return Ks(Jr.currentWebviewId,e,n,t)},Qs=de("AppRoute"),Ys=Qs.internalOnMethod,Xs=Qs.internalOffMethod;q("onAppRoute",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.path=A(e.path),e.webviewId=void 0!==e.webviewId?e.webviewId:t,Jr.lastRoute=e.path,"appLaunch"!==e.openType&&"autoReLaunch"!==e.openType)for(var n in e.query)try{e.query[n]=decodeURIComponent(e.query[n])}catch(e){}Jr.query=e.query,"navigateBack"!==e.openType&&"redirectTo"!==e.openType||xe(),Jr.currentWebviewId=e.webviewId,F("onAppRoute",{},[e.webviewId]),Za()&&$a.emitter.emit("onAppRoute"),Qs.emit(e)});var $s=de("AppShow");$s.onMethod,$s.offMethod,$s.internalOnMethod;rs(function(e){$s.emitInternal(e),$s.emitGlobal(e.__public)}),Ys(ze);var Zs=de("AppService-Error");Zs.onMethod,Zs.offMethod;Reporter.registerErrorListener(function(e){Zs.emit(e)});var ec=de("AppRouteDone"),tc=ec.internalOnMethod;q("onAppRouteDone",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Jr.navigatorLock=!1,e.path=e.path.substring(0,e.path.length-5),e.webviewId=void 0!==e.webviewId?e.webviewId:t,Jr.lastRoute=e.path,ec.emit(e),F("onAppRouteDone",{},[t])});var nc=de("PageNotFound"),rc=(nc.onMethod,nc.offMethod,{page:void 0,time:Date.now(),count:0});q("onPageNotFound",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Jr.lastRoute="",e&&"string"==typeof e.path&&e.path.endsWith(".html")&&(e.path=A(e.path)),e&&"string"==typeof e.query&&(e.query=Ge(e.query)),rc.page&&rc.page===e.path?rc.count++:rc={page:e.path,time:Date.now(),count:1};var n=!0
;Date.now()-rc.time<=3e3&&rc.count>3?(n=!1,console.error('onPageNotFound Error: Can not found page "'+e.page+'".')):nc.emit(e),W("pageNotFoundCallback",{hasHandler:nc.getGlobalListeners().length>0&&n,webviewId:t})});var oc,ic=(Ua.wxprivate_setStorage,Ua.wxprivate_getStorage,[]),ac=["expires","domain","path","busid","indate","receivetime","spread"],sc=502,cc=503,uc=(oc={},Ke(oc,sc,null),Ke(oc,cc,null),function(e){var t=Date.now(),n=[];ic.forEach(function(e){var r=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!r||1e3*r>t)&&n.push(He(e))});var r=n.join(";; ");return e&&e.success&&e.success({cookies:r}),r}),lc=function(){var e=Date.now(),t=[];return ic.forEach(function(n){var r=n.expires||n.__wxprivate_calc_expires__;(!r||1e3*r>e)&&t.push(He(n))}),t.join(";; ")},fc=function(e){if(z("requestPayment",e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""})){var t=lc();t?e.cookie=t:delete e.cookie,W("requestPayment",Object.assign({},e,{grantMessageQuota:!0}))}},dc=function(e){W("verifyPaymentPassword",e)},pc=function(e){W("bindPaymentCard",e)},hc=function(e){W("requestPaymentToBank",e)},vc=function(e){W("requestVirtualPayment",e)},gc=function(e){W("openOfflinePayView",e)},yc=function(e){W("openWCPayCardList",e)},mc=function(e){W("requestMallPayment",e)},bc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Qa.get(e.shareTicket);if(t)W("operateWXData",E({data:{api_name:"webapi_getshareinfo",data:{share_key:t.shareKey,share_name:t.shareName}}},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getShareInfo")},beforeSuccess:function(e){"android"===C()&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data||(e.data={}),void 0!==e.data.data&&(e.rawData=e.data.data);try{var t=JSON.parse(e.data.data);t.roomTopic&&(e.roomTopic=t.roomTopic)}catch(e){}e.iv=e.data.iv,e.encryptedData=e.data.encryptedData,delete e.data}});else{G("getShareInfo",e,"invalid shareTicket")}},_c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!0===e.withShareTicket?W("showShareMenuWithShareTicket",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail:function(e){e.errMsg+=", with arg withShareTicket: true"}}):W("showShareMenu",e,{})},wc=function(){W("hideShareMenu",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Sc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Promise.all([new Promise(function(t,n){"boolean"==typeof e.withShareTicket?W("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:n},{beforeAll:function(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail:function(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})})]).then(function(t){"function"==typeof e.success&&Reporter.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])},function(t){"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)})},kc=function(e){var t=Qa.get(e.shareTicket);t?W("showUpdatableMessageSubscribeButton",Object.assign({},e,{shareKey:t.shareKey})):G("showUpdatableMessageSubscribeButton",e,"invalid shareTicket")},Cc=function(){W("openGoldenRedPacketDetail",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Tc=function(){W("sendGoldenRedPacket",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},xc=function(){W("sendBizRedPacket",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Ic=function(){W("sendRedPacket",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Ec=function(){W("openRedPacket",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Pc=void 0,Oc=function(e){W("login",e)},Ac=function(e){Pc&&clearTimeout(Pc),W("refreshSession",e,{beforeSuccess:function(e){Pc=setTimeout(function(){W("refreshSession")},1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:function(e){e.errMsg=e.errMsg.replace("refreshSession","checkSession")}})},Mc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("authorize",e,{scope:""})&&W("authorize",E(e,{scope:[e.scope]}),{beforeAll:function(e){delete e.body,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)}})},Dc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("operateWXData",E({},e,{data:{api_name:"webapi_getuserinfo",with_credentials:"boolean"!=typeof e.withCredentials||e.withCredentials,data:{lang:e.lang||"en"}}}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getUserInfo")},beforeSuccess:function(e){"android"===C()&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data||(e.data={}),void 0!==e.data.data&&(e.rawData=e.data.data);try{e.userInfo=JSON.parse(e.data.data),e.signature=e.data.signature,e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),delete e.data}catch(e){}}})},Rc=function(){W("getSetting",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{beforeSuccess:function(e){e.authSetting,e.authSetting=e.authSetting.reduce(function(e,t){return e[t.scope]=1===t.state,e},{})}})},Nc=function(e){var t=e.name,n=e.scene,r=void 0;"undefined"!=typeof __appServiceEngine__&&(r=__appServiceEngine__.getCurrentPagesByDomain("").find(function(e){return e.__wxWebviewId__===Jr.currentWebviewId})||{});var o=[t,n,Reporter.getAppType(),r?r.route:""].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"APIRecycle",value:o,force:!0})},Bc=function(){W("openSetting",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{beforeSuccess:function(e){var t=e.authSetting||[];e.authSetting=t.reduce(function(e,t){return e[t.scope]=1===t.state,e},{})}})},Lc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"devtools"===C()||Nc({name:"openSetting",scene:0}),Bc(e)},jc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("openWeRunSetting",{checkSupport:!0,success:function(){W("operateWXData",E({data:{api_name:"webapi_getwerunstep_history"}},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getWeRunData")},beforeSuccess:function(e){"android"===C()&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),delete e.data}})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})},Fc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("number"!=typeof e.step||e.step<0)return void G("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0");W("openWeRunSetting",{checkSupport:!1,success:function(){W("uploadWeRunData",e,{})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},Uc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("number"!=typeof e.step||e.step<0)return void G("addWeRunData",e,"parameter error: step should be number and greater or equal to 0");W("openWeRunSetting",{checkSupport:!1,success:function(){W("addWeRunData",e,{})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},Wc=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("operateWXData",r,{apiName:""})){var o={api_name:r.apiName,data:r.reqData||{},operate_directly:e};n&&(o.plugin_appid=r.pluginId),W("operateWXData",Object.assign({},{data:o},r),{beforeAll:function(e){void 0!==t&&(e.errMsg=e.errMsg.replace("operateWXData",t))},beforeSuccess:function(e){"android"===C()&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),e.respData=e.data,delete e.data}})}}},qc=Wc(!0),Vc=Wc(!1),zc=Wc(!1,void 0,!0),Gc=(Q("getOpenDeviceId","webapi_getdeviceinfo"),function(){G("sendGroupMessage",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"sendGroupMessage 接口已废弃")}),Kc=function(e){Vc({apiName:"webapi_reportgroupshare",reqData:e})},Hc=Q("checkIsUserAdvisedToRest ","webapi_getplaytimelimit",{},{},function(e){var t=e.todayPlayedTime;return{today_played_seconds:void 0===t?0:t}},function(e){e.result=!e.is_healthy,delete e.is_healthy}),Jc=function(e){z("checkIsUserAdvisedToRest",e,{todayPlayedTime:0})&&Hc(e)},Qc=C(),Yc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("ios"===Qc)return W("getBatteryInfo",e);setTimeout(function(){var t={};try{t=Xc(),"function"==typeof e.success&&e.success(t)}catch(t){"function"==typeof e.fail&&e.fail(t)}"function"==typeof e.complete&&e.complete(t)},0)},Xc=function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],{level:100,isCharging:!0});if(W("getBatteryInfo",{complete:function(t){return e=t}}),e.errMsg=e.errMsg?e.errMsg.replace("getBatteryInfo","getBatteryInfoSync"):"getBatteryInfoSync:ok",/fail/.test(e.errMsg))throw new Error(e.errMsg);return e},$c=!1,Zc=[],eu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={fast:0,game:20,ui:60,normal:200};W("enableAccelerometer",E(e,{interval:void 0!==t[e.interval]?t[e.interval]:t.normal,enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")}}),$c=!0},tu=function(){W("enableAccelerometer",E(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),$c=!1},nu=function(e){$c||(W("enableAccelerometer",{enable:!0}),$c=!0),Zc.push(Reporter.surroundThirdByTryCatch(e,"at onAccelerometerChange callback function"))};q("onAccelerometerChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ir.clientVersion>=369558016&&Ir.clientVersion<369558272&&(e.x&&(e.x=e.x/(180/Math.PI)),e.y&&(e.y=e.y/(180/Math.PI)),e.z&&(e.z=e.z/(180/Math.PI))),Zc.forEach(function(t){"function"==typeof t&&t(e)})});var ru=!1,ou=[],iu=function(){W("enableCompass",E(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableCompass","startCompass")}}),ru=!0},au=function(){W("enableCompass",E(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableCompass","stopCompass")}}),ru=!1},su=function(e){ru||(W("enableCompass",{enable:!0}),ru=!0),ou.push(Reporter.surroundThirdByTryCatch(e,"at onCompassChange callback function"))};q("onCompassChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&void 0!==arguments[1]&&arguments[1];ou.forEach(function(t){"function"==typeof t&&t(e)})});var cu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("makePhoneCall",e,{phoneNumber:""})&&W("makePhoneCall",e)},uu=function(){W("makeVoIPCall",E({allowBackCamera:!1,showOther:!1},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}))},lu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("scanCode",e,{})&&W("scanCode",e,{beforeSuccess:function(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},fu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("openQRCode",e,{})&&W("openQRCode",e)},du=function(e){if(""!==Jr.currentClipBoardData){var t=void 0;"undefined"!=typeof __appServiceEngine__&&(t=__appServiceEngine__.getCurrentPagesByDomain("").find(function(e){return e.__wxWebviewId__===Jr.currentWebviewId})||{});var n=[Jr.currentClipBoardData,t?t.route:"",e?1:0,t?Object.keys(t.options).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t.options[e])}).join("&"):"",Reporter.getAppType()].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Clipboard",value:n,force:!0})}},pu=Ir.accountInfo?Ir.accountInfo:{};Ir.onReady(function(){pu=Ir.accountInfo});var hu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("getClipboardData",Object.assign({},e,{success:function(t){var n=t.data;K("getClipboardData",e,!0,"",null,{data:n})},complete:function(){}}),{})},vu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("setClipboardData",e,{data:""})&&W("setClipboardData",e,{beforeSuccess:function(){W("showToast",{duration:1500,title:"内容已复制",icon:"none",mask:!1});try{Jr.currentClipBoardData=e.data,du(!0)}catch(e){}}})},gu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.uuids)return void G("startBeaconDiscovery",e,"must have uuid");if(!Array.isArray(e.uuids))return void G("startBeaconDiscovery",e,"uuid must be an Array");if(0!==e.uuids.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.uuids.some(function(e){return"string"==typeof e&&t.test(e)}))return void G("startBeaconDiscovery",e,"invalid service uuid")}W("startBeaconDiscovery",e)},yu=function(){W("stopBeaconDiscovery",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},mu=function(){W("getBeacons",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},bu=function(e){z("onBeaconUpdate",e,V)&&q("onBeaconUpdated",Reporter.surroundThirdByTryCatch(e,"at onBeaconUpdate callback function"))},_u=function(e){z("onBeaconServiceChange",e,V)&&q("onBeaconServiceChanged",Reporter.surroundThirdByTryCatch(e,"at onBeaconServiceChange callback function"))},wu=function(){W("captureScreen",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Su=function(e){q("onUserCaptureScreen",Reporter.surroundThirdByTryCatch(e,"at onUserCaptureScreen callback function"))},ku=function(){W("getScreenBrightness",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Cu=function(){W("setScreenBrightness",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Tu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("setKeepScreenOn",e,{keepScreenOn:!0})&&W("setKeepScreenOn",e,{})},xu=function(){W("vibrateShort",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Iu=function(){W("vibrateLong",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Eu=function(e){W("chooseContact",e)},Pu=function(){W("chooseWeChatContact",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},Ou=function(){W("addPhoneContact",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Au=function(){W("openBluetoothAdapter",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Mu=function(){W("closeBluetoothAdapter",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Du=function(){W("getBluetoothAdapterState",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Ru=function(e){q("onBluetoothAdapterStateChange",Reporter.surroundThirdByTryCatch(e,"at onBluetoothAdapterStateChange callback function"))},Nu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.services){if(!Array.isArray(e.services))return void G("startBluetoothDevicesDiscovery",{},"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some(function(e){return"string"==typeof e&&t.test(e)}))return void G("startBluetoothDevicesDiscovery",{},"invalid service uuid");e.services=e.services.map(function(e){return"android"===C()&&(e=e.toUpperCase()),4===e.length?"0000"+e+"-0000-1000-8000-00805F9B34FB":8===e.length?e+"-0000-1000-8000-00805F9B34FB":e})}}W("startBluetoothDevicesDiscovery",e,{})},Bu=function(){W("stopBluetoothDevicesDiscovery",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Lu=function(){W("getBluetoothDevices",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{beforeSuccess:function(e){Array.isArray(e.devices)||(e.devices=[]),e.devices.map(function(e){if(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=R(e.advertisData)),e.serviceData){var t=e.serviceData;Object.keys(t).forEach(function(e){t[e]&&(t[e]=R(t[e]))})}return e})}})},ju=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.services){if(!Array.isArray(e.services))return void G("getConnectedBluetoothDevices",e,"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some(function(e){return"string"==typeof e&&t.test(e)}))return void G("getConnectedBluetoothDevices",{},"invalid service uuid");e.services=e.services.map(function(e){return console.warn(C()),"android"===C()&&(e=e.toUpperCase()),4===e.length?"0000"+e+"-0000-1000-8000-00805F9B34FB":8===e.length?e+"-0000-1000-8000-00805F9B34FB":e})}}W("getConnectedBluetoothDevices",e,{beforeSuccess:function(e){Array.isArray(e.devices)||(e.devices=[]),e.devices=e.devices.map(function(e){return e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=R(e.advertisData)),e})}})},Fu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("createBLEConnection",e,{deviceId:""})&&W("createBLEConnection",e,{})},Uu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("closeBLEConnection",e,{deviceId:""})&&W("closeBLEConnection",e,{})},Wu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("getBLEDeviceServices",e,{deviceId:""})&&W("getBLEDeviceServices",e,{beforeSuccess:function(e){Array.isArray(e.services)||(e.services=[]),void 0===e.errCode&&(e.errCode=0)}})},qu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("getBLEDeviceCharacteristics",e,{deviceId:"",serviceId:""})&&W("getBLEDeviceCharacteristics",Object.assign({},e,{serviceId:"android"===C()?e.serviceId.toUpperCase():e.serviceId}),{beforeSuccess:function(e){Array.isArray(e.characteristics)||(e.characteristics=[])}})},Vu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("notifyBLECharacteristicValueChanged",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})){var t="android"===C();W("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:t?e.serviceId.toUpperCase():e.serviceId,characteristicId:t?e.characteristicId.toUpperCase():e.characteristicId}),{})}},zu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("notifyBLECharacteristicValueChange",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})){var t="android"===C();W("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:t?e.serviceId.toUpperCase():e.serviceId,characteristicId:t?e.characteristicId.toUpperCase():e.characteristicId}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("notifyBLECharacteristicValueChanged","notifyBLECharacteristicValueChange")}})}},Gu=function(e){q("onBluetoothDeviceFound",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];Array.isArray(t.devices)?n=t.devices:n.push(t),n=n.map(function(e){try{e.advertisData=R(e.advertisData)}catch(e){}try{var t=e.serviceData||{};Object.keys(t).forEach(function(e){t[e]&&(t[e]=R(t[e]))})}catch(e){}return e}),Reporter.surroundThirdByTryCatch(e,"at onBluetoothDeviceFound callback function")({devices:n})})},Ku=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("readBLECharacteristicValue",e,{deviceId:"",serviceId:"",characteristicId:""})){var t="android"===C();W("readBLECharacteristicValue",Object.assign({},e,{serviceId:t?e.serviceId.toUpperCase():e.serviceId,characteristicId:t?e.characteristicId.toUpperCase():e.characteristicId}),{})}},Hu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("writeBLECharacteristicValue",e,{value:new ArrayBuffer(0),deviceId:"",serviceId:"",characteristicId:""})&&W("writeBLECharacteristicValue",Object.assign({},e,{value:D(e.value),serviceId:e.serviceId.toUpperCase(),characteristicId:"android"===C()?e.characteristicId.toUpperCase():e.characteristicId}),{})},Ju=function(e){q("onBLEConnectionStateChanged",Reporter.surroundThirdByTryCatch(e,"at onBLEConnectionStateChanged callback function"))},Qu=function(e){q("onBLEConnectionStateChanged",Reporter.surroundThirdByTryCatch(e,"at onBLEConnectionStateChange callback function"))},Yu=function(e){q("onBLECharacteristicValueChange",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof t.value&&(t.value=R(t.value)),Reporter.surroundThirdByTryCatch(e,"at onBLECharacteristicValueChange callback function")(t)})},Xu=null,$u=["none","low","high"];q("onEvaluateWifi",Reporter.surroundThirdByTryCatch(Je,"at onEvaluateWifi callback function"));var Zu=function(){W("getHCEState",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},el=function(){W("startHCE",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},tl=function(){W("stopHCE",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},nl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("sendHCEMessage",e,{data:new ArrayBuffer(0)})&&W("sendHCEMessage",Object.assign({},e,{data:D(e.data)}),{})},rl=function(e){q("onHCEMessage",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof t.data&&(t.data=R(t.data)),Reporter.surroundThirdByTryCatch(e,"at onHCEMessage callback function")(t)})},ol=function(e,t){function n(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:+new Date+"_"+Math.random()}}function r(e){return e}return Q(e,t,{},{},n,r)}("getCloudFileUrl","qbase_commapi"),il=function(e,t,n){var r=[];if(e.forEach(function(e){/^(cloud):\/\//.test(e)&&r.push(e)}),0==r.length)return void("function"==typeof n&&n(e));ol({data:{fileid_list:r,type:t},success:function(t){var r=JSON.parse(t.rawData);if(r.baseresponse&&0==r.baseresponse.errcode){var o=new Map;r.download_list.forEach(function(e){o.set(e.fileid,e)});var i=[];e.forEach(function(e){if(/^(cloud):\/\//.test(e)){var t=o.get(e).download_url;i.push(t)}else i.push(e)}),"function"==typeof n&&n(i)}},fail:function(t){"function"==typeof n&&n(e)},complete:function(e){}})},al=function(){W("chooseImage",E({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{beforeSuccess:function(e){e.tempFileSizes?e.tempFiles=(e.tempFilePaths||[]).filter(function(e){return e}).map(function(t,n){return{path:t,size:e.tempFileSizes[n]}}):e.tempFiles=(e.tempFiles||[]).filter(function(e){return e.path&&"number"==typeof e.size}),delete e.tempFileSizes}})},sl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("previewImage",e,{urls:[""]})){var t=Object.assign({},e);il(t.urls,"image",function(e){var n=t.urls;if(t.urls=e,t.current){var r=n.indexOf(t.current);r>=0&&(t.current=t.urls[r])}t.urls&&(t.urls=t.urls.map(function(e){return ra.get(e)||e})),W("previewImage",t)})}},cl=function(e){var t=Object.assign({},e),n=[t.src];il(n,"image",function(e){return t.src=e[0],ul(t,oi)})},ul=function(e,t){z("getImageInfo",e,{src:""})&&(/^(http|https):\/\//.test(e.src)?t({url:e.src,success:function(t){e.src=t.tempFilePath,W("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})},fail:function(t){G("getImageInfo",e,"download image fail")}}):/^wxfile:\/\//.test(e.src)?W("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}}):(e.src=S(Jr.lastRoute,e.src,!1),W("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})))},ll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.filePath=ra.get(e.filePath)||e.filePath,W("saveImageToPhotosAlbum",e,{})},fl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.sourceType=e.sourceType||["album","camera"],e.camera=e.camera||["front","back"],"boolean"!=typeof e.compressed&&(e.compressed=!0),W("chooseVideo",e)},dl=function(){W("saveVideoToPhotosAlbum",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},pl=[{}];U("loadedFontFace",function(e){if(e.cbID){var t=pl[e.cbID];t&&("loaded"==e.status?"function"==typeof t[0]&&t[0](e):"function"==typeof t[1]&&t[1](e),"function"==typeof t[2]&&t[2](e))}});var hl=function(e){z("playVoice",e,{filePath:""})&&W("playVoice",e)},vl=function(e){W("pauseVoice",e)},gl=function(e){W("stopVoice",e)},yl=function(e){q("onVoicePlayEnd",Reporter.surroundThirdByTryCatch(e,"at onVoicePlayEnd callback function"))},ml=new kr,bl={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]};q("onRecorderStateChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;delete e.state,ml.emit("onRecorderStateChange_"+t,e)});var _l=function(e){W("operateRecorder",Object.assign({},e))},wl={start:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,audioSource:"auto"},e);if(-1===Object.keys(bl).map(function(e){return parseInt(e)}).indexOf(t.sampleRate))throw new Error('invalid sampleRate "'+t.sampleRate+'", sampleRate should be one of '+JSON.stringify(Object.keys(bl)));if(t.encodeBitRate>bl[t.sampleRate][1]||t.encodeBitRate<bl[t.sampleRate][0])throw new Error('invalid encodeBitRate "'+t.encodeBitRate+'", encodeBitRate should be greater than '+bl[t.sampleRate][0]+" and less than "+bl[t.sampleRate][1]);t.operationType="start",t.fail=function(e){ml.emit("onRecorderStateChange_error",e)},_l(t)},pause:function(){_l({operationType:"pause",fail:function(e){ml.emit("onRecorderStateChange_error",e)}})},resume:function(){_l({operationType:"resume",success:function(){ml.emit("onRecorderStateChange_resume")},fail:function(e){ml.emit("onRecorderStateChange_error",e)}})},stop:function(){_l({operationType:"stop",fail:function(e){ml.emit("onRecorderStateChange_error",e)}})},onStart:function(e){ml.removeAllListeners("onRecorderStateChange_start"),ml.on("onRecorderStateChange_start",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()})},onResume:function(e){ml.removeAllListeners("onRecorderStateChange_resume"),ml.on("onRecorderStateChange_resume",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onResume callback function")()})},onPause:function(e){ml.removeAllListeners("onRecorderStateChange_pause"),ml.on("onRecorderStateChange_pause",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()})},onStop:function(e){ml.removeAllListeners("onRecorderStateChange_stop"),ml.on("onRecorderStateChange_stop",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onStop callback function")(t)})},onFrameRecorded:function(e){ml.removeAllListeners("onRecorderStateChange_frameRecorded"),ml.on("onRecorderStateChange_frameRecorded",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onFrameRecorded callback function")(t)})},onError:function(e){ml.removeAllListeners("onRecorderStateChange_error"),ml.on("onRecorderStateChange_error",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onError callback function")(t)})}},Sl=function(){return wl},kl=function(e){W("startRecord",e)},Cl=function(e){W("stopRecord",e)},Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl=new kr,Il=void 0,El={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0};q("onBackgroundAudioNext",function(){xl.emit("onBackgroundAudioNext")}),q("onBackgroundAudioPrev",function(){xl.emit("onBackgroundAudioPrev")}),q("onBackgroundAudioStateChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;delete e.state,"play"===t?(El.paused=!1,Jr.possessingBackgroundAudioPlayer=!0):"preempted"===t||"occupied"===t?(Jr.possessingBackgroundAudioPlayer=!1,xl.emit("onBackgroundAudioStateChange_stop",e)):"pause"===t?El.paused=!0:"stop"===t&&(El.paused=!0),xl.emit("onBackgroundAudioStateChange_"+t,e)});var Pl={play:function(){Qe({operationType:"play"})},pause:function(){Qe({operationType:"pause"})},seek:function(e){if("number"!=typeof e)throw new Error("wx.backgroundAudio.seek(currentTime): unexpected type "+(void 0===e?"undefined":Tl(e)));Qe({currentTime:e,operationType:"seek"})},stop:function(){Qe({operationType:"stop"})},onCanplay:function(e){xl.removeAllListeners("onBackgroundAudioStateChange_canplay"),xl.on("onBackgroundAudioStateChange_canplay",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onCanplay callback function")()})},onWaiting:function(e){xl.removeAllListeners("onBackgroundAudioStateChange_waiting"),xl.on("onBackgroundAudioStateChange_waiting",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onWaiting callback function")()})},onError:function(e){xl.removeAllListeners("onBackgroundAudioStateChange_error"),xl.on("onBackgroundAudioStateChange_error",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onError callback function")(t)})},onPlay:function(e){xl.removeAllListeners("onBackgroundAudioStateChange_play"),xl.on("onBackgroundAudioStateChange_play",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onPlay callback function")()})},onPause:function(e){xl.removeAllListeners("onBackgroundAudioStateChange_pause"),xl.on("onBackgroundAudioStateChange_pause",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onPause callback function")()})},onSeeking:function(e){xl.removeAllListeners("onBackgroundAudioStateChange_seeking"),xl.on("onBackgroundAudioStateChange_seeking",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onSeeking callback function")()})},onSeeked:function(e){xl.removeAllListeners("onBackgroundAudioStateChange_seeked"),xl.on("onBackgroundAudioStateChange_seeked",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onSeeked callback function")()})},onEnded:function(e){xl.removeAllListeners("onBackgroundAudioStateChange_ended"),xl.on("onBackgroundAudioStateChange_ended",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onEnded callback function")()})
},onStop:function(e){xl.removeAllListeners("onBackgroundAudioStateChange_stop"),xl.on("onBackgroundAudioStateChange_stop",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onStop callback function")()})},onTimeUpdate:function(e){var t=this;void 0===Il&&(Il=setInterval(function(){var e=El.currentTime;Ye("currentTime",function(n){"active"===Jr.runningStatus&&!1!==Jr.possessingBackgroundAudioPlayer&&t.currentTime!==e&&xl.emit("onBackgroundAudioStateChange_timeupdate")})},250)),xl.removeAllListeners("onBackgroundAudioStateChange_timeupdate"),xl.on("onBackgroundAudioStateChange_timeupdate",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onTimeUpdate callback function")()})},onNext:function(e){xl.removeAllListeners("onBackgroundAudioNext"),xl.on("onBackgroundAudioNext",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onNext callback function")()})},onPrev:function(e){xl.removeAllListeners("onBackgroundAudioPrev"),xl.on("onBackgroundAudioPrev",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.backgroundAudio.onPrev callback function")()})}};["src","title","epname","singer","startTime","coverImgUrl","currentTime","duration","paused","buffered","webUrl","protocol"].forEach(function(e){Object.defineProperty(Pl,e,{get:function(){return"src"==e&&Pl.srcCloudId?Pl.srcCloudId:"coverImgUrl"==e&&Pl.coverCloudId?Pl.coverCloudId:Ye(e)},set:function(t){["src","title","epname","singer","coverImgUrl","startTime","webUrl","protocol"].indexOf(e)>-1&&("src"==e?il([t],"audio",function(n){/^(cloud):\/\//.test(t)?Pl.srcCloudId=t:Pl.srcCloudId="",Xe(e,n[0])}):"coverImgUrl"==e?il([t],"image",function(n){/^(cloud):\/\//.test(t)?Pl.coverCloudId=t:Pl.coverCloudId="",Xe(e,n[0])}):Xe(e,t))}})});var Ol={},Al=function(){return Pl},Ml=function(e){if(!1===Jr.possessingBackgroundAudioPlayer){var t={errMsg:"getBackgroundAudioPlayerState: fail not playing"};"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}else W("getMusicPlayerState",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("getMusicPlayerState","getBackgroundAudioPlayerState")}})},Dl=function(){W("operateMusicPlayer",E({operationType:"play"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","playBackgroundAudio")}})},Rl=function(){W("operateMusicPlayer",E({operationType:"pause"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","pauseBackgroundAudio")}})},Nl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("seekBackgroundAudio",e,{position:1})&&W("operateMusicPlayer",E({operationType:"seek"},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","seekBackgroundAudio")}})},Bl=function(){W("operateMusicPlayer",E({operationType:"stop"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","stopBackgroundAudio")}})},Ll=new kr;q("onMusicPlay",function(){Jr.possessingBackgroundAudioPlayer=!0,Ll.emit("onBackgroundAudioPlay")});var jl=function(e){Ll.removeAllListeners("onBackgroundAudioPlay"),Ll.on("onBackgroundAudioPlay",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at wx.onBackgroundAudioPlay callback function")()})},Fl=function(e){q("onMusicPause",Reporter.surroundThirdByTryCatch(e,"at onBackgroundAudioPause callback function"))},Ul=function(e){q("onMusicEnd",Reporter.surroundThirdByTryCatch(e,"at onBackgroundAudioStop callback function"))},Wl=function(e){W("getAvailableAudioSources",e)},ql=de("AudioInterruptionBegin"),Vl=ql.onMethod,zl=ql.offMethod,Gl=(ql.internalOnMethod,ql.internalOffMethod,de("AudioInterruptionEnd")),Kl=Gl.onMethod,Hl=Gl.offMethod,Jl=(Gl.internalOnMethod,Gl.internalOffMethod,!1),Ql=!1;q("onAudioInterruptionBegin",function(e){Jl=!0,!1===Ql&&ql.emit(e)}),q("onAudioInterruptionEnd",function(e){Jl=!1,!1===Ql&&Gl.emit(e)});var Yl=function(){return Ql},Xl=("function"==typeof Symbol&&Symbol.iterator,function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),$l=new WeakMap,Zl=new WeakMap,ef=new WeakMap,tf=new WeakMap,nf=new WeakMap,rf=new WeakMap,of=new Set,af={};Tr.EventHandler&&(Tr.EventHandler.onbindingobjectdestruct=function(e){var t=af[e];W("getAudioState",{audioId:t,success:function(e){of.delete(t),!0===e.paused&&W("destroyAudioInstance",{audioId:t,complete:function(e){}})}})});var sf=new kr;q("onAudioStateChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.state=e.state.toLowerCase();var t=e.state,n=e.audioId;delete e.audioId,delete e.state,sf.emit(n+"_onAudioStateChange_"+t,e)});var cf=function(){return function(e,t){var n=this;Zl.set(this,Object.assign(Zl.get(this),Ze({},e,t))),"src"===e&&Zl.set(this,Object.assign(Zl.get(this),{paused:!0})),tf.get(this)&&(setTimeout(function(){var r=Object.assign({},Zl.get(n),nf.get(n),{timestamp:Date.now(),audioId:$l.get(n),success:function(){Zl.set(n,Object.assign(Zl.get(n),Ze({},e,t)))},fail:function(){uf.call(n)},complete:function(e){}});Yl()&&(r.autoplay=!1),W("setAudioState",r),tf.set(n,!0)},0),tf.set(this,!1)),nf.set(this,Object.assign(nf.get(this),Ze({},e,t)))}}(),uf=function(e,t){var n=this,r=Zl.get(this)[e];return W("getAudioState",{audioId:$l.get(this),success:function(o){delete o.errMsg,Zl.set(n,Object.assign(Zl.get(n),o)),r=o[e],"function"==typeof t&&t(r)}}),r},lf=function(e){var t=$l.get(this);W("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:function(e){var t=e.errMsg;pf("error",{errMsg:t,errCode:-1})}},e),{beforeAll:function(e){}})},ff=function(e,t){var n=this,r=$l.get(this)+"_onAudioStateChange_"+e,o=function(r){var o="play"!==e;Zl.set(n,Object.assign(Zl.get(n),{paused:o})),Reporter.surroundThirdByTryCatch(t,"at audioContext.on"+e+" callback function")(r)};rf.set(t,o),sf.on(r,o)},df=function(e,t){var n=$l.get(this)+"_onAudioStateChange_"+e;if("function"==typeof t){var r=rf.get(t);sf.off(n,r)}else sf.removeAllListeners(n)},pf=function(e,t){sf.emit($l.get(this)+"_onAudioStateChange_"+e,t)},hf=function(){function e(){var t=this;$e(this,e);var n=void 0;if(Zl.set(this,{}),nf.set(this,{}),ef.set(this,void 0),tf.set(this,!0),W("createAudioInstance",{timestamp:Date.now(),success:function(e){if(of.add(e.audioId),$l.set(t,e.audioId),Zl.set(t,{src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0}),Tr.BindingObject){var n=new Tr.BindingObject;t.__bindingObject=n,af[n.__id]=e.audioId}},fail:function(e){n=e.errMsg},complete:function(e){}}),n)throw new Error(n);["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach(function(e){t["on"+e]=function(n){ff.call(t,e.toLowerCase(),n)},t["off"+e]=function(n){df.call(t,e.toLowerCase(),n)}})}return Xl(e,[{key:"play",value:function(){var e=this;!1===Yl()&&setTimeout(function(){lf.call(e,{operationType:"play"})},0)}},{key:"pause",value:function(){var e=this;setTimeout(function(){lf.call(e,{operationType:"pause"})},0)}},{key:"stop",value:function(){var e=this;setTimeout(function(){lf.call(e,{operationType:"stop"})},0)}},{key:"seek",value:function(e){var t=this;if("number"!=typeof e||e<0)return void pf("error",{errMsg:"Failed to seek, the currentTime "+e+" is invalid."});setTimeout(function(){lf.call(t,{operationType:"seek",currentTime:1e3*e})},0)}},{key:"destroy",value:function(){var e=$l.get(this);["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach(function(t){var n=e+"_onAudioStateChange_"+t;sf.removeAllListeners(n)}),of.delete(e),W("destroyAudioInstance",{audioId:e})}},{key:"onTimeUpdate",value:function(e){var t=this,n=$l.get(this)+"_onAudioStateChange_timeupdate";void 0===ef.get(this)&&ef.set(this,setInterval(function(){if("active"===Jr.runningStatus&&!0!==Zl.get(t).paused&&1!==Zl.get(t).paused){var e=Zl.get(t).currentTime;uf.call(t,"currentTime",function(t){t!==e&&sf.emit(n)})}},250)),sf.removeAllListeners(n),sf.on(n,function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")()})}},{key:"offTimeUpdate",value:function(e){df.call(this,"timeupdate",e)}},{key:"src",get:function(){return this.cloudId?this.cloudId:uf.call(this,"src")},set:function(e){var t=this;if("string"!=typeof e||0===e.length)return void pf.call(this,"error",{errMsg:"Failed to set src, the src "+e+" is invalid."});il([e],"audio",function(n){/^(cloud):\/\//.test(e)?t.cloudId=e:t.cloudId="",e=n[0],cf.call(t,"src",e)})}},{key:"startTime",get:function(){return uf.call(this,"startTime")/1e3},set:function(e){if("number"!=typeof e)return void pf("error",{errMsg:"Failed to set startTime, the startTime "+e+" is invalid."});cf.call(this,"startTime",1e3*e)}},{key:"autoplay",set:function(e){"boolean"==typeof e&&cf.call(this,"autoplay",e)},get:function(){return uf.call(this,"autoplay")}},{key:"loop",set:function(e){"boolean"==typeof e&&cf.call(this,"loop",e)},get:function(){return uf.call(this,"loop")}},{key:"obeyMuteSwitch",set:function(e){"boolean"==typeof e&&cf.call(this,"obeyMuteSwitch",e)},get:function(){return uf.call(this,"obeyMuteSwitch")}},{key:"volume",set:function(e){"number"!=typeof e||e<0||e>1||cf.call(this,"volume",e)},get:function(){return uf.call(this,"volume")}},{key:"paused",get:function(){return uf.call(this,"paused")}},{key:"duration",get:function(){return uf.call(this,"duration")/1e3}},{key:"currentTime",get:function(){return uf.call(this,"currentTime")/1e3}},{key:"buffered",get:function(){return uf.call(this,"buffered")/1e3}}],[{key:"pauseAllAudio",value:function(){of.forEach(function(e){W("operateAudio",{timestamp:Date.now(),audioId:e,operationType:"pause",complete:function(e){}})})}}]),e}(),vf=hf,gf=function(){return new vf},yf=!1,mf=[],bf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!0===yf?mf.push(e):(yf=!0,W("getLocation",e,{beforeAll:function(){yf=!1},afterAll:function(e){mf.forEach(function(t){"function"==typeof t.complete&&Reporter.surroundThirdByTryCatch(t.complete,"at getLocation complete callback function")(e)}),mf=[]},afterSuccess:function(e){mf.forEach(function(t){"function"==typeof t.success&&Reporter.surroundThirdByTryCatch(t.success,"at getLocation success callback function")(e)})},afterFail:function(e){mf.forEach(function(t){"function"==typeof t.fail&&Reporter.surroundThirdByTryCatch(t.fail,"at getLocation fail callback function")(e)})}}))},_f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("openLocation",e,{latitude:1,longitude:1})&&W("openLocation",e)},wf=function(){W("chooseLocation",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},Sf=0,kf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.text?Date.now()-Sf<5e3?void G("setTopBarText",e,"invoke too frequently"):void W("setTopBarText",e,{beforeSuccess:function(){Sf=Date.now()}}):void G("setTopBarText",e,"invalid text")},Cf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#3CC51F",cancelColor:"#000000"};if(t=M(t,e),z("showModal",t,{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:""}))return t.confirmText.replace(/[^\x00-\xff]/g,"##").length>8?void G("showModal",e,"confirmText length should not larger than 4 Chinese characters"):t.cancelText.replace(/[^\x00-\xff]/g,"##").length>8?void G("showModal",e,"cancelText length should not larger than 4 Chinese characters"):void W("showModal",t,{beforeSuccess:function(e){e.confirm=Boolean(e.confirm),"ios"===C()?e.cancel=!e.confirm:e.cancel=!e.confirm&&Boolean(e.cancel)}})},Tf=1,xf=!1,If=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={duration:1500,title:"",icon:"success",mask:!1};t=M(t,e),e.image&&(t.image=S(Jr.lastRoute,e.image,!1)),["success","loading","none"].indexOf(t.icon)<0&&(t.icon="success"),"none"===t.icon&&(t.icon=""),z("showToast",t,{duration:1,title:"",icon:""})&&(xf=Tf++,setTimeout(function(){xf=!1},t.duration),W("showToast",t))},Ef=function(e){if("devtools"===C()&&Pf&&(!xf||xf<Pf))return xf=!1,e&&"function"==typeof e.success&&setTimeout(function(){e.success({errMsg:"hideToast:ok"})}),e&&"function"==typeof e.complete&&setTimeout(function(){e.complete({errMsg:"hideToast:ok"})}),void console.warn("请注意 showToast 与 hideToast 必须配对使用");xf=!1,W("hideToast",e)},Pf=!1,Of=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={title:"",icon:"loading",mask:!1,duration:1e8};t=M(t,e),t.icon="loading",delete t.image,z("showLoading",t,{duration:1,title:""})&&(Pf=Tf++,W("showToast",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("showToast","showLoading")}}))},Af=function(e){if("devtools"===C()&&xf&&(!Pf||Pf<xf))return Pf=!1,e&&"function"==typeof e.success&&setTimeout(function(){e.success({errMsg:"hideLoading:ok"})}),e&&"function"==typeof e.complete&&setTimeout(function(){e.complete({errMsg:"hideLoading:ok"})}),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");Pf=!1,W("hideToast",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})},Mf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={itemList:[],itemColor:"#000000"};if(t=M(t,e),delete t.cancelText,delete t.cancelColor,z("showActionSheet",t,{itemList:["1"],itemColor:""}))return e.itemList.length>6?void G("showActionSheet",e,"parameter error: itemList should not be large than 6"):void W("showActionSheet",t)},Df=function(e){var t={},n=void 0;if(W("getMenuButtonBoundingClientRect",{success:function(e){Object.assign(t,e),delete t.errMsg},fail:function(e){n=e.errMsg}}),n)throw new Wr(n);return t},Rf=function(){W("exitMiniProgram",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},Nf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("setEnableDebug",e,{enableDebug:!0})&&(W("setEnableDebug",e,{}),e.enableDebug&&console.warn("已通过 wx.setEnableDebug 打开调试"))},Bf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!0!==Jr.openUrlLock)if(e.url=e.url||"",I(e.url))Jr.openUrlLock=!0,W("openUrl",e,{afterAll:function(){Jr.openUrlLock=!1}});else{console.error("invalid url",e.url);var t={errMsg:'openUrl: invalid url "'+e.url+'"'};"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}},Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf=!1,Ff=[],Uf=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.webviewId||!t.data){console.error("invalid arguments");var n={errMsg:"sendDataToH5: arguments data or webviewId cannot be null"};return"function"==typeof t.fail&&t.fail(n),void("function"==typeof t.complete&&t.complete(n))}if("object"===Lf(t.data)&&(t.data=JSON.stringify(t.data)),jf)return void Ff.push(t);jf=!0,W("sendDataToH5",t,{afterAll:function(){if(jf=!1,Ff.length){var t=Ff.shift();e(t)}}})},Wf=!1,qf=[],Vf=function(e){if("function"==typeof e){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.webviewId||!t.data)return void console.error("invalid arguments in onH5Data callback");"string"==typeof t.data&&(t.data=JSON.parse(t.data)),e(t)};qf.push(t),Wf||(q("onH5Data",et),Wf=!0)}},zf="undefined"!=typeof __initHelper&&1===__initHelper,Gf=function(){try{return Zi.apply(this,arguments)}catch(e){return{errMsg:e.message}}},Kf=function(e){try{return la.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return{errMsg:e.message}}},Hf=function(){try{return wa.apply(this,arguments)}catch(e){return{errMsg:e.message}}},Jf=function(){try{return{stat:ga.apply(this,arguments),errMsg:"statSync:ok"}}catch(e){return{errMsg:e.message}}},Qf=function(){try{return{data:Ji.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message}}},Yf=function(){try{da.apply(this,arguments);return{errMsg:"unlinkSync:ok"}}catch(e){return{errMsg:e.message}}},Xf=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},$f=function(e){"string"!=typeof e&&(e+="");var t=0,n=void 0,r=void 0;for(n=0;n<e.length;n++)r=e.charCodeAt(n),r<127?t+=1:128<=r&&r<=2047?t+=2:2048<=r&&r<=65535&&(t+=3);return t},Zf=!1,ed=void 0,td=void 0,nd=4,rd=2e3,od=[],id=void 0,ad={lastLogNum:1,lastLogSize:0},sd=!1,cd=!1,ud=!1,ld={},fd=function(e){return td+"log"+e},dd=y(function(e){return Kf(e).errMsg.indexOf("accessSync:ok")>=0}),pd=y(function(e){var t=Kf(e).errMsg;return t.indexOf("fail")>=0&&(t.indexOf("access denied")>=0||t.indexOf("no permission")>=0)}),hd=y(function(){if(!zf&&Zf&&!sd){if(ed=Ir&&"devtools"===Ir.platform,td=(Ir&&Ir.env.USER_DATA_PATH||(ed?"http://usr":"wxfile://usr"))+"/miniprogramLog/",!dd(td))return Gf(td),sd=!0,void(ud=pd(td));if(!(ud=pd(td))){for(var e=1;e<=nd+1&&dd(fd(e));)ld[e]=!0,ad.lastLogNum=e,e++;var t=Jf(fd(ad.lastLogNum));t.stat&&(ad.lastLogSize=t.stat.size),sd=!0}}}),vd=y(function(){if(!zf&&!ud&&od.length&&!cd){for(var e=[],t=0,n=0;n<od.length;n++){var r=$f(od[n]);if(r>102400)console.warn("[wx.log warn] each log size exceed 100KB will be discard.");else{if(t+r>102400)break;t+=r,e.push(od[n])}}if(e.length){if(ad.lastLogSize+t>1048576){if(ad.lastLogNum+1>=nd+2)return cd=!0,void tt();ad.lastLogNum++,ad.lastLogSize=0}n==od.length?od=[]:od.splice(0,n),ld[ad.lastLogNum]||dd(fd(ad.lastLogNum))?ka({filePath:fd(ad.lastLogNum),data:(ad.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail:function(e){console.log("log appendFile err "+e.errMsg)},success:function(e){}}):Yi({filePath:fd(ad.lastLogNum),data:(ad.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail:function(e){console.log("log writeFile err "+e.errMsg)}}),ad.lastLogSize+=t}}}),gd={};["info","debug","log","warn"].forEach(function(e){gd[e]=function(){if(!zf&&!ud&&Zf&&arguments.length&&(hd(),ad)){for(var t=[],n=0;n<arguments.length;n++)"number"==typeof arguments[n]||"string"==typeof arguments[n]?t.push(arguments[n]):t.push(JSON.stringify(arguments[n]));t.splice(0,0,Xf(new Date),"["+e+"]"),od.push(t.join(" "))}}}),gd._getUserLog=function(){for(var e={},t=1;t<=nd+1;t++)e["log"+t]=Jf(fd(t));return e},Ir.onReady(function(){zf||(Zf=!0,hd(),y(nt)())}),Ka(function(){zf||vd()});var yd=y(Uf),md=y(Vf);zf||md(function(e){e.data&&"uploadUserLog"===e.data.type&&ot({index:1,webviewId:e.webviewId})});var bd=Tr.Canvas,_d=Tr.Image,wd=void 0,Sd={"2d":null,webgl:null},kd={Image:null,Canvas:null,CanvasRenderingContext2D:null,CanvasPattern:null,CanvasGradient:null,ImageData:null,TextMetrics:null},Cd=new WeakMap,Td=("devtools"===Ir.platform?Ir.appConfig.subContext:Ir.subContext,function(e){if(Sd[e])return Sd[e];var t=it(),n=t.getContext(e),r=Object.getPrototypeOf(n),o=at(r);return"2d"===e?(ct(o,"getImageData"),["drawImage","createPattern"].forEach(function(e){ut(o,e)})):["texImage2D","texSubImage2D"].forEach(function(e){ut(o,e)}),Sd[e]=o,Sd[e]}),xd=function(){if(wd)return wd;var e=it(),t=Object.getPrototypeOf(e),n=at(t);ct(n,"toDataURL");var r=n.getContext;return n.getContext=function(e,t){if(Ad(this).isSharedCanvas)return{};var n=r.call(this,e,t);return/2d|webgl/.test(e)&&(n.__proto__=Td(e)),Cd.set(n,this),Object.defineProperty(n,"canvas",{value:this,configurable:!1,writeable:!1}),n},wd=n,n},Id=Tr.Canvas,Ed=new WeakMap,Pd=0,Od=function(e){return Ed.get(e).canvasId},Ad=function(e){if(null!=e)return Ed.get(e)},Md=("devtools"===Ir.platform?Ir.appConfig.subContext:Ir.subContext,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.secure,n=void 0!==t&&t,r=e.inner,o=void 0!==r&&r,i=e.isSharedCanvas,a=void 0!==i&&i,s="devtools"===Ir.platform?Ir.appConfig.subContext:Ir.subContext,c="string"==typeof s,u=new Id;c&&(u.__proto__=xd()),u.__id=u.__id||Pd++,Ed.set(u,{canvasId:u.__id,secure:n,inner:o,isSharedCanvas:a}),delete u.__id;var l="devtools"===Ir.platform?u:Od(u),f=function(e){if(!o&&n){var t=ra.set(e.tempFilePath);e.tempFilePath=t}};return u.toTempFilePathSync=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0,n=void 0;if(W("canvasToTempFilePathSync",Object.assign(e,{canvasId:l},{success:function(e){t=e.tempFilePath},fail:function(e){n=e.errMsg}}),{beforeSuccess:f}),n)throw new Error(n);return t},u.toTempFilePath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("canvasToTempFilePath",Object.assign(e,{canvasId:l}),{beforeSuccess:f})},u}),Dd=function(){return Nd},Rd=void 0,Nd=void 0;Ir.onReady(function(){var e="devtools"===Ir.platform?Ir.appConfig.subContext:Ir.subContext,t="string"==typeof e;Rd=Md({secure:t}),st(),Nd=Md({secure:t,isSharedCanvas:!0}),Nd.width=Ir.screenWidth,Nd.height=Ir.screenHeight});var Bd=!1,Ld=function(){return Bd?Md():(Bd=!0,Rd)},jd=function(){return Md()},Fd=Tr.Image,Ud=function(){return new Fd},Wd=(n(2),C()),qd=function(e){W("operateWXData",Object.assign({},e,{data:{api_name:"webapi_reportgroupshare",data:{path:e.path,share_key:e.shareKey}},success:function(t){"android"===Wd&&(t.data=JSON.parse(t.data));var n=JSON.parse(t.data.data);0===n.errcode?(t.expiresIn=n.expires_in,t.groupMsgTicket=n.group_msg_ticket,delete t.data,K("getGroupMsgTicket",e,!0,"",0,t)):K("getGroupMsgTicket",e,!1,n.errmsg,n.errcode)},fail:function(t){K("getGroupMsgTicket",e,!1,t.errMsg,-1)},complete:function(){}}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getGroupMsgTicket")}})},Vd=function(e){qd(e)},zd=Hn.ShareInfoStorage,Gd=function(e){return function(t,n){var r=t.shareInfos;delete t.shareInfos,void 0!==r&&r.length>0?(r=r.filter(function(e){return e.shareKey&&e.shareName}),t.shareTickets=r.map(function(e){return zd.set(e.shareKey,e.shareName)}),"devtools"===C()?(delete t.shareTickets,delete t.shareInfos,n()):e.getGroupMsgTicket?Promise.all(r.map(function(e){return new Promise(function(t,n){var r=e.shareKey;Vd({shareKey:r,success:function(e){t({groupMsgTicket:e.groupMsgTicket,expiresIn:e.expiresIn})},fail:function(e){t({groupMsgTicket:""})}})})})).then(function(e){t.groupMsgInfos=e,n()}):n()):n()}},Kd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="",n="string"==typeof e.query?e.query:"";n.length>2e3&&(console.warn('shareAppMessage: query exceed max length limit 2000: "'+n.length+'"'),n=n.substr(0,2e3)),n&&(t="?"+n),e.useDefaultSnapshot=!1,e.imageUrl=ra.get(e.imageUrl)||e.imageUrl,W("shareAppMessageDirectly",Object.assign({},e,{path:t,success:function(t){"devtools"===C()||K("shareAppMessage",e,!0,"",null,t)},fail:function(t){if("devtools"===C());else{var n=t.errMsg;n=-1!==n.indexOf("cancel")?"cancel":n.replace("shareAppMessage:fail",""),K("shareAppMessage",e,!1,n)}},complete:null}),{beforeSuccess:Gd(e),beforeAll:function(e){e.errMsg=e.errMsg.replace("shareAppMessageDirectly","shareAppMessage")}})},Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd=Hn.ShareInfoStorage,Qd=void 0;Ir.onReady(function(){Qd=Ir.appLaunchInfo});var Yd=function(){if("object"===Hd(Qd.shareInfo)&&null!==Qd.shareInfo){var e=Qd.shareInfo;Qd.shareTicket=Jd.set(e.shareKey,e.shareName),Jd.lastShareTicket=Qd.shareTicket,delete Qd.shareInfo}return Qd.query||(Qd.query={}),1022===Qd.scene&&(Qd.query={}),Qd},Xd=function(e){"function"==typeof Tr.setPreferredFramesPerSecond?Tr.setPreferredFramesPerSecond(e):console.warn("当前版本暂不支持设置帧率")},$d=function(e){return"function"==typeof Tr.loadFont?Tr.loadFont(e):(console.warn("当前版本暂不支持此加载自定义字体"),null)},Zd={now:Tr.performanceNow},ep=function(){return Zd},tp=[],np=Ir.platform,rp=void 0,op=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?rp=e:tp.push(e)};q("onMemoryWarningReceive",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"android"===np&&e.level<10||(tp.length?tp.forEach(function(t){"function"==typeof t&&t(e)}):"function"==typeof rp&&rp(e))});var ip=Date.now();op(function(e){Date.now()-ip>1e3&&sp(),ip=Date.now()},!0);var ap=function(){for(var e={},t=0;t<1e5;t++)e[t]=[];e=null},sp=function(){Tr.gc?Tr.gc():ap()},cp=["start","move","end","cancel"],up=new kr,lp={};cp.forEach(function(e){Tr.EventHandler["ontouch"+e]="start"===e?function(t){na.emit("beforeTouchStart",t),up.emit(e,t)}:function(t){up.emit(e,t)},lp["onTouch"+(e.charAt(0).toUpperCase()+e.slice(1))]=function(t){up.on(e,t)},lp["offTouch"+(e.charAt(0).toUpperCase()+e.slice(1))]=function(t){t?up.off(e,t):up.removeAllListeners(e)}});var fp=lp,dp=de("Game-Error"),pp=dp.onMethod,hp=dp.offMethod;Reporter.registerThirdErrorListener(function(e){dp.emit({message:e,stack:""})}),q("onError",function(e){Reporter.thirdErrorReport({error:e,extend:""})});var vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp=null,yp=function(e){gp=e},mp=function(e){gp=null};q("onShareAppMessage",function(e){var t={};"function"==typeof gp&&(t=gp({}),"object"!==(void 0===t?"undefined":vp(t))&&(t={}));var n="string"==typeof t.query?t.query:"";n.length>2e3&&(console.warn('onShareAppMessage: query exceed max length limit 2000: "'+n.length+'"'),n=n.substr(0,2e3)),t.path=n?"?"+n:"";var r=Object.assign({},e,t,{success:function(e){"devtools"===C()||K("shareAppMessage",t,!0,"",null,e)},fail:function(e){"devtools"===C()||K("shareAppMessage",t,!1,e.errMsg.replace("shareAppMessage:fail",""))},complete:null});r.imageUrl=ra.get(r.imageUrl)||r.imageUrl,r.useDefaultSnapshot=!1,W("shareAppMessage",r,{beforeSuccess:Gd(r)})});var bp=function(e){console.warn("onLaunch 已废弃，请使用 wx.getLaunchOptionsSync()。文档：http://git.code.oa.com/wxweb/game-document/blob/master/API/getLaunchOptionsSync.md")},_p=function(e){console.warn("offLaunch 已废弃")},wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp=de("Show"),kp=Hn.ShareInfoStorage,Cp=C(),Tp=Sp.onMethod,xp=Sp.offMethod,Ip=Sp.internalOnMethod;Sp.internalOffMethod;q("onAppEnterForeground",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"===wp(e.shareInfo)&&null!==e.shareInfo){var t=e.shareInfo,n=kp.set(t.shareKey,t.shareName);kp.lastShareTicket=n}var r=e.path;if(delete e.path,r){var o=r.split("?")[1];if(o)try{e.query=o.split("&").reduce(function(e,t){var n=t.split("="),r=n[0],o=n[1];return e[r]=o,e},{})}catch(e){}}if("object"===wp(e.shareInfo)&&null!==e.shareInfo){var i=e.shareInfo;delete e.shareInfo,e.shareTicket=kp.set(i.shareKey,i.shareName),kp.lastShareTicket=e.shareTicket}lt(e)}),Ir.onReady(function(){"devtools"!==Cp&&setTimeout(function(){lt(Yd())})});var Ep=de("Hide"),Pp=Ep.onMethod,Op=Ep.offMethod,Ap=Ep.internalOnMethod;Ep.internalOffMethod;q("onAppEnterBackground",function(e){Ep.emit(e)});var Mp=function(e){console.warn("wx.onStickyStatusChange 已废弃，请勿继续使用")},Dp=function(e){console.warn("wx.offStickyStatusChange 已废弃，请勿继续使用")},Rp=new kr,Np=function(e){Rp.on("input",e)},Bp=function(e){e?Rp.off("input",e):Rp.removeAllListeners("input")},Lp=function(e){Rp.on("confirm",e)},jp=function(e){e?Rp.off("confirm",e):Rp.removeAllListeners("confirm")},Fp=function(e){Rp.on("complete",e)},Up=function(e){e?Rp.off("complete",e):Rp.removeAllListeners("complete")};["onKeyboardInput","onKeyboardConfirm","onKeyboardComplete"].forEach(function(e){var t=e.replace("onKeyboard","").toLowerCase();q(e,function(e){Rp.emit(t,e)})});var Wp=Es(),qp=Wp.lastWindowWidth,Vp=Wp.lastWindowHeight;q("onWindowResize",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Is();qp===t.windowWidth&&Vp===t.windowHeight||(qp=e.windowWidth=t.windowWidth,Vp=e.windowHeight=t.windowHeight,na.emit("onWindowResize",e))});var zp=function(e){na.on("onWindowResize",e)},Gp=function(e){na.off("onWindowResize",e)},Kp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.defaultValue&&e.maxLength){var t=parseInt(e.maxLength);isNaN(t)||(t=Math.max(0,t),e.defaultValue=e.defaultValue.toString().slice(0,t))}W("showKeyboard",e)},Hp=function(){W("hideKeyboard",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},Jp=function(){W("updateKeyboard",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},Qp=C(),Yp=function(e){if("devtools"===Qp){var t=null;return W("encodeArrayBufferSync",Object.assign(e,{success:function(e){t=e.buffer},fail:function(e){}})),t}return Tr.encodeArrayBuffer(e.data,e.format)},Xp=function(e){if("devtools"===Qp){var t="";return W("decodeArrayBufferSync",Object.assign(e,{success:function(e){t=e.result},fail:function(e){}})),t}return Tr.decodeArrayBuffer(e.data,e.format)},$p=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],Zp=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],eh=function(){return{left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0}},th=("function"==typeof Symbol&&Symbol.iterator,function(e,t,n){return Math.min(Math.max(t,e),n)}),nh=function(e){var t=e.outer,n=void 0===t?{width:0,height:0}:t,r=e.inner,o=void 0===r?{width:0,height:0}:r,i=e.maxScale,a=void 0===i?1e3:i,s=e.minScale,c=void 0===s?0:s,u=e.side,l=n.width/n.height,f=o.width/o.height,d=n.width/o.width,p=n.height/o.height,h=l>f?p:d;return"width"===u?h=d:"height"===u&&(h=p),h=th(h,c,a),o.width*=h,o.height*=h,n.width=Math.max(n.width,o.width),n.height=Math.max(n.height,o.height),{scale:h,outer:n,inner:o}},rh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){setTimeout(t,e)})},oh=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]},ih=function(){},ah=function(e,t){for(var n="",r=0,o=0;o<e.length;o++){if((r+=/[\u4e00-\u9fa5]/.test(e[o])?2:1)>t){n+="...";break}n+=e[o]}return n},sh=function(e){return e.split("-").map(function(e,t){return 0===t?e:e[0].toUpperCase()+e.slice(1)}).join("")},ch=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,r){e(Object.assign(t,{success:n,fail:r}))})}},uh=function(e){var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(function(e,t){return e=e.trim(),e=3===t?Math.floor(255*parseFloat(e)):parseInt(e),e=e.toString(16),1===e.length&&(e="0"+e),e}).join(""):"#00000000":e},lh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,
"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fh=new kr({maxListeners:2e5}),dh=1,ph=Ir.deviceOrientation,hh=function(e,t){var n=["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"],r=["layout"];return-1!==n.indexOf(e)?"element-"+t+"-"+e:-1!==r.indexOf(e)?e:void 0},vh=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.parentId,o=void 0===r?0:r,i=n.id,a=void 0===i?dh++:i,s=n.style,c=void 0===s?{}:s,u=n.props,l=void 0===u?{}:u,f=n.name,d=void 0===f?"":f;ft(this,e);var p=Is(),h=p.platform,v=p.model;this.parentId=o,this.id=a,this.name=d,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.readyResult=new Promise(function(e){t.on("ready",e)}),c=Object.assign(eh(),c),Object.assign(c,c[ph]);var g=/iphone x/.test(v.toLowerCase())?"iphone x":h;Object.assign(c,c[g]),Object.assign(c,c[g+"-"+ph]),this.style={},this.computedStyle=Object.assign({},c),this.lastComputedStyle=Object.assign({},c),this.layoutBox=null,Object.keys(c).forEach(function(e){Object.defineProperty(t.style,e,{configurable:!0,enumerable:!0,get:function(){return c[e]},set:function(n){if(n!==c[e]&&void 0!==n){if(c[e]=n,t.computedStyle[e]=n,t.lastComputedStyle[e]=n,-1!==$p.indexOf(e)&&t.style.scale){var r=n*t.style.scale;t.computedStyle[e]=r,t.lastComputedStyle[e]=r}"scale"===e&&$p.forEach(function(e){c[e]&&(t.computedStyle[e]=c[e]*n,t.lastComputedStyle[e]=c[e]*n)}),t.shouldUpdate=!0,"hidden"===e&&(n?(ih(t.id,t.name,"隐藏, 保存宽高",t.computedStyle.width,t.computedStyle.height),Zp.forEach(function(e){t.computedStyle[e]=0})):(ih(t.id,t.name,"显示, 设置回来",t.lastComputedStyle.width,t.lastComputedStyle.height),Zp.forEach(function(e){t.computedStyle[e]=t.lastComputedStyle[e]}))),t.requestLayout()}}})}),$p.forEach(function(e){if(t.style[e]&&t.style.scale){var n=t.style[e]*t.style.scale;t.computedStyle[e]=n,t.lastComputedStyle[e]=n}}),c.hidden&&Zp.forEach(function(e){t.computedStyle[e]=0}),Object.keys(l).forEach(function(e){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return l[e]},set:function(n){n!==l[e]&&(l[e]=n,t.shouldUpdate=!0,t.requestLayout())}})})}return lh(e,[{key:"getAbsolutePosition",value:function(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var t=this.getAbsolutePosition(e.parent),n=t.left,r=t.top;return{left:n+e.layoutBox.left,top:r+e.layoutBox.top}}},{key:"add",value:function(e){e.parent=this,e.parentId=this.id,this.children[e.id]=e,this.requestLayout()}},{key:"remove",value:function(e){var t=this;e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach(function(e){t.children[e].remove(),delete t.children[e]}),this.destroy()),this.requestLayout()}},{key:"emit",value:function(e,t){fh.emit(hh(e,this.id),t),this.bubbleEvent&&this.parent&&"click"===e&&this.parent.emit(e,t)}},{key:"on",value:function(e,t){fh.on(hh(e,this.id),t)}},{key:"once",value:function(e,t){fh.once(hh(e,this.id),t)}},{key:"off",value:function(e,t){fh.off(hh(e,this.id),t)}},{key:"nextLayout",value:function(e){var t=this;if(!e||"function"!=typeof e)return new Promise(function(e){return t.nextLayout(e)});setTimeout(e,250)}},{key:"nextUpdate",value:function(e){var t=this;if(!e||"function"!=typeof e)return new Promise(function(e){return t.nextUpdate(e)});this.once("update-done",e)}},{key:"ready",value:function(){var e=this,t=Object.keys(this.children).map(function(t){return e.children[t].ready()});return Promise.all(t.concat(this.readyResult))}},{key:"requestLayout",value:function(){this.emit("layout")}},{key:"insert",value:function(){}},{key:"update",value:function(){}},{key:"destroy",value:function(){var e=this;["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach(function(t){var n=hh(t,e.id);fh.removeAllListeners(n)})}}]),e}(),gh=function(e){var t=JSON.parse(e.data),n=t.id;fh.emit(hh("click",n))};q("onTextViewClick",gh),q("onImageViewClick",gh),q("onTouchStart",function(e){var t=JSON.parse(e.data),n=t.id;fh.emit(hh("touchstart",n),e.touch)}),q("onTouchMove",function(e){var t=JSON.parse(e.data),n=t.id;fh.emit(hh("touchmove",n),e.touches)}),q("onTouchEnd",function(e){var t=JSON.parse(e.data),n=t.id;fh.emit(hh("touchend",n),e.touch)}),q("onTouchCancel",function(e){var t=JSON.parse(e.data),n=t.id;fh.emit(hh("touchcancel",n),e.touches)});var yh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),mh=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},bh=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.style,r=e.props,o=e.type,i=void 0===o?"text":o,a=e.name,s=void 0===a?"":a,c=e.autoInsert,u=void 0!==c&&c,l=e.eventType,f=void 0===l?"touch":l,d=e.clickState,p=void 0!==d&&d,h=e.bubbleEvent,v=void 0!==h&&h;dt(this,t);var g=pt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{style:n,props:r,name:s}));g.type="text"===i?"TextView":"ImageView",g.eventType=f,g.autoInsert=u,g.bubbleEvent=v,"touch"===g.eventType&&p&&g.ready().then(function(){g.mask=new t({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click"}),g.mask.name="mask",g.add(g.mask)});var y=Date.now(),m={x:0,y:0};g.on("touchstart",function(e){p&&g.mask&&(g.mask.style.hidden=!1),y=Date.now(),m=e});var b=function(e){p&&g.mask&&(g.mask.style.hidden=!0);var t={x:0,y:0};try{t=g.getAbsolutePosition()}catch(e){}var n={absoluteX:t.left+m.x,absoluteY:t.top+m.y,relativeX:m.x,relativeY:m.y,pressInterval:Date.now()-y};g.emit("click",n)};return g.on("touchend",b),g.on("touchcancel",b),g.autoInsert&&g.insert(),g}return ht(t,e),yh(t,[{key:"toNativeData",value:function(){var e=this,t=["borderRadius","borderWidth","borderColor","opacity","overflow"].reduce(function(t,n){return t[n]=e.computedStyle[n],"borderColor"===n&&(t[n]=uh(e.computedStyle[n])),t},{});t.bgColor=uh(this.computedStyle.backgroundColor);var n={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(n={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(n.width=0,n.height=0),"ImageView"===this.type&&delete t.bgColor,this.mask&&(this.mask.style.width=n.width,this.mask.style.height=n.height),t.padding=[0,0,0,0],{parentId:this.parentId,viewId:this.id,position:n,hide:this.computedStyle.hidden,style:t,notCoverRect:!0}}},{key:"insert",value:function(){var e=this,t=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(function(n,r){W("insert"+e.type,Object.assign(t,{success:function(t){ih(e.name,e.id,"ready"),e.emit("ready"),n(t)},fail:r}))})}},{key:"update",value:function(){var e=this;this.shouldUpdate=!1;var t=this.toNativeData();return new Promise(function(n,r){W("update"+e.type,Object.assign(t,{success:n,fail:r}))})}},{key:"destroy",value:function(){var e=this;mh(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this);var n={viewId:this.id};return new Promise(function(t,r){W("remove"+e.type,Object.assign(n,{success:t,fail:r}))})}},{key:"animate",value:function(e){var t=this,n=e.left,r=e.top,o=e.duration,i={viewId:this.id,easing:"ease-in",duration:o,finalStyle:{left:n,top:r}};return new Promise(function(e,t){W("animateCoverView",Object.assign(i,{success:e,fail:t}))}).then(function(e){return t.style.left=n,t.style.top=r,e})}}]),t}(vh),_h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wh=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},Sh=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.style,r=e.value,o=void 0===r?"":r,i=e.name,a=void 0===i?"":i,s=e.autoInsert,c=void 0!==s&&s,u=e.eventType,l=e.bubbleEvent,f=e.clickState;return vt(this,t),gt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{style:n,props:{value:o},type:"text",name:a,autoInsert:c,eventType:u,bubbleEvent:l,clickState:f}))}return yt(t,e),_h(t,[{key:"toNativeData",value:function(){var e=this,n=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(function(t,n){return t[n]=e.computedStyle[n],t},{});return Object.assign(wh(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toNativeData",this).call(this),{label:Object.assign(n,{content:this.value})})}}]),t}(bh),kh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ch=n(3),Th=Es(),xh=Th.screenWidth,Ih=Th.screenHeight,Eh=function e(t){return Object.keys(t.children).map(function(e){return t.children[e]}).map(function(t){return{id:t.id,name:t.name,style:t.computedStyle,children:e(t)}})},Ph=function e(t,n){var r=t.map(function(t,r){var o=n[t.id],i=Promise.resolve();return o.isInserted?o.shouldUpdate&&(i=o.update()):i=o.insert(),i.then(function(n){return e(t.children,o.children)})});return Promise.all(r)},Oh=function e(t,n){t.forEach(function(t,r){var o=n[t.id],i=!1;o.layoutBox=o.layoutBox||{},["left","top","width","height"].forEach(function(e){i=i||o.layoutBox[e]!==t.layout[e],o.layoutBox[e]=t.layout[e]}),o.shouldUpdate=o.shouldUpdate||i,e(t.children,o.children)})},Ah=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.style,r=e.name;mt(this,t);var o=bt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{style:n,id:0,name:r})),i=null;return o.on("layout",function(){clearTimeout(i),i=setTimeout(function(){return o.layout()},0)}),o}return _t(t,e),kh(t,[{key:"layout",value:function(){var e=this,t={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:Eh(this)};return Ch(t),Oh(t.children,this.children),Ph(t.children,this.children).then(function(){return e.emit("update-done")})}}]),t}(vh),Mh=[],Dh={add:function(e){Mh.add(e)}};Ir.onReady(function(){Dh=new Ah({style:{width:xh,height:Ih},name:"layout"}),Mh.forEach(function(e){Dh.add(e)})});var Rh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Nh=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},Bh=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.style,r=e.src,o=void 0===r?"":r,i=e.name,a=void 0===i?"":i,s=e.autoInsert,c=void 0!==s&&s,u=e.eventType,l=e.bubbleEvent,f=e.clickState;return wt(this,t),St(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{style:n,props:{src:o},type:"image",name:a,autoInsert:c,eventType:u,bubbleEvent:l,clickState:f}))}return kt(t,e),Rh(t,[{key:"toNativeData",value:function(){return Object.assign(Nh(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toNativeData",this).call(this),{iconPath:this.src})}}]),t}(bh),Lh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jh={},Fh=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError"],Uh=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.style,r=e.name,o=e.x,i=void 0===o?0:o,a=e.y,s=void 0===a?0:a,c=e.width,u=void 0===c?300:c,l=e.height,f=void 0===l?200:l,d=e.hide,p=void 0!==d&&d,h=e.src,v=e.poster,g=e.initialTime,y=void 0===g?0:g,m=e.playbackRate,b=void 0===m?1:m,_=e.live,w=void 0!==_&&_,S=e.objectFit,k=void 0===S?"contain":S,C=e.controls,T=void 0===C||C,x=e.autoplay,I=void 0!==x&&x,E=e.muted,P=void 0!==E&&E,O=e.loop,A=void 0!==O&&O,M=e.enableProgressGesture,D=void 0===M||M,R=e.showCenterPlayBtn,N=void 0===R||R,B=e.autoInsert,L=void 0===B||B,j=e.scene,F=void 0===j?"default":j,U=e.preLoad,W=void 0!==U&&U;Ct(this,t);var q=Tt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{style:n,name:r}));q.isSrcChanged=!1,q.autoInsert=L,q.scene=F,q.preLoad=W,jh[q.id]=q;var V=null;q.emitter=new kr,q.deferred=[];var z={x:i,y:s,width:u,height:f,hide:p,src:h,poster:v,initialTime:y,playbackRate:b,live:w,objectFit:k,controls:T,autoplay:I,muted:P,loop:A,enableProgressGesture:D,showCenterPlayBtn:N};return Object.keys(z).forEach(function(e){Object.defineProperty(q,e,{configurable:!0,enumerable:!0,get:function(){return z[e]},set:function(t){if(z[e]=t,!q.isInserted)return void q.deferred.push({type:"property",property:e,value:t});"src"===e&&(q.isSrcChanged=!0),"playbackRate"===e?q.operate("playbackRate",[t]):(clearTimeout(V),V=setTimeout(function(){return q.update()},0))}})}),Fh.forEach(function(e){var t=e.toLowerCase().replace("video","");q[t]=function(e){},q.emitter.on(e,function(e){q[t](e)})}),q.autoInsert&&q.insert().then(function(){q.playbackRate&&1!==q.playbackRate&&q.operate("playbackRate",[q.playbackRate])}).then(function(e){q.deferred.forEach(function(e){"property"===e.type?q[e.property]=e.value:q.operate(e.method,e.args)})}),q}return xt(t,e),Lh(t,[{key:"insert",value:function(){var e=this;if(!this.isInserted)return this.isInserted=!0,new Promise(function(t,n){W("insertVideoPlayer",Object.assign(e.toNativeData(),{data:JSON.stringify({id:e.id}),filePath:e.src,scene:e.scene,preLoad:e.preLoad,success:function(n){e.emit("ready"),t(n)},fail:n}))})}},{key:"destroy",value:function(){var e=this;return new Promise(function(t,n){W("removeVideoPlayer",{videoPlayerId:e.id,success:t,fail:n}),delete jh[e.id]})}},{key:"toNativeData",value:function(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,poster:this.poster,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,autoplay:this.autoplay,muted:this.muted,loop:this.loop,customCache:!1,enableProgressGesture:this.enableProgressGesture,showCenterPlayBtn:this.showCenterPlayBtn};return this.isSrcChanged&&(t.filePath=this.src,this.isSrcChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}},{key:"update",value:function(){this.shouldUpdate=!1;var e=this.toNativeData();return new Promise(function(t,n){W("updateVideoPlayer",Object.assign({},e,{success:t,fail:n}))})}},{key:"operate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.isInserted?this.hide&&"playbackRate"!==e?Promise.reject(e+" can't be invoked when video is hidden"):new Promise(function(r,o){W("operateVideoPlayer",{videoPlayerId:t.id,type:e,data:n,success:r,fail:o})}):void this.deferred.push({type:"method",method:e,args:n})}},{key:"play",value:function(){return this.operate("play")}},{key:"pause",value:function(){return this.operate("pause")}},{key:"stop",value:function(){return this.operate("stop")}},{key:"seek",value:function(e){return this.operate("seek",[e])}},{key:"requestFullScreen",value:function(){return this.operate("requestFullScreen")}},{key:"exitFullScreen",value:function(){return this.operate("exitFullScreen")}}]),t}(vh);Fh.forEach(function(e){var t=e.replace("Video","");Uh.prototype[t]=function(t){this.emitter.on(e,Reporter.surroundThirdByTryCatch(t,"at "+e+" callback function"))};var n=t.replace("on","off");Uh.prototype[n]=function(t){t&&"function"==typeof t?this.emitter.off(e,t):this.emitter.removeAllListeners(e)}}),Fh.forEach(function(e){q(e,function(t){var n=t.videoPlayerId||JSON.parse(t.data).id,r=jh[n];r&&r.emitter.emit(e,t)})});var Wh=function(e){return new Uh(e)},qh=C(),Vh=function(e){if("devtools"===qh)W("parseXML",e);else{(new Tr.XMLReader).parse(e.xml,function(t){console.log("android",t),/ok/.test(t.errMsg)?"function"==typeof e.success&&e.success(t):"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)})}},zh=new Mr;q("onDeviceOrientationChange",function(e){zh.emit("deviceOrientationChange",e)});var Gh=function(e){W("enableDeviceOrientationChangeListening",{enable:!0}),zh.on("deviceOrientationChange",e)},Kh=function(e){W("enableDeviceOrientationChangeListening",{enable:!1}),zh.off("deviceOrientationChange",e)},Hh=__subContextEngine__.getGameOpenDataContext(),Jh=JSON.stringify,Qh=function(e){Hh.postMessage({data:Jh(e)})},Yh=function(e){Hh.onMessage(e)},Xh=void 0,$h=function(){return Xh||(Xh={postMessage:Qh,onMessage:Yh,canvas:Dd()})},Zh=function(e){if("dark"!==e.style&&"light"!==e.style)return void K("setMenuStyle",e,!1,'invalid style "'+e.style+'"');W("setMenuStyle",e)},ev=function(){G("createUserGameData",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"createUserGameData 接口已废弃")},tv=function(){G("updateUserGameData",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"updateUserGameData 接口已废弃")},nv=function(e){if(z("setStatusBarStyle",e,{style:""}))return"white"!==e.style&&"black"!==e.style?void G("setStatusBarStyle",e,'invalid style "'+e.style+'"'):void W("setStatusBarStyle",Object.assign({},e,{color:e.style}))},rv=C();try{if("devtools"===rv)var ov=document.createElement.bindapi,iv=document.body.appendChild.bind(document.body),av=null}catch(e){}var sv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontStyle,n=void 0===t?"normal":t,r=e.fontWeight,o=void 0===r?"normal":r,i=e.fontSize,a=void 0===i?16:i,s=e.fontFamily,c=e.text,u=void 0===c?"":c;if("devtools"===rv){av||(av=ov("div"),av.style.opacity=0,iv(av)),av.style.fontStyle=n,av.style.fontWeight=o,av.style.fontSize=a+"px",av.style.fontFamily=s,av.innerHTML=u||"ajghl~!";return av.clientHeight}var l=n+" "+o+" "+a+"px "+s;return Tr.getTextLineHeight(l,u)},cv=function(e){var t=Qa.get(e.shareTicket);if(!t||!t.shareKey)return void G("getGroupMsgTicket",e,"invalid shareTicket");Vd(Object.assign({},e,{shareKey:t.shareKey}))},uv=[],lv={add:function(e){e&&uv.indexOf(e)<0&&uv.push(e)},remove:function(e){var t=uv.indexOf(e);t>=0&&uv.splice(t,1)},get size(){return uv.length}},fv=lv,dv=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pv=new WeakMap,hv=new WeakMap,vv={},gv=function(e){console[e.level].apply(console,e.logs)};__safeway__.worker.onWorkerMsg(function(e,t){var n=vv[e],r=hv.get(n);if(t.__log__&&t.logs)return void gv(t);n&&"function"==typeof r&&r(t)});var yv=function(e){this.postMessage({__cmd__:"requireScript",__script__:e})},mv=function(){function e(t,n){It(this,e),pv.set(this,t),vv[t]=this,yv.call(this,n),fv.add(this)}return dv(e,[{key:"postMessage",value:function(e){var t=pv.get(this);__safeway__.worker.postMsgToWorker(t,e)}},{key:"onMessage",value:function(e){hv.set(this,e)}},{key:"terminate",value:function(){var e=pv.get(this);__safeway__.worker.terminate(e),fv.remove(this),pv.delete(this),hv.delete(this),delete vv[e]}}]),e}(),bv=mv,_v=1;Ir.onReady(function(){try{"number"==typeof Ir.wxAppInfo.maxWorkerConcurrent&&(_v=Ir.wxAppInfo.maxWorkerConcurrent)}catch(e){}});var wv=["app-service.js","game.js","subContext.js"],Sv=function(e){for(var t=0;t<wv.length;t++)if(e===wv[t])return!0;return!1},kv=function(e){if(Sv(e))throw new Error('createWorker: Worker "'+e+'" hit black list');if(fv.size>=_v)throw new Error("createWorker: exceed max concurrent workers limit.");var t=__safeway__.worker.create("workers.js");if(t>0)return new bv(t,e);throw-1===t?new Error('createWorker: Worker "'+e+'" does not exists.'):new Error("createWorker: unknown error.")},Cv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("navigateToMiniProgram",e,{appId:""})){delete e.sourcetype,delete e.preScene,delete e.preSceneNote,7!==__wxConfig.appType&&(delete e.scene,delete e.sceneNote);var t=uc();t?(e.privateExtraData=e.privateExtraData||{},e.privateExtraData.cookies=t):e.privateExtraData&&delete e.privateExtraData.cookies;var n=function(){Nc({name:"navigateToMiniProgram",scene:0})};"string"==typeof e.path&&e.path.trim().length>0?W("navigateToMiniProgram",E(e,{path:O(e.path).trim()}),{beforeSuccess:n}):W("navigateToMiniProgram",E(e,{path:void 0}),{beforeSuccess:n})}},Tv=!1;na.once("beforeTouchStart",function(){Tv=!0});var xv=function(e){Tv?Cv(e):K("navigateToMiniProgram",e,!1,"require user interaction")},Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev=If,Pv=Ef,Ov=Cf,Av=Kn.requestPayment,Mv=Kn.requestVirtualPayment,Dv=Gn.getSystemInfo,Rv={request:qo,showToast:Ev,hideToast:Pv,requestVirtualPayment:Mv,requestPayment:Av,getSystemInfo:Dv,showModal:Ov},Nv=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),o=n(3);e.exports={getVersion:function(){return"1.4.0"},subscribe:n(20),game:n(23),pcGame:n(26),goods:r,enterprise:o.fn.extend({},r,{init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.isEnterprise=!0,r.init(e)}})}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.call(this,e)}var o=n(2),i=n(4),a=n(3),s=n(19);a.inherits(r,o),a.fn.extend(r.prototype,{launchPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(!i._super.hasContext()){o.prototype.launchPay.call(this,e,t);var n=this.callTime=Date.now();this.app=new i({params:e,opt:this.opt,callback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.callTime!=n);else try{this.app&&this.app.report("before.callback",{callbackRes:JSON.stringify(e)}),t(e)}catch(e){this.app&&this.app.clientReport&&this.app.clientReport("callback to user exception, msg = "+e.message+";stack="+(e.stack||""),32,"midaspay/api/goods.js")}try{r.instance.destroy(),r.instance=null}catch(e){}}.bind(this)})}}}),Object.defineProperty(r.prototype,"launchPay",s(r.prototype,"launchPay",Object.getOwnPropertyDescriptor(r.prototype,"launchPay"))),r.instance=null,e.exports={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=r.instance?r.instance:r.instance=new r(e)},get:function(){if(!r.instance)throw Error("goods not initalize");return r.instance},destroy:function(){r.instance&&(r.instance.destroy(),r.instance=null)}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opt=e,this.params=null,this.callback=null,this.app=null}var o=n(3);o.fn.extend(r.prototype,{launchPay:function(e,t){if(this.params=e,!o.lang.isFunction(t))throw Error("callback must be a function");this.callback=t},destroy:function(){try{this.app&&this.app.destroy&&(this.app.destroy(),this.app=null),this.callback=null}catch(e){}}}),e.exports=r},function(e,t){"use strict";var n=e.exports;n.fn={getParams:function(e){if(!e)return{};var t=e.replace(/.+?\?/,"").replace(/#.*/,"").split("&"),n={};for(var r in t){var o=t[r].split("=");2===o.length&&(n[o[0]]=o[1])}return n},each:function(e,t){var r,o=0,i=e.length;if(void 0===i&&n.lang.isObject(e)){for(var a in e)if(!1===t.call(e[a],e[a],a,e))break}else for(r=e[0];o<i&&!1!==t.call(r,r,o,e);r=e[++o]);return e},extend:function(e){for(var t=1;t<=arguments.length;t++)for(var n in arguments[t])e[n]=arguments[t][n];return e},formatFloat:function(e,t,n,r){return r=~~r?~~r:t+1,intNumber=Math.round(e*Math.pow(10,r)),Math[n](intNumber/Math.pow(10,r-t))/Math.pow(10,t)},uuid:function(e,t){var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=r,i=[];if(t=t||o.length,e)for(n=0;n<e;n++)i[n]=o[0|Math.random()*t];else{var a;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",n=0;n<36;n++)i[n]||(a=0|16*Math.random(),i[n]=o[19==n?3&a|8:a])}return i.join("")},emptyFun:function(){}},n.lang={is:function(e,t){var n=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&n===e},isNumber:function(e){return this.is("Number",e)},isString:function(e){return this.is("String",e)},isFunction:function(e){return this.is("Function",e)},isObject:function(e){return this.is("Object",e)},isDocument:function(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE},isWindow:function(e){return null!=e&&e==e.window},isPlainObject:function(e){return n.lang.isObject(e)&&!n.lang.isWindow(e)&&Object.getPrototypeOf(e)==Object.prototype},isArray:function(e){return this.is("Array",e)}},n.req={serializeParam:function(e){if(!e)return"";var t=[];for(var n in e)void 0===e[n]&&null==e[n]||t.push(n+"="+e[n]);return t.join("&")}},n.string={escHTML:function(e,t){var n=["&","&amp;","<","&lt;",">","&gt;"," ","&nbsp;",'"',"&quot;","'","&#39;","\\r","<br>","\\n","<br>"];t&&n.reverse();for(var r=0,o=e;r<n.length;r+=2)o=o.replace(new RegExp(n[r],"g"),n[1+r]);return o},tmpl:function(e,t){return"string"==typeof e?e.replace(/\$([a-zA-Z0-9_\.]*)\$/g,function(e,r){if(-1!==r.indexOf(".")){r=r.split(/\./g);var o=t;return n.fn.each(r,function(e){o=o[e]}),o||""}return void 0!==t[r]?t[r]:""}):e}},n.tmpl=n.string.tmpl,n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e._super=t}},function(e,t,n){"use strict";function r(e){var t=this,n=e.params,r=void 0===n?{}:n,u=e.callback,l=void 0===u?function(){}:u,f=e.opt,d=void 0===f?{}:f;o.call(this,{params:r,callback:l,opt:d}),this.IFORMAT_PREFIX="midaswechatpay."+(this.isEnterprise()?"enterprise":"goods"),this.reportObj.setIformatPrefix(this.IFORMAT_PREFIX),this.payMod=new s(r);var p=this.payMod.checkGoodsParams();this.report("before.checkenv"),this.checkEnv(function(){if(t.report("after.checkenv"),p.status){t.report("goodsinfo.pv");var e=(new Date).getTime();t.payMod.getGoodsInfo(function(n){t.report("goodsinfo.status",{httpCode:n.httpCode||"200",resultMsg:n.msg,errCode:n.err_code||"",times:(new Date).getTime()-e},{resultCode:n.ret});var r=!1,o={ret:a.code.FAIL,msg:a.msg[a.code.FAIL]};if(~~n.ret)o.ret=n.ret,o.msg=n.msg||a.msg[a.code.FAIL];else if(n.info&&n.info.channel&&c.lang.isArray(n.info.channel))try{t.directPay(n.info.channel[0]&&n.info.channel[0].name)?r=!0:(o.ret=a.code.FAIL,o.msg=a.msg.CHANNEL_NOT_SUPPORT)}catch(e){o.ret=a.code.FAIL,o.msg=e.message||"",t.report("directpay.exception",{msg:e.message,stack:e.stack},{resultCode:"-9999"})}else t.report("channel.info.exception",{},{resultCode:"-9999"});r||t.callback(new i(o).getResult())})}else t.paramsError(p.msg)})}var o=n(5),i=n(11),a=n(9),s=n(14),c=n(3);c.inherits(r,o),c.fn.extend(r.prototype,{isEnterprise:function(){return this.opt.isEnterprise}}),e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.params,n=e.callback,r=e.opt;if(this.params=t,this.opt=r,this.callback=n,this.env={},!a.lang.isFunction(this.callback))throw new Error("callback must be a function");this.payMod=null,i.setContext(this),a.fn.extend(this.params,{env:~~this.opt.env}),this.reportObj=new s,this.payStartTime=(new Date).getTime()}var o=n(6),i=n(8),a=n(3),s=n(13),c=n(9),u=n(11);r.hasContext=function(){return!!i.getContext()},a.fn.extend(r.prototype,{checkEnv:function(e){var t=this;Rv.getSystemInfo({success:function(e){t.env=e||{}},complete:function(){a.lang.isFunction(e)&&e()}})},isEnterprise:function(){return!1},getPlatform:function(){var e=this.env;return e.model?e.model.indexOf("iPhone")>-1?"ios":"android":""},getVersion:function(){var e=this.env;return e?e.version||"":""},getPayStartTime:function(){return this.payStartTime},report:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.reportObj.send(e,t,{3:this.params.openid,37:this.params.session_id,43:this.params.session_type,41:this.params.login_wx_appid,26:this.params.pf,7:n.resultCode||0,19:this.params.service_code||"",24:this.params.appid||this.params.offer_id,50:this.getPlatform()+"_"+this.getVersion(),51:this.params.aid||""})},clientLog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.report("client.log",{msg:e,line:t,file:n})},getPayMod:function(){return this.payMod},directPay:function(e){var t=this;return e&&o.hasOwnProperty(e)?(this.report("directpay",{channel:e}),o[e](null,function(e){try{var n=(new Date).getTime();t.report("payduration",{time:n-t.getPayStartTime()})}catch(e){}t.callback(e)}),!0):(this.report("directpay.nosupport",{channel:e}),!1)},getBizAppid:function(){return 1!=this.opt.use_default_wxappid?this.params.biz_appid||"1":this.payMod.getDefaultBizAppid()},paramsError:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";setTimeout(function(){e.callback(new u({ret:c.code.PARAMS_ERROR,msg:t||c.msg[c.code.FAIL]}).getResult())},0)},showPayLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;try{Rv.showToast({title:"支付中...",icon:"loading",duration:1e3*e})}catch(e){}},hidePayLoading:function(){try{Rv.hideToast()}catch(e){}},destroy:function(){i.destroyContext(),this.callback=null,this.reportObj.destroy(),this.reportObj=null,this.payMod=null}}),e.exports=r},function(e,t,n){"use strict";var r=n(7),o=n(12);e.exports={wechat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];new r(e,t)},wechatapp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];new o(e,t)}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];s.call(this,e,t),this.buy(this.params)}var o=n(8),i=n(9),a=n(3),s=n(10);a.inherits(r,s),a.fn.extend(r.prototype,{buy:function(e){var t=this;o.getContext().report("wechat.buy");var n={biz_appid:o.getContext().getBizAppid(),wx_direct_pay:0,wx_publice_pay:1,pay_method:"wechat"};e=a.fn.extend({},n,e);var r=o.getContext().getPayMod();"1"==r.getPayParams().change_wx_openid&&(e.change_wx_openid="1"),r.save(e,function(n){return t.handlerBuy(n,e)})},getChannelName:function(){return"wechat"},handlerBuy:function(e,t){var n=this;if(o.getContext().report("wechat.handlebuy"),~~e.ret)this.callback.call(null,this.constructResult(e));else{var r=e.wx_info,a=(r.wx_sign_url,r.wx_appid,r.wx_time),s=r.wx_noncenum,c=r.wx_package,u=r.wx_signtype||"SHA1",l=r.wx_sign,f=!1,d="";o.getContext().report("wechatpay.start.pv"),Rv.requestPayment({timeStamp:a,nonceStr:s,package:c,signType:u,paySign:l,complete:function(e){o.getContext().report("wechatpay.complete.callback"),e.errMsg=e.errMsg||"";var t=e.errMsg.indexOf("cancel")>-1,r=f?i.code.SUCCESS:i.code.FAIL;!f&&t&&(r=i.code.CANCEL),d=e.errMsg;var a=d||i.msg[r]
;o.getContext().report("wechatpay.status",{msg:d,channel:n.getChannelName()},{resultCode:r}),n.callback.call(null,n.constructResult({ret:r,msg:a}))},success:function(e){o.getContext().report("wechatpay.success.callback"),f=!0},fail:function(e){o.getContext().report("wechatpay.fail.callback",{},{resultCode:"-9999"}),f=!1}})}}}),e.exports=r},function(e,t,n){"use strict";var r=null;e.exports={setContext:function(e){r=e},getContext:function(){return r},getVersion:function(){return"1.4.0"},destroyContext:function(){r=null}}},function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r,o=t.code={SUCCESS:0,FAIL:-1,CANCEL:-2,INTERFACENOTEXIST:-3,PARAMS_ERROR:1e3};t.msg=(r={},n(r,o.SUCCESS,"支付成功"),n(r,o.FAIL,"支付失败"),n(r,o.CANCEL,"支付取消"),n(r,o.PARAMS_ERROR,"参数错误"),n(r,o.INTERFACENOTEXIST,"接口不存在"),n(r,"CHANNEL_NOT_SUPPORT","渠道不支持"),r)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(this.params=e,this.callback=t,!o.lang.isFunction(this.callback))throw new Error("callback must be a function")}var o=(n(8),n(3)),i=n(11);o.fn.extend(r.prototype,{buy:function(e){},handlerBuy:function(e){},getChannelName:function(){return""},constructResult:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new i(e);return o.fn.extend(t,{channel:this.getChannelName()}),n.setExtra(t),n.result},getSecondErrcode:function(e){if(e.err_code){var t=e.err_code.split("-");return t[1]?t[1]:""}return""}}),r.ResultAdapter=i,e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),a=function(){function e(t){var n=t.ret,o=t.msg;r(this,e),this.result={resultCode:n,resultMsg:o}}return o(e,[{key:"setExtra",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.fn.extend(this.result,e)}},{key:"getResult",value:function(){return this.result}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":Iv(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iv(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(8),c=n(9),u=n(3),l=n(10),f={5001:"buyQuantity参数错误，请参考虚拟支付教程中虚拟支付API接口说明",7007:"获取微信授权失败，请使用小游戏管理员账号重新授权登录",7006:"配置信息未发布沙箱，请在MP管理端将游戏币托管配置信息进行“沙箱发布”"},d=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Rv&&Rv.requestVirtualPayment?i.buy(i.params):(s.getContext().report("requestVirtualPayment.notexist"),i.callback.call(null,i.constructResult({ret:c.code.INTERFACENOTEXIST,msg:c.msg[c.code.INTERFACENOTEXIST]}))),i}return i(t,e),a(t,[{key:"buy",value:function(e){var t=this;s.getContext().report("wechat_app.buy");var n=s.getContext().getPayMod();if(n.needCurrencyType(this.getChannelName()))return s.getContext().paramsError("需要currency_type参数");var r={currency_type:n.getCurrencyType(),pay_method:this.getChannelName()};e=u.fn.extend({},r,e),"1"==n.getPayParams().change_wx_openid&&(e.change_wx_openid="1"),n.save(e,function(n){return t.handlerBuy(n,e)})}},{key:"getChannelName",value:function(){return"wechatapp"}},{key:"handlerBuy",value:function(e,t){var n=this;if(s.getContext().report("wechat_app.handlebuy"),~~e.ret){if(1003==e.ret){var r=this.getSecondErrcode(e);f[r]&&(e.msg=f[r])}this.callback.call(null,this.constructResult(e))}else{var o=!1,i="",a=e.wechatapp_info||{};Rv&&Rv.requestVirtualPayment?(s.getContext().report("wechatapp_pay.start.pv"),Rv.requestVirtualPayment({priceLevel:a.price_level,businessOrderId:a.orderid,outTradeNo:a.orderid,desc:a.desc||"",virtualPaySign:a.sign,complete:function(e){s.getContext().report("wechatapp_pay.complete.callback"),e.errMsg=e.errMsg||"";var t=o?c.code.SUCCESS:void 0!==e.errCode?e.errCode:c.code.FAIL,r=1==e.errCode;!o&&r&&(t=c.code.CANCEL);var a=i||c.msg[t]||"";s.getContext().report("wechatapp_pay.status",{channel:n.getChannelName(),msg:a},{resultCode:e.errCode||""}),n.callback.call(null,n.constructResult({ret:t,msg:a}))},success:function(e){s.getContext().report("wechatapp_pay.success.callback"),o=!0},fail:function(e){s.getContext().report("wechatapp_pay.fail.callback",{},{resultCode:"-9999"}),o=!1,i=e&&e.errMsg}})):(s.getContext().report("requestVirtualPayment.notexist"),this.callback.call(null,this.constructResult({ret:c.code.INTERFACENOTEXIST,msg:c.msg[c.code.INTERFACENOTEXIST]})))}}}]),t}(l);e.exports=d},function(e,t,n){"use strict";function r(){this.reportQueue=[],this.pid=0,this.iformatPrefix="",this.transactionId=o.fn.uuid()+"_"+(new Date).getTime(),this.handleReportComplete=this.handleReportComplete.bind(this)}var o=n(3),i=n(8);o.fn.extend(r.prototype,{constructParams:function(e,t,n){var r={};o.fn.extend(r,{6:10,7:0,8:t?o.req.serializeParam(t):"",13:this.pid++,21:[this.iformatPrefix,e].join("."),31:"midas_wx_sdk_"+i.getVersion(),38:(new Date).getTime(),29:this.transactionId}),o.fn.extend(r,n);var a=[];o.fn.each(r,function(e,t){a.push(t+"="+encodeURIComponent(e))});var s=[];return"https://api.unipay.qq.com/v1/900/15499/log_data?num=1&record0="+encodeURIComponent(a.join("|"))+s.join("")+"&rr"+Math.random()},doSend:function(){var e=this,t=void 0,n=this.reportQueue[0];if(n){var r=Rv.request({url:n,method:"GET",complete:function(){clearTimeout(t),e.handleReportComplete()}});t=setTimeout(function(){try{r.abort()}catch(e){}},3e3)}},handleReportComplete:function(){this.reportQueue.shift(),this.reportQueue.length>0&&this.doSend()},send:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.constructParams(e,t,r);this.reportQueue.push(o),1==this.reportQueue.length&&setTimeout(function(){n.doSend()},0)},destroy:function(){},setIformatPrefix:function(e){this.iformatPrefix=e}}),e.exports=r},function(e,t,n){"use strict";function r(e){i.call(this,e),this.initCgi(),this.processType="bg",this.goodsInfo=null}var o=n(3),i=n(15),a=n(8);o.inherits(r,i),o.fn.extend(r.prototype,{getMid:function(){return(this.params.goodstokenurl||"").split("/")[2]},getTokenId:function(){return o.fn.getParams(this.params.goodstokenurl).token_id},getGoodsInfo:function(e){this.cgi.mobileGoodsInfo(o.fn.extend({},this.getInfoPublicParams(),{zoneid:this.getZoneid(),params:this.params.goodstokenurl}),e)},getZoneid:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).zoneid||this.params.zoneid||"1"},save:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n={token_id:this.getTokenId()};o.fn.extend(n,this.getSavePublicParams()),o.fn.extend(n,{zoneid:this.getZoneid(this.buyParams),buy_quantity:this.params.buy_quantity||""}),o.fn.extend(n,e),n._params=this.params.goodstokenurl,this.doSave(n,t)},doSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];a.getContext().report("startsave.pv");var n=(new Date).getTime();this.cgi.mobileSaveGoods(e,function(e){a.getContext().report("savestatus",{httpCode:e.httpCode||"200",resultMsg:e.msg,errCode:e.err_code,times:(new Date).getTime()-n},{resultCode:e.ret}),t(e)},{method:"POST"})},checkGoodsParams:function(){var e=this,t={status:!0,msg:""},n=this.checkPublicParams();return n.status?(o.fn.each(["goodstokenurl","zoneid","pf"],function(n){if(!e.params[n])return t.status=!1,t.msg=n+"错误",!1;var r=e.params[n];"string"==typeof r&&(e.params[n]=r)}),t):n}}),e.exports=r},function(e,t,n){"use strict";function r(e){this.params=e,this.params.extend=e.extend||"",this.session=new o({openid:e.openid,openkey:e.openkey||"no_key",sessionid:e.session_id||"hy_gameid",sessiontype:e.session_type||"wc_actoken"}),this.processType="",this.cgi=null}var o=n(16),i=n(17),a=(n(9),n(3));n(8),a.fn.extend(r.prototype,{getPayParams:function(){return this.params},initCgi:function(){this.cgi=new i({pf:this.params.pf,pfkey:this.params.pfkey||"pfkey",appid:this.params.appid||this.params.offer_id,sandbox:~~this.params.env,sessionObj:this.session})},getInfoPublicParams:function(){var e={process_type:this.processType,page_type:"mall"};return this.params.login_wx_appid&&a.fn.extend(e,{wx_appid:this.params.login_wx_appid}),e},getSavePublicParams:function(){return{process_type:this.processType,page_type:"order",from_https:"1",from_h5:"1",extend:encodeURIComponent(this.params.extend||""),provide_uin:this.params.provide_uin||"",wx_appid:this.params.login_wx_appid||""}},getDefaultBizAppid:function(){return""},save:function(e,t){},checkPublicParams:function(){var e=this.params,t="",n={status:!0,msg:""};return a.fn.each(["offer_id","openid"],function(n){if(!e[n])return t=n+"错误",!1}),t&&(n.status=!1,n.msg=t),n},getCurrencyType:function(){return this.params.currency_type||""},needCurrencyType:function(){return"wechat_app"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")&&!this.params.currency_type}}),e.exports=r},function(e,t,n){"use strict";var r=n(3),o=e.exports=function(e){this.openid=e.openid,this.openkey=e.openkey,this.sessionid=e.sessionid,this.sessiontype=e.sessiontype,this.sessionToken=this.openid+(new Date).getTime()};r.fn.extend(o.prototype,{getSessionParam:function(){return{openid:encodeURIComponent(this.openid),openkey:encodeURIComponent(this.openkey),session_id:encodeURIComponent(this.sessionid),session_type:encodeURIComponent(this.sessiontype)}},addSessionParam:function(e){return r.fn.addParam({openid:encodeURIComponent(this.openid),openkey:encodeURIComponent(this.openkey),sessionid:encodeURIComponent(this.sessionid),sessiontype:encodeURIComponent(this.sessiontype)},e)},getUin:function(){return""}})},function(e,t,n){"use strict";var r,o=void 0,i=o=n(3),a=(n(18),e.exports=function(e){e=e||{},this.pf=e.pf||"html5",this.pfkey=e.pfkey||"pfkey",this.appid=e.appid,this.sandbox=~~e.sandbox,this.sessionObj=e.sessionObj||null,this.mid=e.mid||"r",this.domain="api.unipay.qq.com",1==this.sandbox?this.domain="sandbox.api.unipay.qq.com":2==this.sandbox&&(this.domain="dev.api.unipay.qq.com"),this.domainq=this.sandbox?"sandbox.api.unipay.qq.com":"q.unipay.qq.com",this.sessionToken=e.sessionToken||i.fn.uuid()+(new Date).getTime(),e.extend&&(this.extend=e.extend)});a.url={},a.url.mobileGoodsInfo={url:"$domain$$params$&",https:!0},a.url.mobileSaveGoods3={url:"$domain$$params$&",https:!0},a.url.wechatAppProc={url:"$domain$/v1/r/$appid$/wechatapp_proc?",https:!0},a.url.jiefenPayGoods={url:"https://m.jifen.qq.com/cgi-bin/pay_goods?",https:!0},a.isEnterprise=!1,a.prototype={setCrypto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r=e},setEnv:function(e){if(e&&this.sandbox)switch(this.env=e,e){case"dev":this.domain="dev.api.unipay.qq.com";break;case"sandbox":this.domain="sandbox.api.unipay.qq.com"}},restoreEnv:function(){this.sandbox&&this.setEnv("sandbox")},set isSandbox(e){this.sandbox=e,this.domain=this.sandbox?"sandbox.api.unipay.qq.com":"api.unipay.qq.com"},_getCgiUrl:function(e,t,n){return t=t||{},n=n||{},i.tmpl(e.url,i.fn.extend({appid:this.appid,mid:this.mid||"r",domain:["https:","//",n.domainq?this.domainq:this.domain].join("")},t))},setSession:function(e){this.sessionObj=e},_getSessionParam:function(){return i.fn.extend({pf:this.pf,pfkey:this.pfkey,from_h5:1,session_token:this.sessionToken,r:Math.random()},this.sessionObj.getSessionParam())},request:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];if(r=r||{},Rv){o.fn.extend(t,{webversion:"midaswxapp_1.4.0"});try{r.disableLoading||Rv.showToast({mask:!0,title:"支付中",icon:"loading",duration:7e3})}catch(e){}var i=!1,a={ret:-1},s=void 0,c=Rv.request({url:e,method:r.method||"GET",header:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},data:t,success:function(e){i=!0;var t=void 0;e.statusCode>=200&&e.statusCode<=299&&(t=e.data),t||(t={ret:-9998,httpCode:e.statusCode,msg:"系统繁忙，请稍后再试！"}),a=t},fail:function(){i=!1,a={ret:-9999,msg:"请求超时！"}},complete:function(){clearTimeout(s),s=null;try{r.disableLoading||Rv.hideToast()}catch(e){}n(a)}});s=setTimeout(function(){s=null;try{c.abort()}catch(e){}},7e3)}}};for(var s in a.url)!function(e){a.prototype[e]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=t||{};var o={};i.fn.extend(o,this._getSessionParam()),i.fn.extend(o,t),this.request(this._getCgiUrl(a.url[e]),o,n,r)}}(s);a.prototype.mobileGoodsInfo=function(e,t,n){e=e||{};var r={};i.fn.extend(r,this._getSessionParam()),i.fn.extend(r,e);var o=e.params;delete e.params,o&&/\/mobile_goods_info\?/.test(o)&&(o=o.replace(/\/[a-z_]+\?/,"/wechatapp_proc?")),this.request(this._getCgiUrl(a.url.mobileGoodsInfo,{params:o}),r,t,n)},a.prototype.mobileSaveGoods=function(e,t,n){e=e||{};var r={biz_appid:this.sessionObj.appid||""},o=(e._url,e._mid,e._params);delete e._url,delete e._mid,delete e._params,i.fn.extend(r,this._getSessionParam()),i.fn.extend(r,e),o&&/\/mobile_goods_info\?/.test(o)&&(o=o.replace(/\/[a-z_]+\?/,"/wechatapp_proc?")),this.request(this._getCgiUrl(a.url.mobileSaveGoods3,{params:o}),r,t,n)}},function(e,t,n){"use strict";var r=n(3),o=function(e){e=e||{},this.opt=e,this.interval=null};o.prototype.stop=function(e){0==e?clearTimeout(this.interval):1==e&&clearInterval(this.interval),this.interval=null},t.CountDown=function(e){if(e=e||{},o.call(this,e),!(e.time&&e.beforeCount&&e.counting&&e.countEnd))throw Error("can not use countDown");e.beforeCount();var t=e.time,n=function(){if(this.interval){if(e.counting(t),t<=0)return this.stop(1),void e.countEnd();t--}};n(),this.interval=setInterval(n.bind(this),1e3)},r.inherits(t.CountDown,o),t.Timeout=function(e){e=e||{},e.time=e.time||5,o.call(this,e),this.interval=setTimeout(function(){this.interval&&(this.stop(0),e.timeUp&&e.timeUp())}.bind(this),1e3*e.time)},r.inherits(t.Timeout,o)},function(e,t){"use strict";e.exports=function(e,t,n){if("launchPay"!=t)return n;var r=n.value;return n.value=function(){for(var e=this,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];~~this.opt.env?Rv.showModal({content:"温馨提示：您即将进入测试环境，任何充值都无法在真实环境中使用。若您不是测试人员，请勿充值。",showCancel:!1,success:function(t){t.confirm&&r.apply(e,n)}}):r.apply(this,n)},n}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":Iv(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iv(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},u=n(2),l=n(21),f=n(19),d=(a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),s(t,[{key:"launchPay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];if(!l.hasContext()){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"launchPay",this).call(this,e,n);var r=this.callTime=Date.now();this.app=new l({params:e,opt:this.opt,callback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.callTime!=r);else try{this.app&&this.app.report("before.callback",{callbackRes:JSON.stringify(e)}),n(e)}catch(e){this.app&&this.app.clientReport&&this.app.clientReport("callback to user exception, msg = "+e.message+";stack="+(e.stack||""),32,"midaspay/api/subscribe.js")}try{t.instance.destroy(),t.instance=null}catch(e){}}.bind(this)})}}}]),t}(u),function(e,t,n,r,o){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}(a.prototype,"launchPay",[f],Object.getOwnPropertyDescriptor(a.prototype,"launchPay"),a.prototype),a);d.instance=null,e.exports={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=d.instance?d.instance:d.instance=new d(e)},get:function(){if(!d.instance)throw Error("subscribe not initalize");return d.instance},destroy:function(){d.instance&&(d.instance.destroy(),d.instance=null)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":Iv(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iv(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},c=n(22),u=n(5),l=n(3),f=n(11),d=n(9),p=function(e){function t(e){var n=e.params,i=void 0===n?{}:n,a=e.callback,s=void 0===a?function(){}:a,u=e.opt,p=void 0===u?{}:u;r(this,t);var h=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{params:i,callback:s,opt:p}));h.IFORMAT_PREFIX="midaswechatpay.subscribe",h.reportObj.setIformatPrefix(h.IFORMAT_PREFIX),h.payMod=new c(i);var v=h.payMod.checkSubscribeParams();return h.report("before.checkenv"),h.checkEnv(function(){if(h.report("after.checkenv"),h.payMod.checkSubscribeParams().status){h.report("monthinfo.pv");var e=(new Date).getTime();h.payMod.getMonthInfo(function(t){h.report("monthinfo.status",{httpCode:t.httpCode||"200",resultMsg:t.msg,errCode:t.err_code||"",times:(new Date).getTime()-e},{resultCode:t.ret});var n=!1,r={ret:d.code.FAIL,msg:d.msg[d.code.FAIL]};if(~~t.ret)r.ret=t.ret,r.msg=t.msg||d.msg[d.code.FAIL];else if(t.info&&t.info.channel&&l.lang.isArray(t.info.channel))try{h.directPay(t.info.channel[0]&&t.info.channel[0].name)?n=!0:(r.ret=d.code.FAIL,r.msg=d.msg.CHANNEL_NOT_SUPPORT)}catch(e){r.ret=d.code.FAIL,r.msg=e.message||"",h.report("directpay.exception",{msg:e.message,stack:e.stack},{resultCode:"-9999"})}else h.report("channel.info.exception",{},{resultCode:"-9999"});n||h.callback(new f(r).getResult())})}else h.paramsError(v.msg)}),h}return i(t,e),a(t,[{key:"destroy",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(u);e.exports=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":Iv(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iv(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=n(15),l=n(8),f=function(e){e.prototype.checkSubscribeParams=function(){var e=this,t={status:!0,msg:""},n=this.checkPublicParams();return n.status?(c.fn.each(["pf","service_code"],function(n){if(!e.params[n])return t.status=!1,t.msg=n+"错误",!1}),t):n}}(a=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.processType="unimonth";var i=[];return n.params.aid&&i.push("aid="+n.params.aid),n.params.appremark=encodeURIComponent(i.join("&")),n.account=n.params.account||"wechat",n.initCgi(),n}return i(t,e),s(t,[{key:"getProvideNoType",value:function(){return this.params.provide_uin?"uin":"wechatid"}},{key:"getMonthInfo",value:function(e){this.cgi.wechatAppProc(c.fn.extend({},this.getInfoPublicParams(),{service_code:this.params.service_code,product_id:this.params.product_id,buy_quantity:this.params.buy_quantity||"1",provide_no_type:this.getProvideNoType()}),e)}},{key:"getAutocoutFromExtend",value:function(){return!!this.params.extend&&"1"==c.fn.getParams(this.params.extend).auto_cont}},{key:"save",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n={buy_quantity:e.buy_quantity||this.params.buy_quantity||1,service_code:this.params.service_code,product_id:e.product_id||this.params.product_id,appremark:this.params.appremark||"",provide_no_type:this.getProvideNoType(),service_name:this.params.service_name||""};c.fn.extend(n,this.getSavePublicParams()),c.fn.extend(n,e),("1"==this.params.auto_cont||this.getAutocoutFromExtend())&&(n.auto_cont="1"),"wechatid"==this.getProvideNoType()&&delete n.provide_uin,l.getContext().report("startsave.pv",{serviceCode:n.service_code,productId:n.product_id});var r=(new Date).getTime();this.cgi.wechatAppProc(n,function(e){l.getContext().report("savestatus",{httpCode:e.httpCode||"200",resultMsg:e.msg,errCode:e.err_code,times:(new Date).getTime()-r},{resultCode:e.ret}),t(e)},{method:"POST"})}}]),t}(u))||a;e.exports=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":Iv(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iv(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},u=n(2),l=n(24),f=n(19),d=(a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),s(t,[{key:"launchPay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];if(!l.hasContext()){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"launchPay",this).call(this,e,n);var r=this.callTime=Date.now();this.app=new l({params:e,opt:this.opt,callback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.callTime!=r);else try{this.app&&this.app.report("before.callback",{callbackRes:JSON.stringify(e)}),n(e)}catch(e){this.app&&this.app.clientReport&&this.app.clientReport("callback to user exception, msg = "+e.message+";stack="+(e.stack||""),31,"midaspay/api/game.js")}try{t.instance.destroy(),t.instance=null}catch(e){}}.bind(this)})}}}]),t}(u),function(e,t,n,r,o){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}(a.prototype,"launchPay",[f],Object.getOwnPropertyDescriptor(a.prototype,"launchPay"),a.prototype),a);d.instance=null,e.exports={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=d.instance?d.instance:d.instance=new d(e)},get:function(){if(!d.instance)throw Error("game not initalize");return d.instance},destroy:function(){d.instance&&(d.instance.destroy(),d.instance=null)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":Iv(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iv(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(5),s=n(11),c=n(9),u=n(25),l=n(3),f=function(e){function t(e){var n=e.params,i=void 0===n?{}:n,a=e.callback,f=void 0===a?function(){}:a,d=e.opt,p=void 0===d?{}:d;r(this,t);var h=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{params:i,callback:f,opt:p}));h.IFORMAT_PREFIX="midaswechatpay.game",h.reportObj.setIformatPrefix(h.IFORMAT_PREFIX),h.payMod=new u(i);var v=h.payMod.checkGameParams();return h.report("before.checkenv"),h.checkEnv(function(){if(h.report("after.checkenv"),v.status){h.report("buypage.pv");var e=(new Date).getTime();h.payMod.getBuyPage(function(t){h.report("buypage.status",{httpCode:t.httpCode||"200",resultMsg:t.msg,errCode:t.err_code||"",times:(new Date).getTime()-e},{resultCode:t.ret});var n=!1,r={ret:c.code.FAIL,msg:c.msg[c.code.FAIL]};if(~~t.ret)r.ret=t.ret,r.msg=t.msg||c.msg[c.code.FAIL];else if(t.info&&t.info.channel&&l.lang.isArray(t.info.channel))try{h.directPay(t.info.channel[0]&&t.info.channel[0].name)?n=!0:(r.ret=c.code.FAIL,r.msg=c.msg.CHANNEL_NOT_SUPPORT)}catch(e){r.ret=c.code.FAIL,r.msg=e.message||"",h.report("directpay.exception",{msg:e.message,stack:e.stack},{resultCode:"-9999"})}else h.report("channel.info.exception",{},{resultCode:"-9999"});n||h.callback(new s(r).getResult())})}else h.paramsError(v.msg)}),h}return i(t,e),t}(a);e.exports=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":Iv(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iv(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["buy_quantity","pf","zoneid"];return function(t){t.prototype.checkGameParams=function(){var t=this,n={status:!0,msg:""},r=this.checkPublicParams();return r.status?(l.fn.each(e,function(e){if(!t.params[e])return n.status=!1,n.msg=e+"错误",!1;var r=t.params[e];"string"==typeof r&&(t.params[e]=r)}),n):r}}}var s,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),f=n(15),d=n(8),p=(s=a())(c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.processType="save",n.initCgi(),n}return i(t,e),u(t,[{key:"getBuyPage",value:function(e){this.cgi.wechatAppProc(l.fn.extend({},this.getInfoPublicParams(),{zoneid:this.getZoneid(),accounttype:"common",buy_quantity:this.params.buy_quantity||"1"}),e)}},{key:"getZoneid",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).zoneid||this.params.zoneid||"1"}},{key:"save",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n={};l.fn.extend(n,this.getSavePublicParams()),l.fn.extend(n,{buy_quantity:e.buy_quantity||this.params.buy_quantity||"1",zoneid:this.getZoneid(this.buyParams),accounttype:e.accounttype||"common",service_name:encodeURIComponent(this.params.service_name||""),discountid:this.params.discountid||""}),l.fn.extend(n,e),this.doSave(n,t)}},{key:"doSave",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];d.getContext().report("startsave.pv");var n=(new Date).getTime();this.cgi.wechatAppProc(e,function(e){d.getContext().report("savestatus",{httpCode:e.httpCode||"200",resultMsg:e.msg,times:(new Date).getTime()-n},{resultCode:e.ret}),t(e)},{method:"POST"})}}]),t}(f))||c;p.decorators={checkGameParams:a},e.exports=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":Iv(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iv(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){
return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},u=n(2),l=n(27),f=n(19),d=(a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),s(t,[{key:"launchPay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];if(!l.hasContext()){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"launchPay",this).call(this,e,n);var r=this.callTime=Date.now();this.app=new l({params:e,opt:this.opt,callback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.callTime!=r);else try{this.app&&this.app.report("before.callback",{callbackRes:JSON.stringify(e)}),n(e)}catch(e){this.app&&this.app.clientReport&&this.app.clientReport("callback to user exception, msg = "+e.message+";stack="+(e.stack||""),31,"midaspay/api/pcgame.js")}try{t.instance.destroy(),t.instance=null}catch(e){}}.bind(this)})}}}]),t}(u),function(e,t,n,r,o){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}(a.prototype,"launchPay",[f],Object.getOwnPropertyDescriptor(a.prototype,"launchPay"),a.prototype),a);d.instance=null,e.exports={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=d.instance?d.instance:d.instance=new d(e)},get:function(){if(!d.instance)throw Error("pcgame not initalize");return d.instance},destroy:function(){d.instance&&(d.instance.destroy(),d.instance=null)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":Iv(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iv(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(5),s=n(11),c=n(9),u=n(28),l=n(3),f=function(e){function t(e){var n=e.params,i=void 0===n?{}:n,a=e.callback,f=void 0===a?function(){}:a,d=e.opt,p=void 0===d?{}:d;r(this,t);var h=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{params:i,callback:f,opt:p}));h.IFORMAT_PREFIX="midaswechatpay.pcgame",h.reportObj.setIformatPrefix(h.IFORMAT_PREFIX),h.payMod=new u(i);var v=h.payMod.checkGameParams();return h.report("before.checkenv"),h.checkEnv(function(){if(h.report("after.checkenv"),v.status){h.report("buypage.pv");var e=(new Date).getTime();h.payMod.getBuyPage(function(t){h.report("buypage.status",{httpCode:t.httpCode||"200",resultMsg:t.msg,errCode:t.err_code||"",times:(new Date).getTime()-e},{resultCode:t.ret});var n=!1,r={ret:c.code.FAIL,msg:c.msg[c.code.FAIL]};if(~~t.ret)r.ret=t.ret,r.msg=t.msg||c.msg[c.code.FAIL];else if(t.info&&t.info.channel&&l.lang.isArray(t.info.channel))try{h.directPay(t.info.channel[0]&&t.info.channel[0].name)?n=!0:(r.ret=c.code.FAIL,r.msg=c.msg.CHANNEL_NOT_SUPPORT)}catch(e){r.ret=c.code.FAIL,r.msg=e.message||"",h.report("directpay.exception",{msg:e.message,stack:e.stack},{resultCode:"-9999"})}else h.report("channel.info.exception",{},{resultCode:"-9999"});n||h.callback(new s(r).getResult())})}else h.paramsError(v.msg)}),h}return i(t,e),t}(a);e.exports=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":Iv(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Iv(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=(n(3),n(8),n(25)),l=(a=u.decorators.checkGameParams(["buy_quantity","provide_uin"]))(s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initCgi(),n}return i(t,e),c(t,[{key:"getZoneid",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).zoneid||this.params.zoneid||"1"}}]),t}(u))||s;e.exports=l}]),Bv=Nv,Lv=void 0,jv=Q("getIAPInfo","webapi_getiapinfo"),Fv={offer_id:"offerId",currency_type:"currencyType",session_id:"sessionId",session_type:"sessionType",pf:"platform",login_wx_appid:"loginWXAppId",change_wx_openid:"changeWXOpenId",extend:"extend",product_id:"productId",service_code:"serviceCode",service_name:"serviceName",buy_quantity:"buyQuantity",aid:"aid",provide_uin:"provideUin",zoneid:"zoneId",goodstokenurl:"goodsTokenUrl"},Uv=["offer_id","currency_type","session_id","session_type","pf","login_wx_appid","change_wx_openid","extend"],Wv=["subscribe","game","pcGame","goods","enterprise"],qv="requestMidasPayment",Vv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("ios"===C())return void G(qv,e,"iOS not supported");if(-1===Wv.indexOf(e.mode))return void G(qv,e,"mode错误",1e3);var t=e.env;Et().then(function(n){var r=n.openId,o=n.appId;Bv[e.mode].destroy();var i=Bv[e.mode].init({env:t}),a=Ot(e);a.openid=r,a.login_wx_appid=o||e.loginWXAppId,i.launchPay(a,function(t){var n=t.resultMsg,r=t.resultCode;0===r?K(qv,e,!0):K(qv,e,!1,n,r)})},function(t){G(qv,e,t)})},zv={gameVersion:0,zoneId:0,serverId:0,roleId:"",roleName:"",userLevel:0},Gv=(Dt(zv,{}),Dt(zv,{}),new Date,new kr);q("onUpdateStatusChange",function(e){var t=(e.state||"").toLowerCase();delete e.state,Gv.emit(t,e)});var Kv=[],Hv=void 0;Gv.on("updating",function(){Hv={hasUpdate:!0},Jv()}),Gv.on("noupdate",function(){Hv={hasUpdate:!1},Jv()});var Jv=function(){Kv.forEach(function(e){"function"==typeof e&&e(Hv)}),Kv.length=0},Qv=function(e){Hv?"function"==typeof e&&e(Hv):Kv.push(e)},Yv=[],Xv=!1,$v=!1;Gv.on("updateready",function(){Xv=!0,Zv()});var Zv=function(){Yv.forEach(function(e){"function"==typeof e&&e()}),Yv.length=0},eg=function(e){Xv?"function"==typeof e&&e():Yv.push(e)},tg=function(e){return Xv&&$v?void K("applyUpdate",e,!1,"applyUpdate has been called"):Xv?($v=!0,void W("updateApp",e)):void K("applyUpdate",e,!1,"update is not ready")},ng=[],rg=void 0;Gv.on("updatefailed",function(){rg={},og()});var og=function(){ng.forEach(function(e){"function"==typeof e&&e(rg)}),ng.length=0},ig=function(e){rg?"function"==typeof e&&e(rg):ng.push(e)},ag={onCheckForUpdate:Qv,onUpdateReady:eg,onUpdateFailed:ig,applyUpdate:tg},sg=function(){return ag},cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug=Ir.env?Ir.env:{};Ir.onReady(function(){"object"===cg(Ir.env)&&Object.assign(ug,Ir.env)});var lg=ug,fg=Wc(!1,"getGroupUserGameData"),dg=[],pg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shareTicket,n=e.success,r=e.fail,o=e.complete;setTimeout(function(){var e=Hn.ShareInfoStorage,i=t||e.lastShareTicket;if(i){var a=e.get(i),s=a.shareKey,c=a.shareName;fg({apiName:"webapi_getgroupsnsdata",reqData:{share_key:s,share_name:c},success:function(e){var t=JSON.parse(e.respData.data),r=t.member_list||t.memberList||[];dg=r,"function"==typeof n&&n({errMsg:e.errMsg,data:r})},fail:r,complete:o})}else{var u={errMsg:"getGroupUserGameData:fail 当前小程序不是从群分享卡片打开"};"function"==typeof r&&r(u),"function"==typeof o&&o(u)}},0)},hg=function(){return dg},vg=Wc(!1,"getFriendUserGameData"),gg=[],yg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,r=e.complete;setTimeout(function(){vg({apiName:"webapi_getfriendsnsdata",reqData:{},success:function(e){var n=JSON.parse(e.respData.data),r=n.friendList||[];gg=r,"function"==typeof t&&t({errMsg:e.errMsg,data:r})},fail:n,complete:r})},0)},mg=function(){return gg},bg=Wc(!1,"getUserInfo"),_g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.openIdList,n=void 0===t?[]:t,r=e.lang,o=void 0===r?"en":r,i=e.success,a=(e.fail,e.complete);bg({apiName:"webapi_getuserinfo_byopenid",reqData:{openIdList:n,lang:o},success:function(e){var t=JSON.parse(e.respData.data).userInfoList||[];"function"==typeof i&&i({errMsg:e.errMsg,data:t})},complete:a})},wg=Q("getFriendCloudStorage","webapi_getfrienduserstorage",{},{},function(e){var t=e.keyList;return{key:void 0===t?[]:t}},function(e){return e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map(function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,e}),delete e.user_item,delete e.rawData,e}),Sg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Bt(e.keyList);if(t)return void G("getFriendCloudStorage",e,t);wg(e)},kg=Hn.ShareInfoStorage,Cg=Q("getGroupCloudStorage","webapi_getgroupuserstorage",{},{},function(e){var t=e.keyList,n=void 0===t?[]:t,r=e.shareTicket,o=kg.get(r);return{key:n,share_key:o.shareKey,share_name:o.shareName}},function(e){return e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map(function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,e}),delete e.user_item,delete e.rawData,e}),Tg=function(e){var t=Bt(e.keyList);if(t)return void G("getGroupCloudStorage",e,t);setTimeout(function(){e.shareTicket||kg.lastShareTicket;if(e.shareTicket)return void(kg.get(e.shareTicket)?Cg(e):G("getGroupCloudStorage",e,"参数 shareTicket 不正确"));kg.lastShareTicket?Cg(Object.assign({shareTicket:kg.lastShareTicket},e)):G("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")},1e3/60)},xg=Q("getUserCloudStorage","webapi_getselfuserstorage",{},{},function(e){var t=e.keyList;return{key:void 0===t?[]:t}},function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,delete e.rawData,e}),Ig=function(e){var t=Bt(e.keyList);if(t)return void G("getUserCloudStorage",e,t);xg(e)},Eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg=Q("setUserCloudStorage","webapi_setselfuserstorage",{},{},function(e){var t=e.KVDataList;return{kv_list:void 0===t?[]:t}},function(e){return delete e.rawData,e}),Og=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e.KVDataList)?0===e.KVDataList.length?void G("setUserCloudStorage",e,"KVDataList.length must greater than 0"):e.KVDataList.some(function(e){if("object"!==(void 0===e?"undefined":Eg(e))||"string"!=typeof e.key||"string"!=typeof e.value)return!0})?void G("setUserCloudStorage",e,"invalid KVData item"):void Pg(e):void G("setUserCloudStorage",e,"KVDataList must be an Array")},Ag=Q("removeUserCloudStorage","webapi_removeselfuserstorage",{},{},function(e){return{key:e.keyList}},function(e){return delete e.rawData,e}),Mg=function(e){var t=Bt(e.keyList);if(t)return void G("removeUserCloudStorage",e,t);Ag(e)},Dg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Rg=new WeakMap,Ng=function(){function e(){Lt(this,e),Rg.set(this,new WeakMap)}return Dg(e,[{key:"setTimeout",value:function(){var e=Rg.get(this),t=Tr.setTimeout.apply(void 0,arguments),n=jt();return e.set(n,t),n}},{key:"clearTimeout",value:function(e){var t=Rg.get(this),n=t.get(e);void 0!==n&&Tr.clearTimeout(n)}},{key:"setInterval",value:function(){var e=Rg.get(this),t=Tr.setInterval.apply(void 0,arguments),n=jt();return e.set(n,t),n}},{key:"clearInterval",value:function(e){var t=Rg.get(this),n=t.get(e);void 0!==n&&Tr.clearInterval(n)}},{key:"requestAnimationFrame",value:function(){var e=Rg.get(this),t=Tr.requestAnimationFrame.apply(void 0,arguments),n=jt();return e.set(n,t),n}},{key:"cancelAnimationFrame",value:function(e){var t=Rg.get(this),n=t.get(e);void 0!==n&&Tr.cancelAnimationFrame(n)}}]),e}(),Bg={console:Object.assign({},console),Reporter:Reporter,setTimeout:Tr.setTimeout,clearTimeout:Tr.clearTimeout,setInterval:Tr.setInterval,clearInterval:Tr.clearInterval,requestAnimationFrame:Tr.requestAnimationFrame,cancelAnimationFrame:Tr.cancelAnimationFrame},Lg=function(){var e=new Ng;return{setTimeout:e.setTimeout.bind(e),clearTimeout:e.clearTimeout.bind(e),setInterval:e.setInterval.bind(e),clearInterval:e.clearInterval.bind(e),requestAnimationFrame:e.requestAnimationFrame.bind(e),cancelAnimationFrame:e.cancelAnimationFrame.bind(e)}}(),jg={WXConfig:Ir,log:Tr.log,setTimeout:Lg.setTimeout,clearTimeout:Lg.clearTimeout,setInterval:Lg.setInterval,clearInterval:Lg.clearInterval,requestAnimationFrame:Lg.requestAnimationFrame,cancelAnimationFrame:Lg.cancelAnimationFrame,Canvas:jd,Image:Ud,EventHandler:Tr.EventHandler,APIs:{getGroupUserGameData:pg,getFriendUserGameData:yg,getUserInfo:_g,getFriendCloudStorage:Sg,getGroupCloudStorage:Tg,getUserCloudStorage:Ig,setUserCloudStorage:Og,removeUserCloudStorage:Mg,getGroupDataCache:hg,getFriendDataCache:mg,getSystemInfo:xs,getSystemInfoSync:Is,showModal:Cf},Reporter:Reporter};"devtools"===Ir.platform&&(jg.console=console);var Fg=function(){return Bg.sharedCanvas=Dd(),jg.sharedCanvas=Dd(),jg.originalProto=st(),Bg.wx=wx,{game:Bg,gameOpenData:jg}},Ug=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Wg=Wc(!1,"getAdData"),qg=Wc(!1,"reportAdData"),Vg=function(){return new Promise(function(e,t){wx.getNetworkType({success:function(t){e(t.networkType)},fail:function(e){t(e)}})})},zg=function(){function e(t){var n=t.traceid,r=t.aid,o=t.group_id,i=t.dest_type,a=t.dest_appid,s=t.watermark_type,c=t.url,u=t.rl,l=t.apurl,f=t.weapp_ghid,d=t.pt,p=t.title,h=t.imageUrl,v=t.width,g=t.height;Ft(this,e),this.traceid=n,this.aid=r,this.group_id=o,this.dest_type=i,this.dest_appid=a,this.watermark_type=s,this.url=c,this.rl=u,this.apurl=l,this.weapp_ghid=f,this.pt=d,this.title=p,this.imageUrl=h,this.width=v,this.height=g}return Ug(e,[{key:"getConstant",value:function(){var e=this,t=["traceid","aid","group_id","weapp_ghid","pt"];return 1===this.dest_type&&(t=["traceid","aid","group_id","pt"]),Object.keys(this).filter(function(e){return-1!==t.indexOf(e)}).reduce(function(t,n){return t[n]=e[n],t},{sdk_version:"1.9.91"})}},{key:"report",value:function(e,t,n,r){qg({apiName:"advert_report",reqData:e,success:function(e){try{e=JSON.parse(e.rawData),0!==e.ret?"function"==typeof n&&n({errMsg:"reportAdData fail: ret "+e.ret}):"function"==typeof t&&t(e)}catch(e){"function"==typeof n&&n({errMsg:e.message})}},fail:n,complete:r})}},{key:"reportExpose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewable,n=e.screenCount,r=void 0===n?1:n,o=e.success,i=e.fail,a=e.complete,s=this.getConstant(),c={report_type:0,apurl:this.apurl,viewable:t,screen_cnt:r};this.report(Object.assign({},c,s),o,i,a)}},{key:"reportClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.screenCount,n=void 0===t?1:t,r=e.absoluteX,o=void 0===r?0:r,i=e.absoluteY,a=void 0===i?0:i,s=e.pressInterval,c=void 0===s?0:s,u=e.relativeX,l=void 0===u?0:u,f=e.relativeY,d=void 0===f?0:f,p=e.realWidth,h=e.realHeight,v=e.success,g=e.fail,y=e.complete,m=this.getConstant(),b={report_type:1,rl:this.rl,screen_cnt:n,click_point:JSON.stringify({x:o,y:a}),press_interval:c,pos_x:l,pos_y:d,ad_w:p,ad_h:h,from_game:1};this.report(Object.assign({},b,m),v,g,y)}},{key:"navigateTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,r=e.complete;1===this.dest_type?Bf({url:this.url,success:t,fail:n,complete:r}):6===this.dest_type?W("navigateToMiniProgram",{appId:this.dest_appid,path:O(this.url).trim(),scene:1092,sourcetype:1,success:t,fail:n,complete:r}):"function"==typeof n&&n({errMsg:"dest_type "+this.dest_type+" 是一个非法值"})}}]),e}(),Gg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scene,n=e.adId,r=e.success,o=e.fail,i=e.complete;Vg().then(function(e){Wg({apiName:"webapi_getadvert",reqData:{scene_type:t,ad_unit_id:n,weapp_path:"index.html",sdk_version:"1.9.91",network_type:e},success:function(e){if(e=JSON.parse(e.rawData),-201828===e.ret)return void("function"==typeof o&&o({errMsg:"getAd: fail no permission"}));if(e.ret&&0!==parseInt(e.ret))return void("function"==typeof o&&o(e));if(0===e.advertisement_num)return void("function"==typeof o&&o({errMsg:"no advertisement"}));try{var t=e.advertisement_info[0],n={traceid:t.traceid,aid:t.aid,group_id:t.group_id,dest_type:t.dest_type,watermark_type:t.watermark_type,url:t.url,rl:t.rl,apurl:t.apurl,pt:t.pt,title:t.hint_txt,imageUrl:t.image_url,width:t.material_width,height:t.material_height};6===t.dest_type&&(n.weapp_ghid=t.weapp_info.original_id,n.dest_appid=t.weapp_info.appid);var i=new zg(n);"function"==typeof r&&r(i)}catch(e){"function"==typeof o&&o({errMsg:e.message})}},fail:o,complete:i})})},Kg={16000:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""}]},Hg=function(e){var t=Kg[e.toString()];return t?t.concat([]):[]},Jg=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Qg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yg=function(e){var t={};if(e.indexOf("?")>-1){var n=e.indexOf("?")+1,r=e.substring(n);r.indexOf("#")>-1&&(r=r.substring(0,r.indexOf("#")));for(var o=r.split("&"),i=0;i<o.length;i++){var a=o[i].split("=");t[a[0]]=a[1]}}return t},Xg=function(e){W("private_openUrl",{url:e.url,adInfo:e.adInfo,success:e.success,fail:e.fail,complete:e.complete})},$g=function(e){var t=e.appId,n=e.path,r=e.traceid,o=e.aid,i=e.success,a=e.fail,s=e.complete,c=(Ir.accountInfo.appId,Ir.appLaunchInfo.sessionid,Ir.appType,r+":"+o);W("navigateToMiniProgram",{appId:t,path:O(n).trim(),scene:1095,sourcetype:1,sceneNote:c,success:i,fail:a,complete:s})},Zg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.username,n=e.success,r=e.fail,o=e.complete;W("private_addContact",{username:t,scene:Py,webtype:1,success:n,fail:r,complete:o})},ey=function(e){W("setNavigationBarRightButton",{hide:e.isHide,success:e.success,fail:e.fail,complete:e.complete})},ty=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("launchApplication",{schemeUrl:e.schemeUrl,operateDirectly:1,success:e.success,fail:e.fail,complete:e.complete})},ny=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("downloadAppInternal",{appUrl:e.appUrl,operateDirectly:1,success:e.success,fail:e.fail,complete:e.complete})},ry=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("getInstallState",{packageName:e.packageName,permissionBytes:[1,1,1],success:e.success,fail:e.fail,complete:e.complete})},oy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("queryDownloadTask",{downloadId:e.downloadId,permissionBytes:[1,1,1],success:e.success,fail:e.fail,complete:e.complete})},iy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("addDownloadTaskStraight",{taskName:e.taskName,taskUrl:e.taskUrl,fileMd5:e.fileMd5,extInfo:e.extInfo,permissionBytes:[1,1,1],success:e.success,fail:e.fail,complete:e.complete})},ay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("pauseDownloadTask",{downloadId:e.downloadId,permissionBytes:[1,1,1],success:e.success,fail:e.fail,complete:e.complete})},sy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("resumeDownloadTask",{downloadId:e.downloadId,permissionBytes:[1,1,1],success:e.success,fail:e.fail,complete:e.complete})},cy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("installDownloadTask",{downloadId:e.downloadId,permissionBytes:[1,1,1],success:e.success,fail:e.fail,complete:e.complete})},uy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W("loadVideoResource",{resources:e.resources,success:e.success,fail:e.fail,complete:e.complete})},ly=ch(yo),fy=ch(Wc(!1,"operateWXData")),dy=ch(Xg),py=ch($g),hy=ch(Zg),vy=ch(ey),gy=ch(ty),yy=ch(ny),my=ch(ry),by=ch(oy),_y=ch(iy),wy=ch(ay),Sy=ch(sy),ky=ch(cy),Cy=ch(uy),Ty="",xy=new Date,Iy=new Date,Ey=0,Py=1011,Oy=Ir.deviceOrientation;Ir.onReady(function(){xy=new Date;try{Ty=Ir.accountInfo.appId}catch(e){}}),Ip(function(e){var t=e.scene;Iy=new Date,Py=t}),Ap(function(){Ey+=new Date-Iy});var Ay,My=Es(),Dy=My.platform,Ry=My.system,Ny=My.version,By=My.SDKVersion,Ly=My.brand,jy=My.model,Fy="ios"===Dy,Uy=1,Wy=new Set,qy=function(){function e(t){var n=t.adUnitId,r=t.adType,o=void 0===r?"banner":r;Ut(this,e),this.index=Uy++,Wy.add(n),this.adUnitId=n,this.adType=o,this.data={},this.lastVideoReportTime=0,this.lastAdRetCode=0,this.lastAdReqTs=0,this.limitAdReqTime=3e4}return Qg(e,[{key:"reset",value:function(){this.lastVideoReportTime=0}},{key:"isLimitRequest",value:function(){return 0!==this.lastAdRetCode&&+new Date-this.lastAdReqTs<this.limitAdReqTime}},{key:"getTransmissionChainData",value:function(e){var t=e.logtype,n=void 0===t?3:t,r={traceid:this.data.traceid,trace_id:this.data.traceid,product_type:this.data.pt,jump_url:encodeURIComponent(this.data.url),rl:encodeURIComponent(this.data.rl),logtype:n};return Object.keys(r).map(function(e){return e+"="+r[e]}).join("&")}},{key:"convertTestAdData",value:function(e){try{var t=JSON.parse(JSON.stringify(e)),n=JSON.parse(t.crt_exp_info);if(608==n.crt_size||567==n.crt_size){if(t.crt_size=n.crt_size,t.ad_width=t.material_width=n.width,t.ad_height=t.material_height=n.height,t.image_url=n.image_url,n.dest_url&&t.url&&(1==t.dest_type||3==t.dest_type||6==t.dest_type)){var r=Yg(t.url),o={};r.weixinadkey&&(o.weixinadkey=r.weixinadkey),r.ticket&&(o.ticket=r.ticket),r.gdt_vid&&(o.gdt_vid=r.gdt_vid),r.weixinadinfo&&(o.weixinadinfo=r.weixinadinfo),t.url=Wt(n.dest_url,o)}t.watermark_text=n.watermark||""}return t}catch(t){return e}}},{key:"fetch",value:function(){var e=this;return this.adUnitId?this.isLimitRequest()?Promise.reject({errMsg:"no advertisement",errCode:this.lastAdRetCode}):ly().then(function(t){var n=t.networkType,r={landscape:1,portrait:2},o={scene_type:Py,ad_unit_id:e.adUnitId,weapp_path:"index.html",network_type:n,orientation:r[Oy],weapp_extra_data:JSON.stringify({wxa_start_ts:xy.valueOf(),wxa_enter_ts:Iy.valueOf()})};return"incentive-video"===e.adType&&(o.pos_id="1030436212907001"),e.lastAdReqTs=+new Date,fy({apiName:"webapi_getadvert",reqData:o})}).then(function(t){if(t=JSON.parse(t.rawData),"-12001"===t.err_code)return e.lastAdRetCode=t.err_code,Promise.reject({errMsg:"no permission",errCode:-12001});if(e.lastAdRetCode=t.ret,!t.advertisement_num||t.advertisement_num<=0)return Promise.reject({errMsg:"no advertisement",errCode:t.ret});if(!t.advertisement_info)return Promise.reject(t);var n=Jg(t.advertisement_info,1),r=n[0];r.crt_exp_tid&&r.crt_exp_info&&(r=e.convertTestAdData(r));var o={};try{if(r.flow_exp_info){JSON.parse(r.flow_exp_info).forEach(function(e){e.exp_para.forEach(function(e){o[e.name]=Number(e.value)})})}}catch(e){}var i=r,a=i.pt,s=i.crt_size,c=[123,124,126,127,128,129,130,131,132,133,134,135,136,137,138],u=[608,567];if(-1===c.indexOf(a)&&-1===u.indexOf(s))return s&&-1===u.indexOf(s)?Promise.reject({errMsg:"unexpected advertisement crt_size "+s}):Promise.reject({errMsg:"unexpected advertisement type "+a});s&&u.indexOf(s)>-1?r.use_new_protocol=!0:r.use_new_protocol=!1,e.data=r;var l={};if(-1!==[128,126,129,136].indexOf(a)){var f=r,d=f.biz_info,p=d.nick_name,h=d.is_subscribed;l={icon:d.head_img,nickname:p,uin:d.biz_uin,isFollowed:h}}var v={};if(132==a){var g=r,y=g.app_info;v={appName:y.app_name,apkName:y.apk_name,apkUrl:y.apk_url,appMd5:y.app_md5,iconUrl:y.icon_url,urlScheme:y.url_scheme,versionCode:y.version_code,channelId:y.channel_id}}var m={123:["image","brand"],124:["image","store"],127:["image","download"],128:["image","follow"],134:["image","wxgame"],138:["image","brand"],126:["card","follow","normal"],129:["card","follow","large"],132:["card","download","large"],130:["video","download"],131:["video","brand"],133:["video","wxgame"],135:["video","brand"],136:["video","follow"],137:["video","brand"]},b={1:"store",2:"brand",3:"download",6:"follow",7:"wxgame"};if(-1!==[130,131,133,135,136,137].indexOf(a)){var _=r,w=_.wx_game_video,S=w.short_video,k=S.thumb_url,C=S.video_url,T=S.video_duration,x=S.thumb_width,I=S.thumb_height,E=w.wxgame_video_card,P=E.show_time;return{type:m[a],video:{poster:k,src:C,duration:T,width:x,height:I},card:{icon:E.thumb,name:E.title,wording:E.desc,showTime:P},app:l,condition:o}}var O=r,A=O.image_url,M=O.material_width,D=O.material_height,R=O.ad_width,N=O.ad_height,B=O.hint_txt,L=O.watermark_type,j=O.watermark_text,F=O.use_new_protocol,U=m[a],W=void 0,q=void 0;return F?608!=s&&567!=s||(W=(R||M)/2,q=(N||D)/2):(W="image"===U[0]?(R||M)/2:R,q="image"===U[0]?(N||D)/2:N),{type:U,crt_size:s,watermark_text:j,use_new_protocol:F,watermark:b[L],width:W,height:q,image:{src:A,width:M,height:D},app:l,appInfo:v,wording:B,condition:o}}):Promise.reject({errMsg:"no ad unit id"})}},{key:"openFeedbackUrl",value:function(e){var t=Wt("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html#wechat_redirect",{aid:this.data.aid,traceid:this.data.traceid,source:e});return dy({url:t})}},{key:"land",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoDownload,r=void 0!==n&&n,o=t.toOfficalAccountDetail,i=void 0!==o&&o,a=this.data,s=a.pt;if(a.use_new_protocol){var c=this.data,u=c.url,l=c.dest_type;if(1===l)return dy({url:u,adInfo:this.getTransmissionChainData({logtype:3})});if(6===l){var f=this.data.weapp_info.appid;return py({appId:f,path:u,traceid:this.data.traceid,aid:this.data.aid})}return Promise.reject({errMsg:"nexpected dest_type "+l})}if(123===s||124===s||131===s||133===s||134===s||135===s||137===s||138===s){var d=this.data,p=d.url,h=d.dest_type;if(1===h)return dy({url:p,adInfo:this.getTransmissionChainData({logtype:3})});if(6===h){var v=this.data.weapp_info.appid;return py({appId:v,path:p,traceid:this.data.traceid,aid:this.data.aid})}return Promise.reject({errMsg:"pt "+s+", unexpected dest_type "+h})}if(130==s||127===s||132===s){var g=this.data,y=g.app_info,m=(y.app_id,y.apk_url,y.url_scheme),b=(g.ticket,g.url);return r&&(b+="&auto=1"),Fy?m&&m.trim().length>0?gy({schemeUrl:m}).catch(function(t){return 130==s?dy({url:b,adInfo:e.getTransmissionChainData({logtype:3})}):yy({appUrl:b}).catch(function(t){return dy({url:b,adInfo:e.getTransmissionChainData({logtype:3})})})}):130==s?dy({url:b,adInfo:this.getTransmissionChainData({logtype:3})}):yy({appUrl:b}).catch(function(t){return dy({url:b,adInfo:e.getTransmissionChainData({logtype:3})})}):dy({url:b,adInfo:this.getTransmissionChainData({logtype:3})})}if(126===s||129===s||128===s||136===s){var _=this.data,w=_.biz_info,S=w.user_name,k=w.is_subscribed,C=_.url;return k||i?dy({url:C,adInfo:this.getTransmissionChainData({logtype:3})}):hy({username:S}).catch(function(e){return/cancel/.test(e.errMsg)?e:Promise.reject(e)})}return Promise.reject({errMsg:"unexpected pt "+s})}},{key:"preloadLanding",value:function(){try{6===this.data.dest_type&&W("batchGetContact",{appIds:[this.data.weapp_info.appid]})}catch(e){}}},{key:"checkFollow",value:function(e){return fy({apiName:"webapi_checkcontact",reqData:{biz_uin:e}}).then(function(e){return 1===JSON.parse(e.rawData).is_subscribed})}},{key:"reportFollow",value:function(e){var t=e.result;return fy({apiName:"webapi_adfollow_report",
reqData:{type:{success:140,fail:141,already:142,cancel:143}[t],source:5,scene:75,traceid:this.data.traceid,trace_id:this.data.traceid,aid:this.data.aid,pos_type:5}})}},{key:"reportBanner",value:function(e){var t=this,n=e.reportType,r=e.exposureType,o=e.clickAbsoluteLeft,i=void 0===o?0:o,a=e.clickAbsoluteTop,s=void 0===a?0:a,c=e.clickRelativeLeft,u=void 0===c?0:c,l=e.clickRelativeTop,f=void 0===l?0:l,d=e.pressInterval,p=void 0===d?0:d,h=e.left,v=void 0===h?0:h,g=e.top,y=void 0===g?0:g,m=e.width,b=void 0===m?0:m,_=e.height,w=void 0===_?0:_,S=3,k={showed:2,viewable:5,incentiveVideoCard:14};"exposure"==n&&(S=k[r]),W("adDataReport",{adInfo:this.getTransmissionChainData({logtype:S})});var C=Es(),T=C.screenWidth,x=C.screenHeight,I={click:1,exposure:0},E={showed:0,viewable:1,incentiveVideoCard:2},P={banner:5,video:6},O="";O=-1!==[123,124,126,127,128,129,134,138].indexOf(this.data.pt)?"banner":"video";var A=void 0;try{A=this.data.weapp_info.original_id}catch(e){}var M={page_x:v,page_y:y,screen_x:v,screen_y:y,ad_number:Uy-1,ad_unit_number:Wy.size,ad_index:this.index,page_enter_time:Iy.valueOf(),phone_screen_width:T,phone_screen_height:x};return ly().then(function(e){var o=e.networkType,a={weixin_version:Ny,os_version:Ry,machine_brand:Ly||"",machine_type:jy,network_type:o,start_ts:xy.valueOf(),enter_ts:Iy.valueOf(),user_duration:Ey+(new Date-Iy)};return fy({apiName:"advert_report",reqData:{report_type:I[n],aid:t.data.aid,traceid:t.data.traceid,trace_id:t.data.traceid,ad_group_id:t.data.ad_group_id,apurl:t.data.apurl,weapp_ghid:A,rl:t.data.rl,pt:t.data.pt,screen_cnt:1,click_point:JSON.stringify({x:i,y:s}),press_interval:p,pos_x:u,pos_y:f,ad_w:b,ad_h:w,from_game:1,from_h5:0,wegame_start_ts:xy.valueOf(),wegame_enter_ts:Iy.valueOf(),wegame_user_duration:Ey+(new Date-Iy),exposure_type:E[r],pos_type:P[O],wxa_report_detail:M,weapp_extra_data:JSON.stringify(a)}})})}},{key:"reportClick",value:function(e){var t=e.clickAbsoluteLeft,n=e.clickAbsoluteTop,r=e.clickRelativeLeft,o=e.clickRelativeTop,i=e.pressInterval,a=e.left,s=e.top,c=e.width,u=e.height;return this.reportBanner({reportType:"click",clickAbsoluteLeft:t,clickAbsoluteTop:n,clickRelativeLeft:r,clickRelativeTop:o,pressInterval:i,left:a,top:s,width:c,height:u})}},{key:"reportExposure",value:function(e){var t=e.exposureType,n=e.left,r=e.top,o=e.width,i=e.height;return this.reportBanner({reportType:"exposure",exposureType:t,left:n,top:r,width:o,height:i})}},{key:"reportMMData",value:function(e,t){var n=this;return ly().then(function(r){var o=r.networkType,i=Hg(e);if(i&&0!=i.length)return t=Object.assign(t,{aid:n.data.aid,traceid:n.data.traceid,publisher_appid:Ty,network_type:o,wechat_version:Ny,platform:Dy,system_version:Ry,device_orientation:Oy,wxapp_lib_version:By}),i=i.map(function(e){return{type:e.type,value:(t[e.key]||e.value).toString()}}),fy({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:i})}})})}},{key:"reportBehaviorButton",value:function(e){var t=e.button,n=e.playDuration,r=e.preloadVideo,o=e.preloadVideoSuccess,i=e.videoFirstPlay,a=e.cardFirstShow,s=e.clickCard;return this.reportMMData(16e3,{click_button:t,play_duration:n,click_close_ts:+new Date,preload_video:r,preload_video_success:o,video_first_play_ts:i,card_first_show_ts:a,click_card_ts:s})}},{key:"reportVideoLoadTime",value:function(e){var t=e.beginTime,n=void 0===t?0:t,r=e.endTime,o=void 0===r?0:r,i=e.reportType,a=void 0===i?0:i,s=o-n;if(s>0)return this.reportMMData(15730,{load_begin_time:n,load_end_time:o,load_cost_time:s,report_type:a})}},{key:"reportRepeatClick",value:function(e){var t=e.slotId,n=e.costType,r=e.clkCnt,o=e.lastClkPeriod,i=e.retCode,a=e.costTime,s=e.pageStayTime,c=e.jsapiName;return this.reportMMData(15979,{slotid:t,costtype:n,clkcnt:r,currenttime:+new Date,lastclkperiod:o,retcode:i,costtime:a,pagestaytime:s,jsapiname:c})}},{key:"reportLandingTime",value:function(e){var t=e.slotId,n=e.costType,r=e.openTime,o=e.closeTime,i=e.stayTime,a=e.jsapiName;return this.reportMMData(15980,{slotid:t,costtype:n,currenttime:+new Date,opentime:r,closetime:o,staytime:i,jsapiname:a})}},{key:"reportADFunnelModel",value:function(e){var t=e.adtype,n=e.stage,r=[t,n].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"GameADFunnelModel",value:r,force:!0,immediately:!0})}},{key:"reportVideo",value:function(e){var t=e.playType,n=e.conditionType,r=e.muted,o=e.playDuration,i=e.videoDuration,a={unknown:0,complete:1,partial:2,error:3},s={unknown:0,land:1,end:2,start:3,exit:4,close:5},c=fy({apiName:"webapi_advideo_report",reqData:{aid:parseInt(this.data.aid),traceid:this.data.traceid,trace_id:this.data.traceid,viewid:this.data.wx_game_video.short_video.viewid,video_play_info:{play_type:a[t],play_duration:o-this.lastVideoReportTime,video_duration:i,auto_play:!0,muted:r},report_type:s[n]}});return this.lastVideoReportTime=o,c}},{key:"setRightButtonHide",value:function(e){return vy({isHide:e})}},{key:"preloadVideo",value:function(e){return Cy({resources:e})}},{key:"launchApplication",value:function(e){return gy({schemeUrl:e})}},{key:"getInstallState",value:function(e){return my({packageName:e})}},{key:"queryDownloadTask",value:function(e){return by({downloadId:e})}},{key:"addDownloadTaskStraight",value:function(e,t,n,r){return _y({taskName:e,taskUrl:t,fileMd5:n,extInfo:r})}},{key:"pauseDownloadTask",value:function(e){return wy({downloadId:e})}},{key:"resumeDownloadTask",value:function(e){return Sy({downloadId:e})}},{key:"installDownloadTask",value:function(e){return ky({downloadId:e})}},{key:"getNetworkType",value:function(){return ly()}}]),e}(),Vy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zy=function(){function e(){qt(this,e),this.emitter=new kr({maxListeners:2e3}),this.callbackMap=new WeakMap}return Vy(e,[{key:"emit",value:function(e,t){this.emitter.emit(e,t)}},{key:"on",value:function(e,t){if(t&&"function"==typeof t){var n=Reporter.surroundThirdByTryCatch(t,"at "+e+" callback function");this.callbackMap.set(t,n),this.emitter.on(e,n)}}},{key:"off",value:function(e,t){if(t&&"function"==typeof t){var n=this.callbackMap.get(t);this.emitter.off(e,n)}else this.emitter.removeAllListeners(e)}}]),e}(),Gy=zy,Ky=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Hy=new Gy,Jy="SHOW_REWARD",Qy="HIDE_REWARD",Yy={banner:"SHOW_BANNER","incentive-video":Jy},Xy={banner:"HIDE_BANNER","incentive-video":Qy},$y=function(){function e(t){var n=t.adUnitId,r=t.adType,o=void 0===r?"banner":r;Vt(this,e),this.adUnitId=n,this.adType=o}return Ky(e,[{key:"show",value:function(){var e=Yy[this.adType];e&&Hy.emit(e,{adUnitId:this.adUnitId})}},{key:"hide",value:function(){var e=Xy[this.adType];e&&Hy.emit(e,{adUnitId:this.adUnitId})}},{key:"on",value:function(e,t){var n=this;Hy.on(e,function(e){e.adUnitId!==n.adUnitId&&t(e)})}}]),e}(),Zy=function e(t){var n=this,r=tm(this),o={view:bh,text:Sh,image:Bh,video:Uh},i=o[t.name],a=sh(t.attributes.id),s=Object.keys(t.attributes).reduce(function(e,n){var o=t.attributes[n],i=sh(n);return"id"===n?(e.style=r.style[a],e):(/\{\{.+\}\}/.test(o)||(e[i]=""===o||"true"===o||"false"!==o&&o),e)},{});s.name=a;var c=new i(s);return r[a]=c,t.children.forEach(function(t){var r=e.call(n,t);c.add(r)}),c},em=new WeakMap,tm=function(e){return em.get(e)},nm=function(e){em.delete(e)},rm=function e(){zt(this,e);var t={};em.set(this,t)},om=function(e,t,n){var r=tm(this);r.xom=e,r.style=t,r.state=n,Zy.call(this,e)},im={container:{position:"absolute",hidden:!0,overflow:"hidden"},adFeedback:{hidden:!0,width:46,height:15,backgroundColor:"rgba(40, 40, 40, 0.6)",borderRadius:12,"ios-portrait":{borderRadius:7},"ios-landscape":{borderRadius:7},"iphone x-portrait":{borderRadius:7},"iphone x-landscape":{borderRadius:7},color:"#ffffff",textAlign:"center",left:5,top:5,flexDirection:"row",alignItems:"center",position:"absolute"},adText:{width:28,height:14,lineHeight:14,color:"#ffffff",textAlign:"center",fontSize:11,left:4,top:1.5,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5},position:"absolute"},rectangle:{top:7,left:32,width:7.2,height:4.2,position:"absolute"},adFeedbackBtn:{hidden:!0,top:22,left:5,position:"absolute",width:72,height:36,lineHeight:36,textAlign:"center",fontSize:16,color:"#000000",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adMarker:{hidden:!1,width:28,height:14,lineHeight:14,backgroundColor:"rgba(40, 40, 40, 0.6)",borderRadius:2,color:"#ffffff",textAlign:"center",fontSize:11,left:5,top:5,position:"absolute"},tag:{width:63,height:18,right:0,bottom:0,position:"absolute"},tagView:{hidden:!0,right:0,bottom:0,position:"absolute",flexDirection:"row"},tagBefore:{width:14,height:18},tagContent:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.6)"},tagMiniapp:{hidden:!0,width:11,height:12,marginRight:1},tagLabel:{height:18,lineHeight:18,color:"#ffffff",textAlign:"left",fontSize:11}},am={container:{padding:9,backgroundColor:"#ffffff",flexDirection:"row",justifyContent:"space-between",alignItems:"center",position:"absolute",hidden:!0,overflow:"hidden"},appIcon:{width:32,height:32,marginRight:9,borderRadius:16},appInformation:{flex:1,flexDirection:"column"},appName:{height:15,fontSize:13,marginBottom:4,color:"#000000"},appWording:{height:12,fontSize:10,color:"#888888"},appButton:{width:48,height:24,lineHeight:24,textAlign:"center",fontSize:13,color:"#1aad19",borderWidth:1,borderColor:"#1aad19",borderRadius:2,backgroundColor:"#ffffff"}},sm={container:{flexDirection:"row",justifyContent:"space-between",position:"absolute",hidden:!0,overflow:"hidden",backgroundColor:"#ffffff"},appContainer:{flex:1,flexDirection:"column",backgroundColor:"#ffffff",alignItems:"center",paddingTop:12.5,paddingBottom:12.5},appIcon:{width:37,height:37,borderRadius:18.5},adFeedback:{hidden:!0,width:46,height:15,backgroundColor:"rgba(40, 40, 40, 0.6)",borderRadius:12,"ios-portrait":{borderRadius:7},"ios-landscape":{borderRadius:7},"iphone x-portrait":{borderRadius:7},"iphone x-landscape":{borderRadius:7},color:"#ffffff",textAlign:"center",left:5,top:5,flexDirection:"row",alignItems:"center",position:"absolute"},adText:{width:28,height:14,lineHeight:14,color:"#ffffff",textAlign:"center",fontSize:11,left:4,top:1.5,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5},position:"absolute"},rectangle:{top:7,left:32,width:7.2,height:4.2,position:"absolute"},adFeedbackBtn:{hidden:!0,top:22,left:5,position:"absolute",width:72,height:36,lineHeight:36,textAlign:"center",fontSize:16,color:"#000000",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adMarker:{hidden:!1,width:28,height:14,lineHeight:14,backgroundColor:"rgba(40, 40, 40, 0.6)",borderRadius:2,color:"#ffffff",textAlign:"center",fontSize:11,left:5,top:5,position:"absolute"},appName:{height:13,fontSize:11,lineHeight:13,color:"#888888",marginTop:5,marginBottom:15,textAlign:"center"},appButton:{width:60,height:27,lineHeight:27,textAlign:"center",fontSize:15,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#ffffff"},downloadButton:{width:60,height:27,hidden:!0},downloadButtonText:{width:60,height:27,lineHeight:27,textAlign:"center",fontSize:15,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#ffffff"},downloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},downloadProgressText:{width:60,height:27,lineHeight:27,textAlign:"center",fontSize:15,color:"#ffffff",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#04be02"}},cm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),um=n(0),lm=um('\n  <image id="container" click-state="true">\n    <view id="ad-feedback" click-state="true">\n        <text id="ad-text" value="广告" click-state="true" bubble-event="true"></text>\n        <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n    </view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n    <text id="ad-marker" value="广告" bubble-event="true"></text>\n    <image id="tag" bubble-event="true"></image>\n    <view id="tagView" bubble-event="true">\n      <image id="tagBefore" bubble-event="true" src="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJD1yfAwp8hgm1whMrNszgO3SgLoE6tlNzpKQQm4ubB6PeOLWL30sIWR7Sfsiakp1Ouw/0?wx_fmt=png"></image>\n      <view id="tagContent" bubble-event="true">\n        <image id="tagMiniapp" bubble-event="true" src="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJD1yfAwp8hgmCKiaGzo9XUvxlDiaibHqzSO9BqvH74E0m5ibptJHaMAxicKvxXmM4LjMicaA/0?wx_fmt=png"></image>\n        <text id="tagLabel" value="" bubble-event="true"></text>\n      </view>\n    </view>\n  </image>\n'),fm=lm.root,dm=um('\n  <view id="container" click-state="true">\n    <image id="app-icon" bubble-event="true"></image>\n    <view id="app-information" bubble-event="true">\n      <text id="app-name" bubble-event="true"></text>\n      <text id="app-wording" bubble-event="true"></text>\n    </view>\n    <text id="app-button" click-state="true"></text>\n  </view>\n'),pm=dm.root,hm=um('\n  <view id="container" click-state="true">\n    <image id="image" bubble-event="true">\n        <view id="ad-feedback" click-state="true">\n            <text id="ad-text" value="广告" click-state="true" bubble-event="true"></text>\n            <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n        </view>\n        <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n      <text id="ad-marker" value="广告" bubble-event="true"></text>\n    </image>\n    <view id="app-container" bubble-event="true">\n      <image id="app-icon" bubble-event="true"></image>\n      <text id="app-name" bubble-event="true"></text>\n      <text id="app-button" click-state="true"></text>\n      <view id="download-button" click-state="true">\n        <text id="download-button-text" bubble-event="true"></text>\n        <text id="download-progress" bubble-event="true">\n          <text id="download-progress-text" bubble-event="true"></text>\n        </text>\n      </view>\n    </view>\n  </view>\n'),vm=hm.root,gm={download:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJBaI5ibAEtVLs6F9e3WiaNU3ZMbLibRM8apxdaL9LEPIoHyYz5nNORHQ4wYzIHicLE58hw/0?wx_fmt=png",checkApp:"http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=61c9b6e574d71cb44b30d847fef71c94&filekey=3033020101041f301d02016d04025348041061c9b6e574d71cb44b30d847fef71c9402020c34040d00000004627466730000000131&hy=SH&storeid=32303138303830363133343732373030306331396130313336666664393337303561333230613030303030303664&bizid=1023",store:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJBaI5ibAEtVLsj1n39KriaGD1qnD0yb48RUmEuicUK2YNkyL6IQDBEntIhu8M2rgbFYeA/0?wx_fmt=png",brand:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMHnjG1bjTDZCmA3TN2jsHBFrAIbAZAwvibUuDhBy8SSVjF4zf7Zd07ibmg/0?wx_fmt=png",follow:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJFHiaWIxfyWrENZVPNdXGQjicXK9KfSrEGhMzItz78Q56s8PlIVSkCwJrLqZ6PaeEF8w/0?wx_fmt=png",wxgame:"http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=7dd0dc5a89eff94cd0f1b33cbb6b1ac9&filekey=3033020101041f301d02016d0402534804107dd0dc5a89eff94cd0f1b33cbb6b1ac902020f20040d00000004627466730000000131&hy=SH&storeid=32303138303631353130313131383030306263343236313336666664393336663561333230613030303030303664&bizid=1023"},ym={store:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMHjIlnsPHRRptypZhia0IQzDbVe8LDYKxtMcVs6IoWtIwtVrGFYiafQGDg/0?wx_fmt=png",brand:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMHu7ERap7ZiaSmy2UIVcFaib3pDsEmMOnEIShSwVWf831tKorzMiaIvkMQQ/0?wx_fmt=png",wxgame:"http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=3c49c56c067766f61e8fe1f7857a90f2&filekey=3033020101041f301d02016d0402534804103c49c56c067766f61e8fe1f7857a90f20202112b040d00000004627466730000000131&hy=SH&storeid=32303138303631353130313134353030303262616463313336666664393336663561333230613030303030303664&bizid=1023"},mm=Is(),bm=mm.platform,_m="ios"===bm,wm="android"===bm,Sm=0,km=function(){var e=this,t=tm(this),n=Dm.call(this),r=(n.outer,n.inner,n.scale),o=t.data.type;if("image"===o[0]){om.call(this,fm,im);var i=t.data,a=i.type,s=i.image,c=s.src,u=(s.width,s.height,i.watermark);t.container.src=c,t.tag.src=gm[u],"download"===a[1]&&_m&&(t.tag.src=gm.checkApp),"follow"!==u&&"wxgame"!==u||(t.tag.style.width=72),6===t.adProxy.data.dest_type&&(t.tag.src=ym[u],t.tag.style.width="wxgame"===u?82:73),t.container.on("click",function(t){Am.call(e,t),"follow"===a[1]?Rm.call(e,{toOfficalAccountDetail:!0}):Rm.call(e)})}else if("card"===o[0]&&"follow"===o[1]&&"normal"===o[2]){om.call(this,pm,am);var l=t.data,f=l.app,d=f.icon,p=f.isFollowed,h=f.nickname,v=l.wording;t.appIcon.src=d,t.appButton.value=p?"查看":"关注",t.appName.value=h,t.appWording.value="广告 | "+v,t.appIcon.style.scale=r,t.appButton.style.scale=r,t.appInformation.style.scale=r,t.appName.style.scale=r,t.appWording.style.scale=r,t.appButton.on("click",function(n){Am.call(e,n),"查看"===t.appButton.value?Rm.call(e,{toOfficalAccountDetail:!0}):Rm.call(e)}),t.container.on("click",function(t){Am.call(e,t),Rm.call(e,{toOfficalAccountDetail:!0})})}else if("card"===o[0]&&"follow"===o[1]&&"large"===o[2]){om.call(this,vm,sm);var g=t.data,y=g.width,m=g.image,b=m.src,_=m.width,w=(m.height,g.app),S=w.icon,k=w.isFollowed,C=w.nickname;g.wording;t.image.style.width=239,t.image.style.height=120,t.image.src=b,t.appIcon.src=S,t.appName.value=ah(C,16),t.appName.style.width=y-_,t.appButton.value=k?"查看":"关注",t.image.style.scale=r,t.appContainer.style.scale=r,t.appIcon.style.scale=r,t.appName.style.scale=r,t.appButton.style.scale=r,t.appButton.on("click",function(n){Am.call(e,n),"查看"===t.appButton.value?Rm.call(e,{toOfficalAccountDetail:!0}):Rm.call(e)}),t.container.on("click",function(t){Am.call(e,t),Rm.call(e,{toOfficalAccountDetail:!0})})}else"card"===o[0]&&"download"===o[1]&&"large"===o[2]&&xm.call(this)},Cm=function(){var e=this,t=tm(this),n=Dm.call(this),r=(n.outer,n.inner,n.scale,t.data),o=r.crt_size;r.dest_type;if(608==o||567==o){om.call(this,fm,im);var i=t.data,a=i.image,s=a.src,c=(a.width,a.height,i.watermark_text);t.container.src=s,t.tag.style.hidden=!0,t.tagView.style.hidden=!1,t.tagLabel.value=c,t.tagLabel.style.width=11*t.data.watermark_text.length+6,6===t.adProxy.data.dest_type&&(t.tagMiniapp.style.hidden=!1),t.container.on("click",function(n){Am.call(e,n),3===t.adProxy.data.dest_type?Rm.call(e,{toOfficalAccountDetail:!0}):Rm.call(e)})}},Tm=function(){var e=tm(this),t=this.style,n=t.left,r=t.top,o=Dm.call(this),i=(o.outer,o.inner),a=(o.scale,e.data);a.type;a.use_new_protocol?Cm.call(this):km.call(this),e.data.condition.widget_gray_feedback&&(e.adMarker.style.hidden=!0,e.adFeedback.style.hidden=!1,e.adFeedback.on("click",function(t){e.adFeedbackBtn.style.hidden=!e.adFeedbackBtn.style.hidden}),e.adFeedbackBtn.on("click",function(t){e.adProxy.openFeedbackUrl(1002),e.adFeedbackBtn.style.hidden=!0})),e.adProxy.preloadLanding(),e.container.style.left=n,e.container.style.top=r,e.container.style.width=i.width,e.container.style.height=i.height,Dh.add(e.container),e.emitter.emit("load"),e.container.ready().then(function(){ih("container 及其子元素 ready"),e.emitter.emit("ready")})},xm=function(){var e=this,t=tm(this),n=Dm.call(this),r=(n.outer,n.inner,n.scale);om.call(this,vm,sm);var o=t.data,i=o.width,a=o.image,s=a.src,c=a.width,u=(a.height,o.appInfo),l=u.appName,f=u.apkName,d=u.apkUrl,p=u.appMd5,h=u.iconUrl,v=u.urlScheme,g=(u.versionCode,u.channelId);t.image.style.width=239,t.image.style.height=120,t.image.src=s,t.appIcon.src=h,t.appName.value=ah(l,16),t.appName.style.width=i-c,t.image.style.scale=r,t.appContainer.style.scale=r,t.appIcon.style.scale=r,t.appName.style.scale=r,t.downloadButtonText.style.scale=r,t.downloadProgress.style.scale=r,t.downloadProgressText.style.scale=r,t.downloadButton.style.scale=r,t.downloadButton.style.hidden=!1,t.appButton.style.hidden=!0,_m?(t.downloadButtonText.value="查看",t.downloadButton.on("click",function(t){Am.call(e,t),Rm.call(e)}),t.container.on("click",function(t){Am.call(e,t),Rm.call(e)})):wm&&(t.downloadButtonText.value=t.downloadProgressText.value="下载",Em.call(this),t.downloadButton.on("click",function(n){Am.call(e,n);var r=t.adProxy.data,o=r.aid,i=r.traceid,a=r.apurl;if(console.error("isYYBInstalled:"+t.isYYBInstalled),console.error("androidAppState:"+t.androidAppState),4==t.androidAppState)t.adProxy.launchApplication(v).then(function(e){console.error("launchApplication success")}).catch(function(t){Rm.call(e)});else if(t.isYYBInstalled){var s=["ANDROIDWX.YYB.WX.ADVERTISE",i,o,f.replace(/\./g,"_"),"0",15,a.indexOf("ad.wx.com")>-1?1:0].join("."),c="tmast://download?oplist=1,2&pname="+f+"&channelid="+g+"&via="+s;t.adProxy.launchApplication(c).then(function(e){console.error("launchApplication yyb success")}).catch(function(t){Rm.call(e)})}else if(t.androidAppState==Sm){var u=[o,i,f.replace(/./g,"_"),0,20,a.indexOf("ad.wx.com")>-1?1:0].join(".");t.adProxy.addDownloadTaskStraight(l,d,p,u).then(function(n){t.androidDownloadId=n.downloadId,setTimeout(Im.bind(e),1e3)}).catch(function(t){Rm.call(e)})}else 1==t.androidAppState?(t.adProxy.pauseDownloadTask(t.androidDownloadId).catch(function(e){}),t.downloadButtonText.value=t.downloadProgressText.value="继续",t.androidAppState=2):2==t.androidAppState?(t.adProxy.resumeDownloadTask(t.androidDownloadId).then(function(t){setTimeout(Im.bind(e),1e3)}).catch(function(e){}),t.downloadButtonText.value=t.downloadProgressText.value="暂停",t.androidAppState=1):3==t.androidAppState&&t.adProxy.installDownloadTask(t.androidDownloadId).catch(function(e){})}),t.container.on("click",function(t){Am.call(e,t),Rm.call(e)}))},Im=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,r=tm(this);r.adProxy.queryDownloadTask(r.androidDownloadId).then(function(n){"download_succ"===n.state?(r.downloadButtonText.value=r.downloadProgressText.value="安装",r.downloadProgress.style.width=60,r.androidAppState=3):"downloading"===n.state?(r.downloadButtonText.value=r.downloadProgressText.value="暂停",r.downloadProgress.style.width=60*parseInt(n.progress)/100,r.androidAppState=1):"download_fail"===n.state&&(r.downloadButtonText.value=r.downloadProgressText.value="下载",r.downloadProgress.style.width=0,r.androidAppState=Sm),"downloading"!==n.state&&"default"!==n.state||setTimeout(e.bind(t),1e3)}).catch(function(t){n>0&&e(--n)})},Em=function(){var e=tm(this),t=e.data.appInfo,n=t.apkName,r=t.versionCode,o=t.urlScheme;e.adProxy.getInstallState("com.tencent.android.qqdownloader").then(function(t){console.error("getInstallState yyb success",t),t.isInstalled&&(void 0===t.versionCode||t.versionCode>=1060125)&&(e.isYYBInstalled=!0)}).catch(function(e){}),e.adProxy.getInstallState(n).then(function(t){console.error("getInstallState success"),t.isInstalled&&(void 0===t.versionCode||t.versionCode>=r)&&(e.androidAppState=4,e.downloadButtonText.value=e.downloadProgressText.value="已安装",o&&o.trim().length>0&&(e.downloadButtonText.value=e.downloadProgressText.value="打开"))}).catch(function(e){})},Pm=function e(t){var n=this;if(!t||"function"!=typeof t)return new Promise(function(t){return e.call(n,t)});var r=tm(this);r.isReady?t():r.emitter.on("ready",t)},Om=function(){ih("开始 update UI");var e=tm(this),t=this.style,n=t.left,r=t.top,o=Dm.call(this),i=o.inner,a=o.scale,s=e.data,c=s.type,u=s.crt_size,l=s.use_new_protocol;ih(this.style.width,this.style.height),ih("update UI",i),Object.assign(e.container.style,i,{left:n,top:r});var f=[];return l?608!=u&&567!=u||(f=[]):f="image"===c[0]?[]:"card"===c[0]&&"follow"===c[1]&&"normal"===c[2]?["appIcon","appInformation","appName","appWording","appButton"]:"card"===c[0]&&"download"===c[1]&&"large"===c[2]?["image","appContainer","appIcon","appName","appButton","downloadButton","downloadButtonText","downloadProgress","downloadProgressText"]:["image","appContainer","appIcon","appName","appButton"],f.forEach(function(t){e[t].style.scale=a}),e.container.nextUpdate().then(function(){return ih("updateUI 完成"),Promise.resolve()})},Am=function(e){var t=tm(this);if(!jm.call(this)&&t.container&&t.container.layoutBox){var n=t.container.layoutBox,r=n.left,o=n.top,i=n.width,a=n.height,s=t.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-r,clickRelativeTop:e.absoluteY-o,pressInterval:e.pressInterval,left:r,top:o,width:i,height:a});oh(s,"banner","点击"),Bm.call(this,{stage:1002})}},Mm=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=tm(this);if(ih("检查曝光"),jm.call(this))return ih("已经销毁, 不再曝光"),Promise.resolve();if(!r.container.layoutBox)return ih("还没经过布局, 下一个 loop 再做"),rh(0).then(function(){return e.call(t,n)});var o=Is(),i=o.screenHeight,a=r.container.layoutBox,s=a.left,c=a.top,u=a.width,l=a.height;if(c>i-1)return Promise.resolve();if(c+l/2<=i&&!r.isViewableExposureReported){if(!n)return ih("可视曝光第 1 阶段, 需要 1 秒以后再次检验"),rh(1e3).then(function(){return e.call(t,!0)});ih("可视曝光第 2 阶段"),r.isViewableExposureReported=!0;var f=r.adProxy.reportExposure({left:s,top:c,width:u,height:l,exposureType:"viewable"});oh(f,"banner","可视")}if(!r.isShowedExposureReported){ih("原始曝光"),r.isShowedExposureReported=!0;var d=r.adProxy.reportExposure({left:s,top:c,width:u,height:l,exposureType:"showed"});oh(d,"banner","原始")}return Promise.resolve()},Dm=function(){var e=tm(this),t=Is(),n=t.screenWidth,r=e.data,o=r.width,i=r.height,a=r.type,s=r.crt_size;r.use_new_protocol?608!=s&&567!=s||(o=345,i=120):"image"===a[0]&&o/i<4?o/i<3?(o=345,i=120):(o=345,i=99):"large"===a[2]?(o=345,i=120):(o=375,i=50);var c=this.style,u=c.width,l=c.height;u=u||o,l=l||i;var f=nh({outer:{width:u,height:l},inner:{width:o,height:i},minScale:300/o,maxScale:n/o,side:"width"}),d=e.lastRealWidth!==f.inner.width||e.lastRealHeight!==f.inner.height;return this.style.realWidth=e.lastRealWidth=f.inner.width,this.style.realHeight=e.lastRealHeight=f.inner.height,d&&e.emitter.emit("resize",f.inner),f},Rm=function(e){var t=tm(this);t.landingCount++,t.landingCount>1&&t.adProxy.reportRepeatClick({slotId:8040321819858439,costType:t.adProxy.data&&t.adProxy.data.is_cpm?1:2,clkCnt:t.landingCount,lastClkPeriod:+new Date-t.lastLandingTime,retCode:t.lastJsapiStatus,costTime:t.lastJsapiCostTime,pageStayTime:t.landingPageCostTime,jsapiName:t.lastJsapiName}),t.lastLandingTime=+new Date,t.lastJsapiStatus=2,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0;var n=t.adProxy.land(e);e||"follow"!==t.data.type[1]?n.then(function(e){e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"==t.lastJsapiName||"navigateToMiniProgram"==t.lastJsapiName||"openADCanvas"==t.lastJsapiName?t.isLandingPage=!0:t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime}).catch(function(e){t.lastJsapiStatus=1}):(n.then(function(e){/ok/.test(e.errMsg)&&(t.appButton.value="查看"),e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime}).catch(function(e){t.lastJsapiStatus=1}),Nm.call(this,n))},Nm=function(e){var t=tm(this),n=e.then(function(e){return/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):void 0}).catch(function(e){return t.adProxy.reportFollow({result:"fail"})});oh(n,"banner","关注")},Bm=function(e){var t=e.stage,n=tm(this),r={adtype:1,stage:t};n.adProxy.reportADFunnelModel(r)},Lm=function(){var e=this;if(!jm.call(this)){var t=tm(this);ih("destroy 调用"),this._destroyed=!0,Pm.call(this).then(function(){return t.updateResult}).then(function(){ih("UI update 完成, 正式开始 destroy"),xp(t.checkAdState),Op(t.onHide),t.emitter.off("resize"),t.emitter.off("_error"),t.emitter.off("load"),Dh.remove(t.container),nm(e)})}},jm=function(){return this._destroyed},Fm=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.adUnitId,r=e.style,o=void 0===r?{left:0,top:0,width:width,height:height}:r;Gt(this,t);var i=Kt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=tm(i);a.emitter=new Gy,a.adProxy=new qy({adUnitId:n,adType:"banner"}),a.isYYBInstalled=!1,a.androidAppState=Sm,a.androidDownloadId=0,a.landingCount=0,a.lastLandingTime=0,a.lastJsapiName=0,a.lastJsapiStatus=0,a.lastJsapiCostTime=0,a.isLandingPage=!1,a.landingPageCostTime=0,a.hideTime=0,a.isShowedExposureReported=!1,a.isViewableExposureReported=!1,a.isReady=!1,a.isShow=!1,a.emitter.on("ready",function(){return a.isReady=!0}),a.isHideBYCover=!1,a.adCover=new $y({adUnitId:n,adType:"banner"}),a.adCover.on(Jy,function(){jm.call(i)||Pm.call(i).then(function(){a.isShow&&!jm.call(i)&&(a.container.style.hidden=!0),a.isHideBYCover=!0,a.lastDisplayAction=""}).catch(function(e){})}),a.adCover.on(Qy,function(){jm.call(i)||Pm.call(i).then(function(){a.isShow&&!jm.call(i)&&(a.container.style.hidden=!1),a.isHideBYCover=!1,"show"==a.lastDisplayAction?i.show():"hide"==a.lastDisplayAction&&i.hide()}).catch(function(e){})}),a.lastRealWidth=0,a.lastRealHeight=0,a.updateResult=Promise.resolve(),i.adUnitId=n,i.style={},i._destroyed=!1;var s=null;Object.keys(o).forEach(function(e){Object.defineProperty(i.style,e,{configurable:!0,enumerable:!0,get:function(){return o[e]},set:function(t){jm.call(i)||t!==o[e]&&(o[e]=t,a.updateResult=new Promise(function(e){clearTimeout(s),s=setTimeout(e,0)}).then(function(){return Pm.call(i)}).then(function(){return Promise.all([Om.call(i),a.container.nextLayout().then(function(){return Mm.call(i)})])}))}})}),i.style.realWidth=i.style.width,i.style.realHeight=i.style.height;var c=a.adProxy.fetch();return c.catch(function(e){return a.emitter.emit("_error",e)}),a.adFetchResult=c,a.adFetchResult.then(function(e){a.data=e,Tm.call(i)}).catch(function(){}),a.checkAdState=function(){a.adFetchResult.then(function(){if("follow"===a.data.type[1]?a.adProxy.checkFollow(a.data.app.uin).then(function(e){"card"===a.data.type[0]&&(a.appButton.value=e?"查看":"关注")}):"card"===a.data.type[0]&&"download"===a.data.type[1]&&"large"===a.data.type[2]&&Em.call(i),a.isLandingPage){a.lastJsapiStatus=0,a.isLandingPage=!1;var e=+new Date;a.landingPageCostTime=e-a.hideTime,a.adProxy.reportLandingTime({slotId:8040321819858439,costType:a.adProxy.data&&a.adProxy.data.is_cpm?1:2,openTime:a.hideTime,closeTime:e,stayTime:a.landingPageCostTime,jsapiName:a.lastJsapiName})}}).catch(function(){})},Ip(a.checkAdState),a.onHide=function(e){a.hideTime=+new Date},Ap(a.onHide),i}return Ht(t,e),cm(t,[{key:"show",value:function(){var e=this;if(jm.call(this))return Promise.reject({errMsg:"banner-ad has been destroyed"});var t=tm(this);return t.isHideBYCover?(t.lastDisplayAction="show",Pm.call(this)):(t.isShow=!0,Bm.call(this,{stage:1001}),
Pm.call(this).then(function(){t.container.style.hidden=!1,t.container.nextLayout(function(){return Mm.call(e)})}))}},{key:"hide",value:function(){if(!jm.call(this)){var e=tm(this);return e.isHideBYCover?(e.lastDisplayAction="hide",Pm.call(this)):(e.isShow=!1,Pm.call(this).then(function(){e.container.style.hidden=!0}))}}},{key:"destory",value:function(){Lm.call(this)}},{key:"destroy",value:function(){Lm.call(this)}},{key:"onResize",value:function(e){if(!jm.call(this)){tm(this).emitter.on("resize",e)}}},{key:"offResize",value:function(e){if(!jm.call(this)){tm(this).emitter.off("resize",e)}}},{key:"onError",value:function(e){if(!jm.call(this)){tm(this).emitter.on("_error",e)}}},{key:"offError",value:function(e){if(!jm.call(this)){tm(this).emitter.off("_error",e)}}},{key:"onLoad",value:function(e){if(!jm.call(this)){tm(this).emitter.on("load",e)}}},{key:"offLoad",value:function(e){if(!jm.call(this)){tm(this).emitter.off("load",e)}}}]),t}(rm),Um={container:{position:"absolute",backgroundColor:"#000000",justifyContent:"center",alignItems:"center",overflow:"hidden",hidden:!0},video:{padding:10,flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start",backgroundColor:"#ff0000"},topBar:{position:"absolute",justifyContent:"space-between",flexDirection:"row",alignItems:"flex-start",left:0,top:16,"ios-portrait":{top:12},"ios-landscape":{top:10},"iphone x-portrait":{top:44},"iphone x-landscape":{top:10}},barLeft:{flexWrap:"nowrap"},count:{marginLeft:10,paddingLeft:12.5,paddingRight:12.5,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"},countDown:{width:33.5,height:32,lineHeight:32,color:"#ffffff",fontSize:14},barRight:{marginRight:10,paddingLeft:12.5,paddingRight:12.5,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,flexDirection:"row",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"},close:{width:56,height:32,lineHeight:32,color:"#ffffff",fontSize:14},splitLine:{width:1,height:18.5,marginLeft:12,marginRight:12,backgroundColor:"rgba(255, 255, 255, 0.25)"},sound:{width:16,height:32},blank:{width:1,height:1},cardContainer:{flexDirection:"column",alignSelf:"stretch"},card:{hidden:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",flexDirection:"row",alignItems:"center",borderRadius:5,portrait:{height:90,padding:17.5},landscape:{width:315,height:70,padding:10}},appIcon:{borderRadius:10,opacity:.95,portrait:{width:55,height:55,marginRight:10},landscape:{width:45,height:45,marginRight:6}},appInformation:{flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},appName:{height:22.5,marginBottom:5,fontSize:16,color:"#000000",portrait:{marginBottom:5},landscape:{marginBottom:2}},appWording:{height:20,color:"#888888",fontSize:14},button:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:13,color:"#1aad19",borderWidth:1,borderColor:"#1aad19",borderRadius:3,marginLeft:10},dialog:{position:"absolute",top:234,left:0,width:300,height:138,borderRadius:10,backgroundColor:"rgba(255, 255, 255, 1)",hidden:!0},dialogTitle:{marginTop:32,marginBottom:32,width:300,height:24,lineHeight:24,textAlign:"center",color:"#000000",fontSize:17},dialogSplit:{width:300,height:1,backgroundColor:"rgba(0, 0, 0, 0.1)"},dialogButton:{width:300,justifyContent:"center",flexDirection:"row",alignItems:"center"},buttonSplit:{width:1,height:49.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},dialogClose:{marginTop:12,marginBottom:12,width:149.5,height:25,lineHeight:25,textAlign:"center",color:"#000000",fontSize:18},dialogCancel:{marginTop:12,marginBottom:12,width:150,height:25,lineHeight:25,textAlign:"center",color:"#1AAD19",fontSize:18},topBarFix:{position:"absolute",justifyContent:"space-between",flexDirection:"row",alignItems:"flex-start",left:10,top:16,"ios-portrait":{top:12},"ios-landscape":{top:10},"iphone x-portrait":{top:44},"iphone x-landscape":{top:10},hidden:!0},barLeftFix:{marginRight:10,paddingLeft:12.5,paddingRight:12.5,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,flexDirection:"row",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"},soundFix:{width:16,height:32},splitLineFix:{width:1,height:18.5,marginLeft:12,marginRight:12,backgroundColor:"rgba(255, 255, 255, 0.25)"},countDownFix:{width:33.5,height:32,lineHeight:32,color:"#ffffff",fontSize:14},closeFix:{width:56,height:32,lineHeight:32,color:"#ffffff",fontSize:14}},Wm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),qm=n(0),Vm=qm('\n  <view id="container">\n    <video id="video" controls="false" muted="true" autoplay="false" object-fit="contain" enable-progress-gesture="false" show-center-play-btn="false" auto-insert="false" scene="ad">\n      <view id="blank"></view>\n      <view id="card-container">\n        <view id="card" click-state="true">\n          <image id="app-icon" bubble-event="true"></image>\n          <view id="app-information" bubble-event="true">\n            <text id="app-name" bubble-event="true"></text>\n            <text id="app-wording" bubble-event="true"></text>\n          </view>\n          <text id="button" click-state="true"></text>\n        </view>\n      </view>\n    </video>\n    <view id="top-bar">\n      <view id="bar-left">\n        <view id="count">\n          <text id="count-down"></text>\n        </view>\n      </view>\n      <view id="bar-right">\n        <image id="sound"></image>\n        <view id="split-line"></view>\n        <text id="close" value="关闭广告"></text>\n      </view>\n    </view>\n    <view id="top-bar-fix">\n      <view id="bar-left-fix">\n        <image id="sound-fix"></image>\n        <view id="split-line-fix"></view>\n        <text id="count-down-fix"></text>\n        <text id="close-fix" value="关闭广告"></text>\n      </view>\n    </view>\n    <view id="dialog">\n      <text id="dialog-title" value="观看完整视频可获得游戏奖励"></text>\n      <view id="dialog-split"></view>\n      <view id="dialog-button">\n        <text id="dialog-close" value="关闭广告"></text>\n        <view id="button-split"></view>\n        <text id="dialog-cancel" value="继续观看"></text>\n      </view>\n    </view>\n  </view>\n'),zm=Vm.root,Gm="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJB6qPVtS6VgDJshJMngKVrCJPSJpXBdWxLBcXeldt1olAwpNclNHMEwQRpeUHJq9Mw/0?wx_fmt=png",Km="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJB6qPVtS6VgDPxmxtianoOmJEuu9cYH93jjkBLPiaLyYmyVkAHA3sDluMYcFJs72ibcXw/0?wx_fmt=png",Hm="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJAic1IGjzG9g458d7DpIe8URUq74t0dicbwKKc69rPBf8hiby1llOBTndbKUq2NTA9YaA/0?wx_fmt=png",Jm=Is(),Qm=Jm.platform,Ym="ios"===Qm,Xm="android"===Qm,$m=Ir.deviceOrientation,Zm=(new WeakMap,function(){var e=tm(this);return e.adProxy.fetch().then(function(t){e.data=t,e.isData=!0;var n=t.type,r=t.video,o=r.src,i=r.poster,a=r.duration,s=r.width,c=r.height,u=t.card,l=u.icon,f=u.name,d=u.wording,p=u.showTime,h=t.app,v=t.condition;Ym&&e.video.src==o&&e.video.seek(0),e.video.src=o,e.video.poster=i;var g=nh({outer:{width:e.container.style.width,height:e.container.style.height},inner:{width:s,height:c}}),y=g.inner;e.video.style.width=y.width,e.video.style.height=y.height,"portrait"===$m&&s/c>1&&(e.video.style.width=e.container.style.width,e.video.style.height=e.container.style.height),v.widget_gray_preload_new&&Xm&&(e.preloadVideoSuccess=!1,e.adProxy.preloadVideo([o]).catch(function(){})),e.countDown.value=Math.floor(a/1e3).toString()+"秒",3===e.countDown.value.length?e.countDown.style.width=33:e.countDown.style.width=22,e.countDownFix.value=Math.floor(a/1e3).toString()+"秒",3===e.countDownFix.value.length?e.countDownFix.style.width=33:e.countDownFix.style.width=26,e.cardShowTime=p,e.appIcon.src=l,e.appName.value=ah(f,20),e.appWording.value=d,e.appIcon.style.borderRadius=10,"download"!==n[1]&&("portrait"===$m?e.appIcon.style.borderRadius=27:"landscape"===$m&&(e.appIcon.style.borderRadius=22)),e.button.value="查看","download"===n[1]?e.button.value="下载":"follow"===n[1]&&(e.button.value=h.isFollowed?"查看":"关注"),e.adProxy.preloadLanding(),e.emitter.emit("load")})}),eb=function(e){var t=tm(this),n=t.card.getAbsolutePosition(),r=n.left,o=n.top,i=t.card.layoutBox,a=i.width,s=i.height,c=t.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-r,clickRelativeTop:e.absoluteY-o,pressInterval:e.pressInterval,left:r,top:o,width:a,height:s});oh(c,"激励视频","点击广告卡片"),rb.call(this,{stage:1002})},tb=function(e){var t=e.playType,n=e.conditionType,r=tm(this);r.adProxy.reportVideo({playType:t,conditionType:n,playDuration:r.currentTime,videoDuration:r.data.video.duration,muted:r.video.muted})},nb=function(e){var t=e.button,n=tm(this),r=5===t?+new Date:0;n.adProxy.reportBehaviorButton({button:t,playDuration:n.currentTime,preloadVideo:n.data.condition.widget_gray_preload_new?1:0,preloadVideoSuccess:n.preloadVideoSuccess?1:0,videoFirstPlay:n.videoFirstPlayTime,cardFirstShow:n.cardFirstShowTime,clickCard:r})},rb=function(e){var t=e.stage,n=tm(this),r={adtype:2,stage:t};n.adProxy.reportADFunnelModel(r)},ob=function(){var e=this,t=tm(this),n=Is(),r=n.screenHeight;return tb.call(this,{playType:t.isEnded?"complete":"partial",conditionType:"close"}),t.container.animate({top:r,duration:500}).then(function(){var n=t.isEnded;t.isFirstPlaySuccess=!1,t.isShowed=!1,t.isEnded=!1,t.isData=!1,t.emitter.emit("close",{isEnded:n}),t.adProxy.reset();var r=Zm.call(e);r.catch(function(e){}),t.adFetchResult=r,t.adProxy.setRightButtonHide(!1),t.container.style.hidden=!0,t.adCover.hide(),n?rb.call(e,{stage:1005}):rb.call(e,{stage:1006})})},ib=function(){var e=this,t=tm(this);t.isEnded?(ob.call(this),nb.call(this,{button:4})):(Cf({content:"观看完整视频可获得游戏奖励",confirmText:"继续观看",cancelText:"关闭广告",success:function(n){n.confirm?(t.video.play(),nb.call(e,{button:2})):!0===n.cancel?(ob.call(e),nb.call(e,{button:1})):!1===n.cancel&&(t.video.play(),nb.call(e,{button:3}))},fail:function(){},complete:function(){t.isPause=!1}}),t.video.pause(),t.isPause=!0)},ab=function(e){function t(e){var n=e.adUnitId;Jt(this,t);var r=Is(),o=r.screenWidth,i=r.screenHeight,a=Qt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=tm(a);s.emitter=new Gy,s.adUnitId=n,s.adProxy=new qy({adUnitId:n,adType:"incentive-video"}),s.adCover=new $y({adUnitId:n,adType:"incentive-video"}),s.isShowedExposureReported=!1,s.isViewableExposureReported=!1,s.isCardExposureReported=!1,s.isData=!1,s.isFirstPlay=!1,s.isFirstPlaySuccess=!1,s.isPlaying=!1,s.isEnded=!1,s.isPause=!1,s.currentTime=0,s.cardShowTime=0,s.videoFirstPlayTime=0,s.preloadVideoSuccess=!1,s.cardFirstShowTime=0,s.landingCount=0,s.lastLandingTime=0,s.lastJsapiName=0,s.lastJsapiStatus=0,s.lastJsapiCostTime=0,s.isLandingPage=!1,s.landingPageCostTime=0,s.hideTime=0,om.call(a,zm,Um),s.container.style.width=o,s.container.style.height=i,s.container.style.top=i,s.container.style.hidden=!0,s.topBar.style.width=o,s.sound.src=Km,s.soundFix.src=Km,s.appIcon.src=Hm,Dh.add(s.container);var c=Zm.call(a);c.catch(function(e){}),s.adFetchResult=c,s.close.on("click",function(){return ib.call(a)}),s.closeFix.on("click",function(){return ib.call(a)}),s.dialogClose.on("click",function(){return ob.call(a)}),s.dialogCancel.on("click",function(){s.dialog.style.hidden=!0,s.video.play()}),s.sound.on("click",function(){s.video.muted=!s.video.muted,s.sound.src=s.video.muted?Km:Gm}),s.soundFix.on("click",function(){s.video.muted=!s.video.muted,s.soundFix.src=s.video.muted?Km:Gm}),s.video.onTimeUpdate(function(e){var t=e.duration,n=e.position;s.isFirstPlay&&(s.adProxy.reportVideoLoadTime({beginTime:s.videoFirstPlayTime,endTime:(new Date).getTime()-parseInt(1e3*n),reportType:1}),s.isFirstPlay=!1,rb.call(a,{stage:1004})),s.isPlaying=!0,s.currentTime=1e3*n;var r=Math.floor(t-n);if(n>=1&&!s.isViewableExposureReported){var o=s.video.style,i=o.width,c=o.height;s.isViewableExposureReported=!0;var u=s.adProxy.reportExposure({exposureType:"viewable",left:0,top:0,width:i,height:c});oh(u,"激励视频","可视曝光")}if(r>0&&(s.countDown.value=r.toString()+"秒",s.countDownFix.value=r.toString()+"秒"),3===s.countDown.value.length?s.countDown.style.width=33:s.countDown.style.width=22,3===s.countDownFix.value.length?s.countDownFix.style.width=33:s.countDownFix.style.width=26,(1e3*n>=s.cardShowTime||1e3*n>0)&&s.card.style.hidden){if(s.card.style.hidden=!1,s.isCardExposureReported)return;s.card.nextLayout(function(){var e=s.card.getAbsolutePosition(),t=e.left,n=e.top,r=s.card.layoutBox,o=r.width,i=r.height;s.isCardExposureReported=!0;var a=s.adProxy.reportExposure({exposureType:"incentiveVideoCard",left:t,top:n,width:o,height:i});oh(a,"激励视频","卡片曝光"),s.cardFirstShowTime=(new Date).getTime()})}}),s.video.onEnded(function(){s.count.style.hidden=!0,s.countDownFix.style.hidden=!0,s.countDownFix.style.width=0,s.isPlaying=!1,s.isEnded=!0,s.isPause=!1;var e=s.data.video.duration,t=s.adProxy.reportVideo({playType:"complete",conditionType:"end",playDuration:s.currentTime,videoDuration:e,muted:s.video.muted});oh(t,"激励视频","播放完成")});var u=function(e){s.notReportExit=!0,s.landingCount++,s.landingCount>1&&s.adProxy.reportRepeatClick({slotId:0x3a92d206f1bf9,costType:s.adProxy.data&&s.adProxy.data.is_cpm?1:2,clkCnt:s.landingCount,lastClkPeriod:+new Date-s.lastLandingTime,retCode:s.lastJsapiStatus,costTime:s.lastJsapiCostTime,pageStayTime:s.landingPageCostTime,jsapiName:s.lastJsapiName}),s.lastLandingTime=+new Date,s.lastJsapiStatus=2,s.lastJsapiCostTime=0,s.isLandingPage=!1,s.landingPageCostTime=0;var t=s.adProxy.land(e);e||"follow"!==s.data.type[1]?t.then(function(e){e.errMsg&&(s.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"==s.lastJsapiName||"navigateToMiniProgram"==s.lastJsapiName||"openADCanvas"==s.lastJsapiName?s.isLandingPage=!0:s.lastJsapiStatus=0,s.lastJsapiCostTime=+new Date-s.lastLandingTime}).catch(function(e){s.lastJsapiStatus=1}):(t.then(function(e){/ok/.test(e.errMsg)&&(s.button.value="查看"),e.errMsg&&(s.lastJsapiName=e.errMsg.replace(":ok","")),s.lastJsapiStatus=0,s.lastJsapiCostTime=+new Date-s.lastLandingTime}).catch(function(e){s.lastJsapiStatus=1}),l.call(a,t)),setTimeout(function(){s.notReportExit=!1},1e3);var n=s.adProxy.reportVideo({playType:s.isPlaying?"partial":"complete",conditionType:"land",playDuration:s.currentTime,videoDuration:s.data.video.duration,muted:s.video.muted});oh(n,"激励视频","跳转落地页")},l=function(e){var t=tm(this),n=e.then(function(e){return/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):void 0}).catch(function(e){return t.adProxy.reportFollow({result:"fail"})});oh(n,"激励视频","关注")};return s.button.on("click",function(e){eb.call(a,e),"follow"==s.data.type[1]?"查看"===s.button.value?u({toOfficalAccountDetail:!0}):u():u({autoDownload:!0})}),s.card.on("click",function(e){eb.call(a,e),nb.call(a,{button:5}),"follow"==s.data.type[1]?u({toOfficalAccountDetail:!0}):u()}),Ip(function(){!s.isShowed||s.isEnded||s.isPause||setTimeout(function(){!s.isShowed||s.isEnded||s.isPause||s.video.play()},1e3),s.data&&"follow"==s.data.type[1]&&s.adProxy.checkFollow(s.data.app.uin).then(function(e){s.button.value=e?"查看":"关注"});var e=+new Date;setTimeout(function(){s.isLandingPage&&(s.lastJsapiStatus=0,s.isLandingPage=!1,s.landingPageCostTime=e-s.hideTime,s.adProxy.reportLandingTime({slotId:0x3a92d206f1bf9,costType:s.adProxy.data&&s.adProxy.data.is_cpm?1:2,openTime:s.hideTime,closeTime:e,stayTime:s.landingPageCostTime,jsapiName:s.lastJsapiName}))},10)}),Ap(function(){if(s.hideTime=+new Date,!s.notReportExit&&s.isShowed){var e=s.adProxy.reportVideo({playType:s.isPlaying?"partial":"complete",conditionType:"exit",playDuration:s.currentTime,videoDuration:s.data.video.duration,muted:s.video.muted});oh(e,"激励视频","退出小游戏")}}),q("onVideoResourceLoad",function(e){s.isShowed||s.video.src!=e.resource||(s.preloadVideoSuccess=!0,s.video.src=e.resource)}),a}return Yt(t,e),Wm(t,[{key:"load",value:function(){var e=tm(this);if(e.isShowed)return Promise.reject({errMsg:"can't invoke load() while video-ad is showed"});if(e.isData)return Promise.resolve();var t=Zm.call(this);return e.adFetchResult=t.catch(function(t){return-12001===t.errCode&&(t={errMsg:"RewardedVideoAd fail no permission"}),e.emitter.emit("_error",t),Promise.reject(t)}),e.adFetchResult}},{key:"show",value:function(){var e=tm(this);if(e.isShowed)return Promise.resolve();if(!e.isData)return Promise.reject({errMsg:"no advertisement data available, please invoke load()"});rb.call(this,{stage:1001});var t=(new Date).getTime();return e.adFetchResult.then(function(){return e.adProxy.reportVideoLoadTime({beginTime:t,endTime:(new Date).getTime(),reportType:2}),e.isShowed=!0,e.isShowedExposureReported=!1,e.isViewableExposureReported=!1,e.isCardExposureReported=!1,e.video.muted=!0,e.sound.src=Km,e.soundFix.src=Km,e.count.style.hidden=!1,e.countDownFix.style.hidden=!1,e.card.style.hidden=!0,e.container.style.hidden=!1,e.adCover.show(),e.container.nextLayout()}).then(function(){return rh(500)}).then(function(){return e.adProxy.setRightButtonHide(!0).then(function(t){e.topBar.style.hidden=!1,e.topBarFix.style.hidden=!0}).catch(function(t){e.topBar.style.hidden=!0,e.topBarFix.style.hidden=!1}),e.container.animate({top:0,duration:500})}).then(function(t){var n=e.video.style,r=n.width,o=n.height,i=e.adProxy.reportExposure({exposureType:"showed",left:0,top:0,width:r,height:o});return oh(i,"激励视频","原始曝光"),rh(500).then(function(){e.isFirstPlay=!0,e.videoFirstPlayTime=(new Date).getTime(),e.video.play()})}).then(function(t){e.isFirstPlaySuccess=!0;var n=e.adProxy.reportVideo({playType:"partial",conditionType:"start",playDuration:0,videoDuration:e.data.video.duration,muted:e.video.muted});oh(n,"激励视频","开始播放")})}},{key:"isReady",value:function(){return tm(this).isData}},{key:"onError",value:function(e){tm(this).emitter.on("_error",e)}},{key:"offError",value:function(e){tm(this).emitter.off("_error",e)}},{key:"onLoad",value:function(e){tm(this).emitter.on("load",e)}},{key:"offLoad",value:function(e){tm(this).emitter.off("load",e)}},{key:"onClose",value:function(e){tm(this).emitter.on("close",e)}},{key:"offClose",value:function(e){tm(this).emitter.off("close",e)}}]),t}(rm),sb=function(e){return new Fm(e)},cb=null,ub=function(e){return cb||(cb=new ab(e)),cb},lb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fb=new WeakMap,db=function(){function e(t){var n=this,r=t.type,o=void 0===r?"text":r,i=t.style,a=void 0===i?{}:i,s=t.text,c=void 0===s?"":s,u=t.image,l=void 0===u?"":u,f=t.onTapCallback,d=void 0===f?function(){return Promise.resolve()}:f;Xt(this,e);var p={};fb.set(this,p),p.emitter=new Gy,p.onTapCallback=d,a=Object.assign(eh(),a,{position:"absolute"}),this.style={},p.button="text"===o?new Sh({style:a,value:c,eventType:"click"}):new Bh({style:a,src:l,eventType:"click"}),Object.defineProperty(this,"text",{configurable:!0,enumerable:!0,get:function(){return c},set:function(e){c=e,p.button.value=e}}),Object.defineProperty(this,"image",{configurable:!0,enumerable:!0,get:function(){return l},set:function(e){l=e,p.button.src=e}}),Object.keys(a).forEach(function(e){"position"!==e&&Object.defineProperty(n.style,e,{configurable:!0,enumerable:!0,get:function(){return a[e]},set:function(t){a[e]=t,p.button.style[e]=t}})}),p.button.on("click",function(){p.onTapCallback().then(function(e){return p.emitter.emit("tap",e)}).catch(function(e){return p.emitter.emit("tap",e)})}),Dh.add(p.button)}return lb(e,[{key:"onTap",value:function(e){fb.get(this).emitter.on("tap",e)}},{key:"offTap",value:function(e){fb.get(this).emitter.off("tap",e)}},{key:"show",value:function(){fb.get(this).button.style.hidden=!1}},{key:"hide",value:function(){fb.get(this).button.style.hidden=!0}},{key:"destroy",value:function(){var e=fb.get(this);Dh.remove(e.button)}}]),e}(),pb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withCredentials,n=void 0===t||t,r=e.lang;W("operateWXData",{data:{api_name:"webapi_getuserinfo",from_component:!0,with_credentials:n,data:{lang:void 0===r?"en":r}},success:e.success,fail:e.fail},{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getUserInfo")},beforeSuccess:function(e){"android"===C()&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data);try{e.userInfo=JSON.parse(e.data.data),e.signature=e.data.signature,e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),delete e.data}catch(e){}}})},hb=ch(pb),vb=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.type,r=void 0===n?"text":n,o=e.style,i=e.image,a=e.text,s=void 0===a?"获取用户信息":a,c=e.withCredentials,u=e.lang;return $t(this,t),Zt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:r,style:o,image:i,text:s,onTapCallback:function(){return hb({withCredentials:c,lang:u})}}))}return en(t,e),t}(db),gb=(Ay={},on(Ay,"green","http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMHroMcjTH0DGy1sGwV95nfxnBialPaFEXZG5B1iarolFC6Uic4BRlTlsR0Q/0?wx_fmt=png"),on(Ay,"white","http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMH8hmRP9YkP3WHQ9gKcXR4oKD0rwZxFojibQDMfjgwa3foAtjZH7Ce9Xg/0?wx_fmt=png"),on(Ay,"light","http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMHlGKmb23Js82NJ4dH3b3BoUNe74Tvk2Q4ZVfzD8ibwJicgs1czbYd6Qtw/0?wx_fmt=png"),on(Ay,"dark","http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMH6RhR996JZgib3RG3AtyO1OgnR6FibX7DPsBKQAJd5miaYcwyslLR7F6KQ/0?wx_fmt=png"),Ay),yb="";try{Ir.onReady(function(){var e=Ir.accountInfo;yb="pages/club_index/club_index?appid="+e.appId+"&ssid=1037"})}catch(e){}var mb=function(e){var t=e.success,n=e.fail;W("navigateToMiniProgram",{appId:"wxff3bb5c177303374",path:O(yb).trim(),scene:37,sourcetype:3,success:t,fail:n})},bb=ch(mb),_b=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.style,r=e.icon,o=void 0===r?"green":r,i=e.type,a=void 0===i?"image":i,s=e.image,c=e.text,u=void 0===c?"打开游戏圈":c;tn(this,t);var l=nn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:a,style:n,image:s||gb[o],text:u,onTapCallback:bb}));return"image"===a&&Object.defineProperty(l,"icon",{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e,_private.button.src=gb[o]}}),l}return rn(t,e),t}(db),wb=ch(Bc),Sb=function(e){function t(e){var n=e.type,r=void 0===n?"text":n,o=e.style,i=e.image,a=e.text,s=void 0===a?"打开设置":a;return an(this,t),sn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:r,style:o,image:i,text:s,onTapCallback:function(){return wb().then(function(){Nc({name:"openSetting",scene:1})})}}))}return cn(t,e),t}(db),kb="";try{Ir.onReady(function(){kb=Ir.accountInfo.appId})}catch(e){}var Cb=function(e){var t=e.success,n=e.fail;W("private_openUrl",{url:"https://mp.weixin.qq.com/mp/wapreportwxadevlog?action=get_page&appid="+kb+"#wechat_redirect",isNativeStyle:!0,success:t,fail:n})},Tb=ch(Cb),xb=function(e){function t(e){var n=e.type,r=void 0===n?"text":n,o=e.style,i=e.image,a=e.text,s=void 0===a?"打开意见反馈页面":a;return un(this,t),ln(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:r,style:o,image:i,text:s,onTapCallback:function(){return Tb()}}))}return fn(t,e),t}(db),Ib=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new vb(e)},Eb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _b(e)},Pb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Sb(e)},Ob=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new xb(e)};setTimeout=Tr.setTimeout,clearTimeout=Tr.clearTimeout,setInterval=Tr.setInterval,clearInterval=Tr.clearInterval,requestAnimationFrame=Tr.requestAnimationFrame,cancelAnimationFrame=Tr.cancelAnimationFrame,sharedCanvas=Dd(),GameGlobal=function(){return this}(),GameGlobal.__isAdapterInjected=!1;var Ab=Ir.accountInfo?Ir.accountInfo:{};Ir.onReady(function(){Ab=Ir.accountInfo});var Mb=!1;na.once("beforeTouchStart",function(){Mb=!0});var Db=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Mb?Cf({content:"即将进入“"+Ab.nickname+"”客服会话",confirmText:"确认",cancelText:"取消",success:function(t){t.confirm?W("enterContact",e,{}):K("openCustomerServiceConversation",e,!1,"cancel")},fail:function(){K("openCustomerServiceConversation",e,!1,"showModal fail")}}):K("openCustomerServiceConversation",e,!1,"require user interaction")},Rb=(Wc(!1,"operateWXData"),function(e){W("openUrl",{url:e.url,success:e.success,fail:e.fail,complete:e.complete})}),Nb=function(e){W("private_openUrl",{url:e.url,isNativeStyle:!0,success:e.success,fail:e.fail,complete:e.complete})},Bb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,r=e.complete;Nb({url:"http://game.qq.com/contract.shtml",success:t,fail:n,complete:r})},Lb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,r=e.complete;Nb({url:"https://privacy.qq.com",success:t,fail:n,complete:r})},jb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,r=e.complete;Nb({url:"http://huanle.qq.com/cp/a20170209notice/",success:t,fail:n,complete:r})},Fb=(new kr,function(e,t){var n="undefined"!=typeof __appServiceEngine__&&void 0!==__appServiceEngine__.getCurrentPagesByDomain&&__appServiceEngine__.getCurrentPagesByDomain(""),r=n&&n.pop&&n.pop(),o={business:"mmbizwxaanalytics",eventID:e,data:t||{},page:r&&r.__route__,uid:Date.now().toString(16)+Math.random().toString(16).substr(2),type:1,version:wx&&wx.version&&wx.version.version||0};"devtools"!==C()&&(console.info("[自定义分析] 上报成功"),console.info(o)),W("reportRealtimeAction",{actionData:JSON.stringify(o)})}),Ub=function(e,t){return e?(void 0===t&&(t=1),"number"!=typeof t?void console.error("wx.reportMonitor: 'value' argument must be a Number."):void W("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxamonitor",name:e,value:t,timeStamp:Date.now()})})):void console.error("wx.reportMonitor: require 'name' argument.")},Wb=new kr;q("onLoadSubPackageTaskStateChange",function(e){Wb.emit(e.state,e.taskId,e)});var qb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vb={},zb=new WeakMap,Gb=new WeakMap,Kb=new WeakMap,Hb=(new kr,[]),Jb=void 0,Qb=function(e){return Vb[e]},Yb=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t},Xb=function(e){"string"!=typeof e&&console.error("SubContext onSubPackageReady error: moduleName is empty"),e.endsWith(".js")||(e.endsWith("/")||(e+="/"),e+="game.js"),"devtools"!==C()&&__subContextEngine__.getGameContext().evaluateScriptFile(e)};Wb.on("success",function(e,t){Jb=void 0;var n=Qb(e);if(delete Vb[e],n){var r=t.moduleName;Xb(r);var o=Gb.get(n),i=Yb(t);i.errMsg="loadSubpackage:ok","function"==typeof o.success&&o.success(i),"function"==typeof o.complete&&o.complete(i)}$b()}),Wb.on("fail",function(e,t){Jb=void 0;var n=Qb(e);if(delete Vb[e],n){var r=Gb.get(n),o=Yb(t);o.errMsg="loadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(o),"function"==typeof r.complete&&r.complete(o)}$b()}),Wb.on("progressUpdate",function(e,t){var n=Qb(e);if(n){var r=Kb.get(n),o=Yb(t);"function"==typeof r&&r(o)}});var $b=function(){var e=Hb.shift();e&&setTimeout(function(){Zb.call(e)},0)},Zb=function(){var e=this,t=Gb.get(this),n=void 0;if(Jb=this,W("createLoadSubPackageTask",{moduleName:t.name,success:function(t){zb.set(e,t.loadTaskId),Vb[t.loadTaskId]=e},fail:function(e){Jb=void 0,e.errMsg=e.errMsg.replace("createLoadSubPackageTask","loadSubpackage"),n=e.errMsg,"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e),$b()}}),n)throw new Error(n.replace("createLoadSubPackageTask:fail ",""))},e_=function(){function e(t){if(dn(this,e),Gb.set(this,t),["success","fail","complete"].forEach(function(e){"function"==typeof t[e]&&(t[e]=Reporter.surroundThirdByTryCatch(t[e],"at api loadSubpackage "+e+" callback function"))}),Jb)return void Hb.push(this);Zb.call(this)}return qb(e,[{key:"onProgressUpdate",value:function(e){Kb.set(this,function(t){void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at LoadTask.onProgressUpdate callback function")(t)})}}]),e}(),t_=e_,n_=function(e){if(z("loadSubPackage",e,{name:""})){var t=Ir.subPackages||Ir.subpackages;if(!t)return void G("loadSubpackage",e,"Your subpackages configuration is invalid.");t.forEach(function(t){e.name!==t.alias&&e.name!==t.name||(e.name=t.root)}),e.name.startsWith("/")||(e.name="/"+e.name),e.name.endsWith(".js")||e.name.endsWith("/")||(e.name=e.name+"/");try{return new t_(e)}catch(t){G("loadSubpackage",e,t.message)}}},r_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o_=0,i_=-1,a_=void 0;Ir.onReady(function(){setTimeout(function(){var e=c_=Yd()||{};d_({scene:e.scene||-1}),Tp(d_),Pp(p_)},0)});var s_=void 0,c_={},u_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign(t,e,c_);var n=e.query,r=[];if(n&&"object"===(void 0===n?"undefined":r_(n)))for(var o in n)r.push(encodeURIComponent(o)+"="+encodeURIComponent(n[o]));var i=e.eventTime,a=e.clickTimestamp;a=a<=9999999999?1e3*a:a;var s=i-a,c=Ir.appType,u=e.sessionid||e.sessionId,l=s_||s_===u?1:0;s_=u;var f=[e.eventId,e.scene,e.scene_note||e.sceneNote||"",u||"",e.usedstate||e.usedState,"",e.networktype||"",s,e.stayTime||0,encodeURIComponent(e.referpagepath||""),e.targetAction||0,e.targetPagePath||"",e.clickTimestamp,"2.2.4",e.prescene,e.prescene_note||e.presceneNote||"",l,r.join("&"),c?1e3+c:0,0].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Display",value:f,force:!0}),Reporter.submit()},l_=function(e,t){wx.getNetworkType({success:function(n){var r=n.networkType;"none"===r&&(r="offline"),t.networktype=r,u_(e,t)},fail:function(){u_(e,t)}})},f_=function(e){var t=parseInt((e.eventTime||0)/1e3);return[e.eventId,e.scene,t,e.stayTime||0,e.sessionId].map(encodeURIComponent).join(",")},d_=f(function(e){a_=B(),i_=e.scene,o_=Date.now();var t=e.scene,n=f_({eventId:1,scene:t,eventTime:o_,sessionId:a_});Reporter.reportKeyValue({key:"GameReportKV",value:n,force:!0}),l_(e,{eventId:1,eventTime:o_})},"at private.reportEnterForeground","gameSDKScriptError"),p_=f(function(e){var t=Date.now(),n=t-o_,r=i_,o=f_({eventId:2,scene:r,eventTime:t,stayTime:n,sessionId:a_});Reporter.reportKeyValue({key:"GameReportKV",value:o,force:!0}),l_(e,{eventId:2,eventTime:t,stayTime:n})},"at private.reportEnterBackground","gameSDKScriptError"),h_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("setNavigationBarTitle",e,{title:""})&&W("setNavigationBarTitle",e)},v_=function(e){W("showNavigationBarLoading",e)},g_=function(e){W("hideNavigationBarLoading",e)},y_="#000000";Ir.onReady(function(){Ys(function(){void 0!==Ir&&Ir.global&&Ir.global.window&&(y_=Ir.global.window.navigationBarBackgroundColor||y_);var e=Jr.lastRoute+".html";void 0!==Ir&&Ir.page&&Ir.page[e]&&Ir.page[e].window&&(y_=Ir.page[e].window.navigationBarBackgroundColor||y_)})});var m_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("setNavigationBarColor",e,{frontColor:"",backgroundColor:""})){
if(-1===["#ffffff","#000000"].indexOf(e.frontColor))return void G("setNavigationBarColor",e,'invalid frontColor "'+e.frontColor+'"');"#ffffff"===e.frontColor?W("setStatusBarStyle",{color:"white"}):"#000000"===e.frontColor&&W("setStatusBarStyle",{color:"black"});var t=Object.assign({},e);y_=e.backgroundColor,W("setNavigationBarColor",t)}},b_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);t.backgroundColor=y_,W("setNavigationBarColor",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("setNavigationBarColor","setNavigationBarAlpha")}})},__=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("setNavigationBarRightButton",e,{hide:!0})&&W("setNavigationBarRightButton",e,{})},w_=function(e){q("onTapNavigationBarRightButton",Reporter.surroundThirdByTryCatch(e,"at onTapNavigationBarRightButton callback function"))},S_=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];z("redirectTo",e,{url:""})&&(e.url=k(Jr.lastRoute,e.url),e.url=P(e.url),H("redirectTo",e.url,e)&&(Jr.navigatorLock=!0,W("redirectTo",e,{afterFail:function(){Jr.navigatorLock=!1}})))},k_=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("active"!==Jr.runningStatus)return void G("reLaunch",e,"can not invoke reLaunch in background");z("reLaunch",e,{url:""})&&(e.url=k(Jr.lastRoute,e.url),e.url=P(e.url),H("reLaunch",e.url,e)&&(Jr.navigatorLock=!0,W("reLaunch",e,{afterFail:function(){Jr.navigatorLock=!1}})))},C_=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];z("navigateTo",e,{url:""})&&(e.url=k(Jr.lastRoute,e.url),e.url=P(e.url),H("navigateTo",e.url,e)&&(Jr.navigatorLock=!0,W("navigateTo",e,{afterFail:function(){Jr.navigatorLock=!1}})))},T_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z("switchTab",e,{url:""})&&(/\?.*$/.test(e.url)&&(console.warn("wx.switchTab: url 不支持 queryString"),e.url=e.url.replace(/\?.*$/,"")),e.url=k(Jr.lastRoute,e.url),e.url=P(e.url),H("switchTab",e.url,e)&&(Jr.navigatorLock=!0,W("switchTab",e,{afterFail:function(){Jr.navigatorLock=!1}})))},x_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("number"!=typeof e.delta?e.delta=1:(e.delta=parseInt(e.delta),e.delta<1&&(e.delta=1)),"function"==typeof __appServiceEngine__.getCurrentPagesByDomain){if(__appServiceEngine__.getCurrentPagesByDomain("").length<=1)return}W("navigateBack",e)},I_=new kr;q("onPageReload",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.webviewId=t,I_.emit("onPageReload",e)});var E_=function(e){I_.on("onPageReload",function(t){t.path&&(t.path=A(t.path)),"function"==typeof e&&e(t)})},P_=function(e){I_.emit("onBeforeUnloadPage_"+e,e),I_.removeAllListeners("onBeforeShareAppMessage_"+e)},O_=function(e,t){I_.once("onBeforeUnloadPage_"+e,function(e){"function"==typeof t&&t(e)})},A_=function(e){I_.emit("onBeforeShareAppMessage_"+e,e)},M_=E_,D_=P_,R_=A_;"devtools"===C()&&U("SPECIAL_PAGE_EVENT",function(e){var t=e.data,n=e.eventName,r=e.ext,o=e.nodeId,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t&&"input"==t.type&&"function"==typeof Jr.webviewEventCallback){var a=Jr.webviewEventCallback({data:t,eventName:n,webviewId:i,nodeId:o}),s=t.detail.value;if(r&&r.setKeyboardValue)if(void 0===a);else if("Object"===_(a)){var c={};s!=a.value&&(c.value=a.value+""),isNaN(parseInt(a.cursor))||(c.cursor=parseInt(a.cursor)),F("setKeyboardValue",c,[i])}else s!=a&&F("setKeyboardValue",{value:a+"",cursor:-1},[i])}});var N_=function(e,t){Jr.webviewEventCallback=e,U("PAGE_EVENT",function(t){var n=t.data,r=t.eventName,o=t.nodeId,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e({data:n,eventName:r,webviewId:i,nodeId:o})})},B_=function(e){["onCanvasTouchStart","onCanvasTouchMove","onCanvasTouchEnd"].forEach(function(t){q(t,function(n,r){e({data:n,eventName:t,webviewId:r})})})},L_=function(e){var t=__appServiceEngine__.getCurrentPagesByDomain(""),n=t[t.length-1].__wxWebviewId__;e.hasOwnProperty("page")&&e.page.hasOwnProperty("__wxWebviewId__")&&(n=e.page.__wxWebviewId__),F("pageScrollTo",e,[n])},j_=function(){W("startPullDownRefresh",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{})},F_=function(e){W("stopPullDownRefresh",e)},U_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W_=0,q_={},V_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};q_[W_]={success:e.success,fail:e.fail,complete:e.complete},F("setPageStyle",{callbackId:W_,style:e.style},[Jr.currentWebviewId]),W_+=1};U("callbackSetPageStyle",function(e){var t=e.res,n=e.callbackId,r=t.errMsg,o=0===r.indexOf("setPageStyle:ok"),i=0===r.indexOf("setPageStyle:fail"),a=q_[n];delete q_[n],"object"===(void 0===a?"undefined":U_(a))&&(o?"function"==typeof a.success&&a.success(t):i&&"function"==typeof a.fail&&a.fail(t),"function"==typeof a.complete&&a.complete(t))});var z_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),G_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hn(this,e),this.actions=[],this.currentTransform=[],this.currentStepAnimates=[],this.option={transition:{duration:void 0!==t.duration?t.duration:400,timingFunction:void 0!==t.timingFunction?t.timingFunction:"linear",delay:void 0!==t.delay?t.delay:0},transformOrigin:t.transformOrigin||"50% 50% 0"}}return z_(e,[{key:"export",value:function(){var e=this.actions;return this.actions=[],{actions:e}}},{key:"step",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.currentStepAnimates.forEach(function(t){"style"!==t.type?e.currentTransform[t.type]=t:e.currentTransform[t.type+"."+t.args[0]]=t}),this.actions.push({animates:Object.keys(this.currentTransform).reduce(function(t,n){return[].concat(pn(t),[e.currentTransform[n]])},[]),option:{transformOrigin:void 0!==t.transformOrigin?t.transformOrigin:this.option.transformOrigin,transition:{duration:void 0!==t.duration?t.duration:this.option.transition.duration,timingFunction:void 0!==t.timingFunction?t.timingFunction:this.option.transition.timingFunction,delay:void 0!==t.delay?t.delay:this.option.transition.delay}}}),this.currentStepAnimates=[],this}},{key:"matrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return this.currentStepAnimates.push({type:"matrix",args:[e,t,n,r,o,i]}),this}},{key:"matrix3d",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,d=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,h=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,v=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;return this.currentStepAnimates.push({type:"matrix3d",args:[e,t,n,r,o,i,a,s,c,u,l,f,d,p,h,v]}),this.stepping=!1,this}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotate",args:[e]}),this}},{key:"rotate3d",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.currentStepAnimates.push({type:"rotate3d",args:[e,t,n,r]}),this.stepping=!1,this}},{key:"rotateX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotateX",args:[e]}),this.stepping=!1,this}},{key:"rotateY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotateY",args:[e]}),this.stepping=!1,this}},{key:"rotateZ",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotateZ",args:[e]}),this.stepping=!1,this}},{key:"scale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];return t=void 0!==t?t:e,this.currentStepAnimates.push({type:"scale",args:[e,t]}),this}},{key:"scale3d",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.currentStepAnimates.push({type:"scale3d",args:[e,t,n]}),this}},{key:"scaleX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.currentStepAnimates.push({type:"scaleX",args:[e]}),this}},{key:"scaleY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.currentStepAnimates.push({type:"scaleY",args:[e]}),this}},{key:"scaleZ",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.currentStepAnimates.push({type:"scaleZ",args:[e]}),this}},{key:"skew",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.currentStepAnimates.push({type:"skew",args:[e,t]}),this}},{key:"skewX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"skewX",args:[e]}),this}},{key:"skewY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"skewY",args:[e]}),this}},{key:"translate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.currentStepAnimates.push({type:"translate",args:[e,t]}),this}},{key:"translate3d",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.currentStepAnimates.push({type:"translate3d",args:[e,t,n]}),this}},{key:"translateX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"translateX",args:[e]}),this}},{key:"translateY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"translateY",args:[e]}),this}},{key:"translateZ",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"translateZ",args:[e]}),this}},{key:"opacity",value:function(e){return this.currentStepAnimates.push({type:"style",args:["opacity",e]}),this}},{key:"backgroundColor",value:function(e){return this.currentStepAnimates.push({type:"style",args:["background-color",e]}),this}},{key:"width",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["width",e]}),this}},{key:"height",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["height",e]}),this}},{key:"left",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["left",e]}),this}},{key:"right",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["right",e]}),this}},{key:"top",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["top",e]}),this}},{key:"bottom",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["bottom",e]}),this}}]),e}(),K_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(z("createAnimation",e,{}))return new G_(e)},H_=new kr,J_={},Q_={emitter:H_,pluginIDs:{},pluginVersions:{},pluginInfos:J_},Y_=0,X_=function(e){Date.now()>Y_&&(Cf({title:"",content:e,confirmText:"确定",showCancel:!1},50),Y_=Date.now()+6e4)},$_=function(e,t,n){if(!Q_.pluginInfos)return null;var r=Q_.pluginInfos[e];if(!r)return null;var o=r.runningFlag,i=r.banning||{};return o||i[t]?{all:o,detail:i[t],hint:i.hint||n||"由于小程序违规，该服务暂时无法使用"}:null};Q_.emitter.on("pluginInfoFetchDone",function(){if("undefined"!=typeof __virtualDOM__&&__virtualDOM__.initBannedMap){var e={},t=Q_.pluginInfos;for(var n in t)e[n]=$_(n,"components");__virtualDOM__.initBannedMap(e)}});var Z_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ew=new WeakMap,tw=function(e,t){var n=$_(e,"apis");return!!n&&(!(!n.all&&n.detail.indexOf(t)<0)&&(X_(n.hint),!0))},nw=function(e,t){var n=this;for(var r in e)!function(r){var o=e[r];if("function"==typeof o){var i=n;n[r]=function(e){if(!J(r,t)||tw(t,r)){if("Sync"===r.slice(-4))throw new Ur(r+":fail rejected due to no permission currently in plugin");return void(e&&e.fail&&setTimeout(function(){G(r,e,"rejected due to no permission currently in plugin")},0))}return o.apply(i,arguments)}}else n[r]=e[r]}(r)},rw=function(e){for(var t in Ir.plugins){var n=Ir.plugins[t];n.provider===e&&ew.set(this,n.version)}},ow=(function(){function e(t,n,r){vn(this,e),this.__puid__=B(),Q_.pluginIDs[this.__puid__]=n,Q_.pluginVersions[this.__puid__]=r,nw.call(this,t,n),rw.call(this,n)}Z_(e,[{key:"getPluginVersion",value:function(){return ew.get(this)}}])}(),{request:qo,uploadFile:yi,downloadFile:ii,connectSocket:Di().connectSocket}),iw={request:jo,uploadFile:pi,downloadFile:ni,connectSocket:Ii},aw=n(1),sw=function(e){return Q_.pluginIDs[e.__puid__]},cw=function(e){return Q_.pluginVersions[e.__puid__]},uw=function(e){var t=sw(e);if(void 0!==t)return Q_.pluginInfos[t]},lw=function(e,t){if(void 0===t||void 0===e)return!1;for(var n=aw.parse(e||""),r=0;r<t.length;r++){var o=t[r]||"",i=aw.parse(o);if(i.protocol===n.protocol&&i.hostname===n.hostname&&i.port===n.port)return!0}return!1},fw=[],dw=[],pw=new WeakMap,hw=new WeakMap,vw=new WeakMap,gw=function e(t,n,r){gn(this,e),pw.set(this,t),hw.set(this,n),vw.set(this,r),yw.call(this),this.__pendingTask__=!0},yw=function(){var e=this;Object.getOwnPropertyNames(this.__proto__).forEach(function(t){"function"==typeof e.__proto__[t]&&"constructor"!==t&&(e[t]=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];dw.push({args:r,method:t,item:e})})})},mw=function(e){var t=this;if(null!=e){Object.getOwnPropertyNames(this.__proto__).forEach(function(n){"function"==typeof t.__proto__[n]&&"constructor"!==n&&(t[n]=function(){return e[n].apply(e,arguments)})})}},bw=function(){var e=pw.get(this),t=hw.get(this),n=vw.get(this),r=void 0;if(void 0!==uw(e))try{r=e[t].call(e,n)}catch(e){}null!=r&&mw.call(this,r),pw.delete(this),hw.delete(this),vw.delete(this)},_w=function(e,t,n){gw.prototype=iw[t].prototype;var r=new gw(e,t,n);return fw.push(r),r},ww=function(){fw.forEach(function(e){bw.call(e)}),dw.forEach(function(e){e.item[e.method].apply(e.item,e.args)}),fw.length=0,dw.length=0},Sw=n(1),kw={},Cw=!1,Tw=function(e,t){var n=$_(e,"domains");if(!n)return!1;if(!n.all){for(var r=n.detail,o=Sw.parse(t||""),i=!1,a=0;a<r.length;a++){var s=Sw.parse(r[a]||"");if(o.protocol===s.protocol&&o.hostname===s.hostname&&o.port===s.port){i=!0;break}}if(!i)return!1}return X_(n.hint),!0},xw=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=uw(this);if(!Cw||!n)return _w(this,e,t);if(!lw(t.url,n.domains[e])){var r='url "'+t.url+"\" not in plugin's domain list.";return void G(e,t,r)}if(Tw(sw(this),t.url)){var o='url "'+t.url+'" is temporarily rejected.';return void G(e,t,o)}return Iw(n,t),ow[e](t)}},Iw=function(e,t){var n=t.header||{},r=e.hostSign||{};n["X-WECHAT-HOSTSIGN"]=JSON.stringify(r),t.header=n};Object.keys(ow).forEach(function(e){kw[e]=xw(e)}),Q_.emitter.on("pluginInfoFetchDone",function(){Cw=!0,ww()});var Ew=kw,Pw={};for(var Ow in Ua)Ow.startsWith("plugin_")&&function(e,t){e=e.replace("plugin_","");var n=e.endsWith("Sync");Pw[e]=function(e){var r=sw(this);if(n){e&&(e=r+"/"+e);for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return t.apply(void 0,[e].concat(i))}return e.key&&(e.key=r+"/"+e.key),t(e)}}(Ow,Ua[Ow]);var Aw=Pw;q("onKeyboardValueChange",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.value;if(F("setKeyboardValue",{value:n,cursor:e.cursor,inputId:e.inputId},[t]),e.data&&"function"==typeof Jr.webviewEventCallback){var r=JSON.parse(e.data);if(r.bindinput){var o=void 0;try{o=Jr.webviewEventCallback({data:{type:"input",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{value:e.value,cursor:e.cursor,keyCode:e.keyCode}},eventName:r.bindinput,webviewId:t,nodeId:r.nodeId})}catch(e){throw new Ur("bind key input error")}if(r.setKeyboardValue)if(void 0===o||null===o||!1===o);else if("Object"===_(o)){var i={inputId:e.inputId};n!=o.value&&(i.value=o.value+""),isNaN(parseInt(o.cursor))||(i.cursor=parseInt(o.cursor),void 0===i.value&&(i.value=n),i.cursor>i.value.length&&(i.cursor=-1)),W("setKeyboardValue",i)}else n!=o&&W("setKeyboardValue",{value:o+"",cursor:-1,inputId:e.inputId})}}});var Mw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Dw={},Rw={},Nw=new a,Bw={},Lw=0;U("mapInsert",function(e,t){var n=e.domId,r=e.mapId,o=e.pluginId,i=e.bindregionchange,a=e.bindtap,s=e.showLocation,c=e.target,u=e.nodeId,l=t+"_"+o+"_"+n+"_";u&&u!==__virtualDOM__.getRootNodeId(t)&&(l+=u),Dw[l]=r,Rw[t+"_"+r]={bindregionchange:i,bindtap:a,showLocation:s,target:c,nodeId:u},Nw.emit("mapInsert"),mn(t)}),U("mapRemove",function(e,t){var n=e.domId,r=e.mapId,o=e.pluginId,i=e.nodeId,a=t+"_"+o+"_"+n+"_";i&&i!==__virtualDOM__.getRootNodeId(t)&&(a+=i),delete Dw[a],delete Rw[t+"_"+r]});var jw=function(){function e(t,n,r,o){var i=this;if(yn(this,e),"string"!=typeof t)throw new Wr("Parameter 1 should be a string");this.domId=t,this.pluginId=o,this.webviewId=n,this.nodeId=r,this._lastMarkerPos={},this._lastMarkerDeg={},this._translating={},this._delayTranslate={},this._isGetMarkerPos={},U("doMapActionCallback",function(e,t){var n=e.callbackId;n&&"function"==typeof i[n]&&(i[n](e),delete i[n])})}return Mw(e,[{key:"_invoke",value:function(e,t){var n=C(),r=["includeMapPoints","getMapMarker"],o=Rw[this.webviewId+"_"+t.mapId];if("moveToMapLocation"===e&&o&&!o.showLocation)return void console.warn("only show-location set to true can invoke moveToLocation");if("ios"!==n&&"android"!==n||-1!==r.indexOf(e)){t.method=e;var i="callback"+this.webviewId+"_"+t.mapId+"_"+Lw++;this[i]=function(e){delete e.callbackId,delete e.mapId,delete e.method,e.errMsg&&(e.errMsg.indexOf(":ok")>-1?"function"==typeof t.success&&t.success(e):e.errMsg.indexOf(":fail")>-1&&"function"==typeof t.fail&&t.fail(e)),"function"==typeof t.complete&&t.complete(e)},t.callbackId=i,F("doMapAction"+t.mapId,t,[this.webviewId])}else W(e,t)}},{key:"_invokeMethod",value:function(e,t){var n=this,r=this.webviewId+"_"+this.pluginId+"_"+this.domId+"_"+this.nodeId;"number"==typeof Dw[r]||Dw[r]?(t.mapId=Dw[r],this._invoke(e,t)):Nw.on("mapInsert",function(){t.mapId=Dw[r],n._invoke(e,t)})}},{key:"getCenterLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("getMapCenterLocation",e)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("getMapScale",e)}},{key:"getRegion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("getMapRegion",e)}},{key:"moveToLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("moveToMapLocation",e)}},{key:"translateMarker",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.markerId;if(void 0===n)return void console.warn("MapContext.translateMarker: require markerId");if(!t.destination)return void console.warn("MapContext.translateMarker: require destination");if(this._translating[n])return void(this._delayTranslate[n]?this._delayTranslate[n].push(t):this._delayTranslate[n]=[t]);var r={markerId:n,keyFrames:[{longitude:t.destination.longitude,latitude:t.destination.latitude,duration:t.duration||1e3}],success:function(n){"function"==typeof t.success&&t.success.call(e,n),"function"==typeof t.animationEnd&&t.animationEnd.call(e)},fail:function(r){e._delayTranslate[n]=[],"function"==typeof t.fail&&t.fail.call(e,r)},complete:function(){e._translating[n]=!1;var t=e._delayTranslate[n];t&&t.length&&e.translateMarker(t.shift())}},o=this._lastMarkerPos[n],i=t.destination;if(t.autoRotate||"number"!=typeof t.rotate){var a=void 0,s=void 0;if(o){var c=i.latitude-o.latitude,u=i.longitude-o.longitude,l=c/u||0;a=Math.abs((u<0?180:0)-Math.abs(180*Math.atan(l)/Math.PI))*(c>0?-1:1)}else if(!this._isGetMarkerPos[n])return this._translating[n]=!0,this._invokeMethod("getMapMarker",{markerId:n,success:function(t){e._lastMarkerPos[n]=t.pos},complete:function(){e._isGetMarkerPos[n]=!0,e._translating[n]=!1;var t=e._delayTranslate[n];t&&t.length&&e.translateMarker(t.shift())}}),void(this._delayTranslate[n]?this._delayTranslate[n].push(t):this._delayTranslate[n]=[t]);"number"==typeof this._lastMarkerDeg[n]&&(s=a-this._lastMarkerDeg[n],Math.abs(s)>180&&(s=s>0?s-360:s+360),Math.abs(s)>3&&t.autoRotate&&r.keyFrames.unshift({rotate:s,duration:Math.abs(s)<10?100:500})),(Math.abs(s)>3&&t.autoRotate||void 0===this._lastMarkerDeg[n])&&(this._lastMarkerDeg[n]=a)}else{var f=t.rotate-(this._lastMarkerDeg[n]||0);Math.abs(f)>3&&(Math.abs(f)>180&&(f=f>0?f-360:f+360),r.keyFrames.unshift({rotate:f,duration:Math.abs(f)<10?100:500}),this._lastMarkerDeg[n]=t.rotate)}o&&o.latitude===i.latitude&&o.longitude===i.longitude&&(r.keyFrames.pop(),t.autoRotate&&(r.keyFrames=[])),r.keyFrames.length>0?(this._translating[n]=!0,this._invokeMethod("translateMapMarker",r)):setTimeout(function(){r.success(),r.complete()}),this._lastMarkerPos[n]=t.destination}},{key:"includePoints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.points&&e.points instanceof Array){e.points.forEach(function(e){e.latitude=Number(e.latitude),e.longitude=Number(e.longitude)});var t=e.padding;e.padding=[0,0,0,0],t&&(e.padding[0]=Number(t[0])||0,e.padding[1]=Number(t[1])||0,e.padding[2]=Number(t[2])||0,e.padding[3]=Number(t[3])||0),this._invokeMethod("includeMapPoints",e)}}}]),e}(),Fw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new jw(e,t,n,r)};q("onMapMarkerClick",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.data&&"function"==typeof Jr.webviewEventCallback){var n=JSON.parse(e.data);n.bindmarkertap&&Jr.webviewEventCallback({data:{type:"markertap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId},eventName:n.bindmarkertap,webviewId:t,nodeId:n.nodeId})}}),q("onMapCalloutClick",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.data&&"function"==typeof Jr.webviewEventCallback){var n=JSON.parse(e.data);n.bindcallouttap&&Jr.webviewEventCallback({data:{type:"callouttap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId},eventName:n.bindcallouttap,webviewId:t,nodeId:n.nodeId})}}),q("onMapControlClick",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.data&&"function"==typeof Jr.webviewEventCallback){var n=JSON.parse(e.data);n.bindcontroltap&&Jr.webviewEventCallback({data:{type:"controltap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{controlId:n.controlId},controlId:n.controlId},eventName:n.bindcontroltap,webviewId:t,nodeId:n.nodeId})}}),q("onMapRegionChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Rw[t+"_"+e.mapId];n&&n.bindregionchange&&"function"==typeof Jr.webviewEventCallback&&Jr.webviewEventCallback({data:{target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{type:e.type},type:e.type},eventName:n.bindregionchange,webviewId:t,nodeId:n.nodeId})}),q("onMapClick",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Rw[t+"_"+e.mapId];n&&n.bindtap&&"function"==typeof Jr.webviewEventCallback&&Jr.webviewEventCallback({data:{type:"tap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{}},eventName:n.bindtap,webviewId:t,nodeId:n.nodeId})});var Uw=function(e,t,n){var r=[],o=[];if("onTouchStart"===t){for(var i in e)r.push(e[i]);var a={x:n.touch.x,y:n.touch.y,identifier:n.touch.id};o.push(a),r.push(a)}else if("onTouchMove"===t)for(var s in e){var c=e[s],u=!1;for(var l in n.touches){var f={x:n.touches[l].x,y:n.touches[l].y,identifier:n.touches[l].id};if(f.identifier===c.identifier&&(c.x!==f.x||c.y!==f.y)){r.push(f),o.push(f),u=!0;break}}u||r.push(c)}else if("onTouchEnd"===t){var d={x:n.touch.x,y:n.touch.y,identifier:n.touch.id};for(var p in e){var h=e[p];h.identifier===d.identifier?o.push(d):r.push(h)}}else if("onTouchCancel"===t)for(var v in n.touches){var g={x:n.touches[v].x,y:n.touches[v].y,identifier:n.touches[v].id};o.push(g)}else if("onLongPress"===t){var y={x:n.touch.x,y:n.touch.y,identifier:n.touch.id};for(var m in e)e[m].identifier===y.identifier?r.push(y):r.push(e[m]);o.push(y)}return{touches:r,changedTouches:o}},Ww={onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel",onLongPress:"longtap"};Ir.onReady(function(){4!==Ir.appType&&["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onLongPress"].forEach(function(e){q(e,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=JSON.parse(t.data||"{}"),o=r.canvasNumber,i=r.type;if("TextView"!==i&&"ImageView"!==i){if(!Os.hasOwnProperty(o))return void console.error("No such canvas "+o+" register in "+n+", but trigger "+e+" event.");var a=Os[o].data,s=Uw(a.lastTouches,e,t),c=s.touches,u=s.changedTouches;a.lastTouches=c,a[e]&&"function"==typeof Jr.webviewEventCallback&&("onTouchMove"===e&&0===u.length||Jr.webviewEventCallback({data:{type:Ww[e],timeStamp:new Date-a.startTime,target:a.target,touches:c,changedTouches:u},eventName:a[e],webviewId:n,nodeId:r.nodeId}))}})})}),Ir.onReady(function(){4!==Ir.appType&&["onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoClickFullScreenBtn","onVideoClickDanmuBtn","onVideoFullScreenChange","onVideoWaiting","onVideoError","onVideoLoadedData","onVideoLoadedMetaData","onVideoLoadStart","onVideoSeeked","onVideoSeeking"].forEach(function(e){q(e,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r="bind"+e.substring(7).toLowerCase(),o=JSON.parse(t.data),i=o.handlers,a=o.event,s=o.createdTimestamp,c=o.nodeId;if("onVideoFullScreenChange"===e&&F("videoFullScreenChange",t,[n]),i[r]&&"function"==typeof Jr.webviewEventCallback){var u={type:r.substring(4),target:a.target,currentTarget:a.currentTarget,timeStamp:(t.timeStamp||Date.now())-s,detail:{}};if("bindtimeupdate"===r&&(u.detail={currentTime:t.position,duration:t.duration}),"bindfullscreenchange"===r){var l=t.direction;l=0===l||180===l||"vertical"===l?"vertical":"horizontal",u.detail={fullScreen:t.fullScreen,direction:l}}"binderror"===r&&(u.detail={errMsg:t.errMsg}),Jr.webviewEventCallback({data:u,eventName:i[r],webviewId:n,nodeId:c})}})})}),q("onScrollViewScroll",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.data&&"function"==typeof Jr.webviewEventCallback){var n=JSON.parse(e.data);n.bindscroll&&Jr.webviewEventCallback({data:{type:"scroll",target:n.target,currentTarget:n.target,detail:{scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop},timeStamp:Date.now()-n.timeStamp},eventName:n.bindscroll,webviewId:t,nodeId:n.nodeId})}});var qw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vw={},zw={},Gw={},Kw=[],Hw={},Jw=new a,Qw=new WeakMap,Yw=function(e){var t=[],n=1;return U(e,function(e){t.forEach(function(t){var n=t[0],r=t[1];n.cid===e.cid&&n.cameraId===e.cameraId&&r(e)}),t=[]}),function(e,r){e.cid=n++,t.push([e,r])}}("onOperateCameraCallback");U("cameraInserted",function(e,t){var n=e.cameraId,r=e.pluginId,o=e.bindings;Vw[t+"_"+r]=n,zw[t+"_"+n]=o,Jw.emit("cameraInsert")}),U("cameraUpdated",function(e,t){var n=e.cameraId,r=e.hidden;Gw[t+"_"+n]=r}),U("cameraRemoved",function(e,t){var n=e.cameraId,r=e.pluginId;delete Vw[t+"_"+r],delete zw[t+"_"+n],delete Gw[t+"_"+n]}),tc(function(e){if("undefined"!=typeof __appServiceEngine__&&"function"===__appServiceEngine__.getCurrentPagesByDomain){var t=__appServiceEngine__.getCurrentPagesByDomain(""),n=t.map(function(e){return e.__wxWebviewId__});Object.keys(Vw).forEach(function(e){var t=e.split("_").shift();-1===n.indexOf(Number(t))&&(delete zw[t+"_"+Vw[e]],delete Gw[t+"_"+Vw[e]],delete Vw[e],Hw[t]&&(Hw[t].forEach(function(e){clearTimeout(e)}),delete Hw[t]))})}}),q("onCameraVideoTaken",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Kw.forEach(function(n){n(e,t)})});var Xw=function(){function e(t,n){bn(this,e),this.webviewId=t,this.pluginId=n}return qw(e,[{key:"_invoke",value:function(e,t){var n=C();t.type=e,"ios"===n||"android"===n?W("operateCamera",t):(Yw(t,function(n){function r(t,n){W("base64ToTempFilePath",Object.assign({fileType:"jpg",base64Data:o},t),{beforeAll:function(r){"takePhoto"===t.type?r.tempImagePath=r.tempFilePath:r.tempFilePath&&(r.tempThumbPath=r.tempFilePath),n&&(r.tempVideoPath=n),r.errMsg=r.errMsg.replace("base64ToTempFilePath",e),delete r.tempFilePath}})}var o=n.imageData,i=n.videoData;i?W("base64ToTempFilePath",{fileType:"webm",base64Data:i,complete:function(e){r(t,e.tempFilePath)}
}):"startRecord"===e?("function"==typeof t.success&&t.success({errMsg:"startRecord:ok"}),"function"==typeof t.complete&&t.complete({errMsg:"startRecord:ok"})):r(t)}),F("operateCamera",t,[this.webviewId]))}},{key:"_invokeMethod",value:function(e,t){var n=this,r=this.webviewId+"_"+this.pluginId;if("number"==typeof Vw[r]||Vw[r]){var o=zw[this.webviewId+"_"+Vw[r]];if(o.isCancelAuth)return"function"==typeof t.fail&&t.fail({errMsg:"user cancel auth"}),void("function"==typeof t.complete&&t.complete({errMsg:"user cancel auth"}));if("scanCode"===o.mode&&("takePhoto"===e||"startRecord"===e))return"function"==typeof t.fail&&t.fail({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}),void("function"==typeof t.complete&&t.complete({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}));t.cameraId=Vw[r],this._invoke(e,t)}else Jw.once("cameraInsert",function(){n._invokeMethod(e,t)})}},{key:"takePhoto",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.webviewId+"_"+this.pluginId;if(Gw[this.webviewId+"_"+Vw[t]])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));this._invokeMethod("takePhoto",e)}},{key:"startRecord",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Mc({scope:"scope.record",success:function(){Qw.set(e,!0),e._startRecord(t)},fail:function(){"function"==typeof t.fail&&t.fail({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."}),"function"==typeof t.complete&&t.complete({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."})}})}},{key:"_startRecord",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Qw.get(this)){var n=this.webviewId+"_"+this.pluginId;if(Gw[this.webviewId+"_"+Vw[n]])return"function"==typeof t.fail&&t.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof t.complete&&t.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));var r=t.timeoutCallback,o=t.fail;if(t.fail=function(t){e._isRecording=!1,clearTimeout(a),"function"==typeof o&&o(t)},this._invokeMethod("startRecord",t),!this._isRecording){this._isRecording=!0;var i="number"==typeof t.timeout?Math.max(0,t.timeout):30,a=this._timer=setTimeout(function(){e._isRecording&&(e.stopRecord({complete:r||function(){}}),e._isRecording=!1)},1e3*i);0===i?clearTimeout(a):Hw[this.webviewId]?Hw[this.webviewId].push(a):Hw[this.webviewId]=[a];var s=this._videoTaken=function(t,n){var o=n+"_"+e.pluginId;if(t.cameraId===Vw[o]){var i=Kw.indexOf(s);i>-1&&Kw.splice(i,1),e._isRecording&&(delete t.cameraId,"function"==typeof r&&r(t),e._isRecording=!1,clearTimeout(a))}};Kw.push(s)}}}},{key:"stopRecord",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Kw.indexOf(this._videoTaken);t>-1&&(Kw.splice(t,1),this._videoTaken=null),this._invokeMethod("stopRecord",e),this._isRecording=!1,clearTimeout(this._timer)}}]),e}();q("onCameraNeedAuthCancel",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=zw[t+"_"+e.cameraId];n&&n.binderror&&"function"==typeof Jr.webviewEventCallback&&Jr.webviewEventCallback({data:{type:"error",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,detail:{msg:"user cancel auth"}},eventName:n.binderror,webviewId:t,nodeId:n.nodeId}),n&&(n.isCancelAuth=!0)}),q("onCameraStop",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=zw[t+"_"+e.cameraId];n&&n.bindstop&&"function"==typeof Jr.webviewEventCallback&&Jr.webviewEventCallback({data:{type:"stop",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,detail:{}},eventName:n.bindstop,webviewId:t,nodeId:n.nodeId})}),q("onCameraScanCode",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=zw[t+"_"+e.cameraId];n&&n.bindscancode&&"function"==typeof Jr.webviewEventCallback&&Jr.webviewEventCallback({data:{type:"scancode",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,detail:{type:e.type,result:e.result}},eventName:n.bindscancode,webviewId:t,nodeId:n.nodeId})});var $w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Zw="ios"!==C()&&"android"!==C(),eS={},tS={},nS=new a,rS={};U("livePlayerInsert",function(e,t){var n=e.domId,r=e.playerId,o=e.pluginId,i=e.data,a=e.nodeId,s=t+"_"+o+"_"+n+"_";a&&a!==__virtualDOM__.getRootNodeId(t)&&(s+=a),eS[s]=r,tS[t+"_"+r]=i||{},nS.emit("livePlayerInsert"),Sn(t),Cn(t)}),U("livePlayerRemoved",function(e,t){var n=e.domId,r=e.playerId,o=e.pluginId,i=e.nodeId,a=t+"_"+o+"_"+n+"_";i&&i!==__virtualDOM__.getRootNodeId(t)&&(a+=i),delete eS[a],delete tS[t+"_"+r]});var oS=new WeakMap,iS=function(){function e(t,n,r,o){if(wn(this,e),"string"!=typeof t)throw new Wr("Parameter 1 should be a string");this.domId=t,this.webviewId=n,this.nodeId=r,this.pluginId=o}return $w(e,[{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._getAppStatus();t===Gr.BACK_GROUND||t===Gr.LOCK||this._invokeMethod("play",[],e)}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("stop",[],e)}},{key:"mute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("mute",[],e)}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("pause",[],e)}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("resume",[],e)}},{key:"requestFullScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.direction;[0,90,-90].indexOf(t)>-1?this._invokeMethod("requestFullScreen",[t],e):this._invokeMethod("requestFullScreen",[],e),oS.set(this,!0)}},{key:"exitFullScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("exitFullScreen",[],e),this.showStatusBar(),oS.set(this,!1)}},{key:"showStatusBar",value:function(){W("showStatusBar",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"hideStatusBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!oS.get(this)){var t="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}W("hideStatusBar",e)}},{key:"_invokeMethod",value:function(e,t,n){function r(){W("operateLivePlayer",{data:t,type:e,livePlayerId:eS[i],success:n.success,fail:n.fail,complete:n.complete})}var o=this,i=this.webviewId+"_"+this.pluginId+"_"+this.domId+"_"+this.nodeId;"number"==typeof eS[i]?(Zw&&(n.type=e,n.playerId=eS[i],F("operateLivePlayer",n,[this.webviewId])),r.apply(this)):nS.once("livePlayerInsert",function(){o._invokeMethod(e,t,n)})}}]),e}(),aS={onLivePlayerEvent:"bindstatechange",onLivePlayerNetStatus:"bindnetstatus"},sS={};["onLivePlayerEvent","onLivePlayerNetStatus"].forEach(function(e){q(e,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];xn(e,t,n)})}),q("onLivePlayerFullScreenChange",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];F("videoFullScreenChange",e,[t]);var n=tS[t+"_"+e.livePlayerId];n&&n.handlers.bindfullscreenchange&&"function"==typeof Jr.webviewEventCallback&&Jr.webviewEventCallback({data:{type:"fullscreenchange",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,touches:[],detail:{fullScreen:e.fullScreen,direction:0===e.direction||180===e.direction||"vertical"===e.direction?"vertical":"horizontal"}},eventName:n.handlers.bindfullscreenchange,webviewId:t,nodeId:n.nodeId})});var cS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),uS={},lS={},fS=new a,dS={};U("livePusherInserted",function(e,t){var n=e.pusherId,r=e.pluginId,o=e.data;uS[t+"_"+r]=n,lS[t+"_"+n]=o,fS.emit("livePusherInserted"),En(t),On(t)}),U("livePusherRemoved",function(e,t){var n=e.pusherId,r=e.pluginId;delete uS[t+"_"+r],delete lS[t+"_"+n]});var pS=function(){function e(t,n){In(this,e),this.webviewId=t,this.pluginId=n}return cS(e,[{key:"_invoke",value:function(e,t){var n=C();"ios"===n||"android"===n?W("operateLivePusher",t):console.warn("开发者工具暂不支持调用 LivePusherContext."+e+" 方法")}},{key:"_invokeMethod",value:function(e,t){var n=this,r=this.webviewId+"_"+this.pluginId;"number"==typeof uS[r]?(t.livePusherId=uS[r],t.type=e,this._invoke(e,t)):fS.once("livePusherInserted",function(){n._invokeMethod(e,t)})}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("start",e)}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("stop",e)}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("pause",e)}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("resume",e)}},{key:"switchCamera",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("switchCamera",e)}},{key:"snapshot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("snapshot",e)}},{key:"toggleTorch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("toggleTorch",e)}}]),e}(),hS={onLivePusherEvent:"bindstatechange",onLivePusherNetStatus:"bindnetstatus"},vS={};["onLivePusherEvent","onLivePusherNetStatus"].forEach(function(e){q(e,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Mn(e,t,n)})});var gS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),yS="ios"!==C()&&"android"!==C(),mS="android"===C(),bS={},_S=new a,wS={};U("videoPlayerInsert",function(e,t){var n=e.domId,r=e.videoPlayerId,o=e.pluginId,i=e.nodeId,a=t+"_"+o+"_"+n+"_";i&&i!==__virtualDOM__.getRootNodeId(t)&&(a+=i),bS[a]=r,_S.emit("videoPlayerInsert"),Rn(t)}),U("videoPlayerRemoved",function(e,t){var n=e.domId,r=(e.videoPlayerId,e.pluginId),o=e.nodeId,i=t+"_"+r+"_"+n+"_";o&&o!==__virtualDOM__.getRootNodeId(t)&&(i+=o),delete bS[i]});var SS=new WeakMap,kS=function(){function e(t,n,r,o){if(Dn(this,e),"string"!=typeof t)throw new Wr("Parameter 1 should be a string");this.domId=t,this.webviewId=n,this.pluginId=o,this.nodeId=r}return gS(e,[{key:"play",value:function(){var e=this._getAppStatus();e===Gr.BACK_GROUND||e===Gr.LOCK||this._invokeMethod("play")}},{key:"pause",value:function(){this._invokeMethod("pause")}},{key:"stop",value:function(){this._invokeMethod("stop")}},{key:"seek",value:function(e){this._invokeMethod("seek",[e])}},{key:"sendDanmu",value:function(e){var t=e.text,n=e.color;this._invokeMethod("sendDanmu",[t,n])}},{key:"playbackRate",value:function(e){.5!==(e=parseFloat(e.toFixed(2)))&&.8!==e&&1!==e&&1.25!==e&&1.5!==e||this._invokeMethod("playbackRate",[e])}},{key:"requestFullScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.direction;[0,90,-90].indexOf(t)>-1?this._invokeMethod("requestFullScreen",[t]):this._invokeMethod("requestFullScreen"),SS.set(this,!0)}},{key:"exitFullScreen",value:function(){this._invokeMethod("exitFullScreen"),this.showStatusBar(),SS.set(this,!1)}},{key:"showStatusBar",value:function(){W("showStatusBar",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"hideStatusBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(mS){return"function"==typeof e.success&&e.success({errMsg:"hideStatusBar:ok"}),void("function"==typeof e.complete&&e.complete({errMsg:"hideStatusBar:ok"}))}if(!SS.get(this)){var t="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}W("hideStatusBar",e)}},{key:"_invokeMethod",value:function(e,t){function n(){yS?(this.action={method:e,data:t},this._sendAction(bS[o])):W("operateVideoPlayer",{data:t,videoPlayerId:bS[o],type:e})}var r=this,o=this.webviewId+"_"+this.pluginId+"_"+this.domId+"_"+this.nodeId;"number"==typeof bS[o]?n.apply(this):_S.once("videoPlayerInsert",function(){r._invokeMethod(e,t)})}},{key:"_sendAction",value:function(e){F("video_"+this.pluginId+"_"+this.domId+"_"+e+"_"+this.nodeId+"_actionChanged",this.action,[this.webviewId])}}]),e}(),CS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),TS={},xS=new a,IS={};U("audioInsert",function(e,t){var n=e.audioId,r=e.pluginId,o=e.nodeId,i=t+"_"+r+"_"+n+"_";o&&o!==__virtualDOM__.getRootNodeId(t)&&(i+=o),TS[i]=!0,xS.emit("audioInsert_"+i),Ln(t)}),U("audioRemove",function(e,t){var n=e.audioId,r=e.pluginId,o=e.nodeId,i=t+"_"+r+"_"+n+"_";o&&o!==__virtualDOM__.getRootNodeId(t)&&(i+=o),delete TS[i]});var ES=function(){function e(t,n,r,o){if(Bn(this,e),"string"!=typeof t)throw new Wr("Parameter 1 should be a string");this.audioId=t,this.webviewId=n,this.pluginId=o,this.nodeId=r}return CS(e,[{key:"setSrc",value:function(e){this._sendAction({method:"setSrc",data:e})}},{key:"play",value:function(){var e=this._getAppStatus();this._getHanged();e===Gr.BACK_GROUND||this._sendAction({method:"play"})}},{key:"pause",value:function(){this._sendAction({method:"pause"})}},{key:"seek",value:function(e){this._sendAction({method:"setCurrentTime",data:e})}},{key:"_ready",value:function(e){var t=this.webviewId+"_"+this.pluginId+"_"+this.audioId+"_"+this.nodeId;TS[t]?e():xS.on("audioInsert_"+t,function(){e()})}},{key:"_sendAction",value:function(e){var t=this;this._ready(function(){F("audio_"+t.pluginId+"_"+t.audioId+"_"+t.nodeId+"_actionChanged",e,[t.webviewId])})}}]),e}(),PS={createInnerAudioContext:gf};["createAudioContext","createCameraContext","createMapContext","createVideoContext","createLivePlayerContext","createLivePusherContext"].forEach(function(e){PS[e]=function(t,n){var r=sw(this),o=cw(this),i=n&&n.__wxExparserNodeId__?n.__wxExparserNodeId__:"";return mr[e].call(this,t,Jr.currentWebviewId,i,r+"/"+o)}});var OS=PS,AS={},MS=[];for(var DS in yr)DS.endsWith("4Plugin")&&MS.push(DS);MS.forEach(function(e){var t=e.replace("4Plugin","");AS[t]=function(t,n){var r=sw(this),o=cw(this),i=n&&n.__wxExparserNodeId__?n.__wxExparserNodeId__:"";return yr[e].call(this,t,r+"/"+o,i)}});var RS=AS,NS=function(e){var t=Number(e);return[Math.floor(t/1e6),Math.floor(t/1e3)%1e3,t%1e3].join(".")},BS=function(){var e=sw(this);return{miniProgram:{appId:__wxConfig.accountInfo&&__wxConfig.accountInfo.appId||""},plugin:{appId:e||"",version:NS(Q_.pluginInfos[e].customVersion)}}},LS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jS=1,FS={},US=function(e,t,n){var r=jS++;if(!e)return void console.warn("An SelectorQuery call is ignored because no proper page or component is found. Please considering using `SelectorQuery.in` to specify a proper one.");FS[r]=n,F("requestComponentInfo",{reqId:r,reqs:t},[e])};U("responseComponentInfo",function(e){var t=e.reqId,n=FS[t];n&&(delete FS[t],n(e.res))});var WS=function(){function e(t,n,r,o){Fn(this,e),this._selectorQuery=t,this._component=n,this._selector=r,this._single=o}return LS(e,[{key:"fields",value:function(e,t){return this._selectorQuery._push(this._selector,this._component,this._single,e,t),this._selectorQuery}},{key:"boundingClientRect",value:function(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,rect:!0,size:!0},e),this._selectorQuery}},{key:"scrollOffset",value:function(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,scrollOffset:!0},e),this._selectorQuery}}]),e}(),qS={},VS=function(e){return function(){function t(e){if(Fn(this,t),e&&e.page)this._component=this._defaultComponent=e.page,this._webviewId=this._defaultComponent.__wxWebviewId__;else{var n=__appServiceEngine__.getCurrentPagesByDomain("");this._defaultComponent=n[n.length-1],this._component=null,this._webviewId=null}this._queue=[],this._queueCb=[]}return LS(t,[{key:"in",value:function(e){return null===this._webviewId?(this._webviewId=e.__wxWebviewId__,this._component=e):this._webviewId!==e.__wxWebviewId__?console.error("A single SelectorQuery could not work in components in different pages. A SelectorQuery#in call has been ignored."):this._component=e,this}},{key:"select",value:function(e){return new WS(this,this._component,e,!0)}},{key:"selectAll",value:function(e){return new WS(this,this._component,e,!1)}},{key:"selectViewport",value:function(){return new WS(this,0,"",!0)}},{key:"_push",value:function(t,n,r,o,i){null===this._webviewId&&(this._webviewId=this._defaultComponent?this._defaultComponent.__wxWebviewId__:void 0);var a=e?"":__virtualDOM__.getRootNodeId(this._webviewId);this._queue.push({component:null!=n?0===n?0:n.__wxExparserNodeId__:a,selector:t,single:r,fields:o}),this._queueCb.push(i||null)}},{key:"exec",value:function(t){var n=this;US(this._webviewId,{pluginId:e,queue:this._queue},function(e){var r=n._queueCb;e.forEach(function(e,t){"function"==typeof r[t]&&r[t].call(n,e)}),"function"==typeof t&&t.call(n,e)})}}]),t}()},zS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),GS=1,KS={},HS=function(e,t,n){var r=GS++;KS[r]=n,F("requestComponentObserver",{reqId:r,req:t},[e])};U("responseComponentObserver",function(e){var t=e.reqId,n=KS[t];if(e.reqEnd&&delete KS[t],n)return e.reqEnd?void 0:void n(e.res)});var JS,QS={},YS=function(e){return function(){function t(e,n){if(Wn(this,t),this._component=e,this._options=n,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,e)this._webviewId=e.__wxWebviewId__;else{var r=__appServiceEngine__.getCurrentPagesByDomain("");this._webviewId=r[r.length-1].__wxWebviewId__}}return zS(t,[{key:"relativeTo",value:function(e,t){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:e,margins:t}),this}},{key:"relativeToViewport",value:function(e){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:null,margins:e}),this}},{key:"observe",value:function(t,n){var r=this;if(null!==this._observerId)throw new Error('"observe" call can be only called once in IntersectionObserver');this._observerId="";var o=this._component;HS(this._webviewId,{type:"addIntersectionObserver",pluginId:e,nodeId:o?o.__wxExparserNodeId__:__virtualDOM__.getRootNodeId(this._webviewId),targetSelector:t,relativeInfo:this._relativeInfo,options:this._options},function(e){r._disconnected||(e.observerId&&(r._observerId=e.observerId),e.info&&n.call(r,e.info))})}},{key:"disconnect",value:function(){HS(this._webviewId,{type:"removeIntersectionObserver",observerId:this._observerId}),this._disconnected=!0}}]),t}()},XS=function(e){return Un(e,sw(this))},$S=function(e,t){return qn(e,t,sw(this))},ZS=function(e,t){var n={business:"mmbizwxaanalytics",eventID:e,data:t||{},uid:Date.now().toString(16)+Math.random().toString(16).substr(2),type:1,version:"2.2.4",pluginId:sw(this),pluginVersion:cw(this)};W("reportRealtimeAction",{actionData:JSON.stringify(n)})},ek=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=sw(this);e.pluginId=t,zc(e)},tk=Q_.pluginInfos,nk=function(){var e=!1;return Ir.clientVersion>=369431584&&Ir.clientVersion<=369432575&&(e=!0),Ir.clientVersion>=637867008&&Ir.clientVersion<=637868031&&(e=!0),function(){return e}}(),rk=function(e){var t=String(e).split(".",3);return t.length<3?-1:Number(1e3*t[0]*1e3+1e3*t[1]+1*t[2])},ok=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t],r=n.appId;if(void 0===n.appId||void 0===n.plugin_list)return;if(!n.plugin_list[0]||!tk[r])return;var o=n.plugin_list[0].PluginNetWork||{},i=n.plugin_list[0].last_version||{};tk[r].domains={request:o.RequestDomain||[],uploadFile:o.UploadDomain||[],downloadFile:o.DownloadDomain||[],connectSocket:o.WsRequestDomain||[]},tk[r].latestCustomVersion=rk(i.custom_version)}},ik=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.plugin_id,o=tk[r];if(!o)return;o.banning=n.banning,o.runningFlag=n.running_flag_info,o.hostSign={noncestr:n.noncestr||"",timestamp:n.timestamp||"",signature:n.host_sign||""},nk()&&(o.domains={request:n.request_domain||[],uploadFile:n.upload_domain||[],downloadFile:n.download_domain||[],connectSocket:n.wsrequest_domain||[]})}},ak=function(e){var t=e.version;return{customVersion:e.customVersion,version:t,domains:{},hostSign:{}}},sk=Q_.emitter,ck=Q_.pluginInfos,uk=(JS={},Vn(JS,1,!1),Vn(JS,3,!1),JS),lk=0,fk=0,dk=[1,1,2],pk=!1,hk=!1;nk()||(uk[2]=!1);var vk=function(e){uk[e]=!0,Object.keys(uk).reduce(function(e,t){return e&&uk[t]},!0)&&!pk&&(sk.emit("pluginInfoFetchDone"),pk=!0)},gk=function(){if(Ir.appContactInfo&&Ir.appContactInfo.call_plugin_info)for(var e=Ir.appContactInfo.call_plugin_info,t=0;t<e.length;t++){var n=e[t],r=n.plugin_id;ck[r]=ak({version:n.inner_version,customVersion:n.plugin_version||""})}else if(Ir.plugins)for(var o in Ir.plugins){var i=Ir.plugins[o],a=i.provider;ck[a]=ak({version:0,customVersion:i.version||""})}vk(1)},yk=function e(t){var n=[],r={};for(var o in ck)n.push(o),r[o]=ck[o].customVersion;0!==n.length&&(W("batchGetContact",{appIds:n,success:function(n){var o=n.contactList;if(ok(o),t>0){var i=!1;if(!i){var a=0;for(var s in ck){if(ck[s].latestCustomVersion>=0&&r[s]>ck[s].latestCustomVersion){i=!0;break}for(var c in ck[s].domains)ck[s].domains[c]&&(a+=ck[s].domains[c].length)}i||a||(i=!0)}if(i)return void setTimeout(function(){e(t-1)},1e3)}vk(2)},fail:function(t){console.error("[PluginSDK] batchGetContact failed: "+t.errMsg),lk<1?(setTimeout(e,0),lk++):vk(2)}}),setTimeout(function(){vk(2)},12e4))},mk=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fromTimer,r=void 0!==n&&n,o=[];for(var i in ck){var a=ck[i];o.push({provider:i,inner_version:a.version})}0!==o.length&&(W("verifyPlugin",{data:{plugins:o},success:function(e){var t=e.data;if(void 0===t)return void console.error("[PluginSDK] Plugin data from backend is not available.");if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}var n=Array.isArray(t.list)?t.list:[];ik(n),vk(3),bk()},fail:function(t){if(console.error("[PluginSDK] invokeVerifyPlugin failed: "+t.errMsg),!r){var n=void 0;fk<dk.length?n=dk[fk]:(uk[3]||vk(3),n=30),setTimeout(e,1e3*n),fk++}},complete:function(){}}),r||setTimeout(function(){vk(3)},12e4))},bk=function(){hk||(setInterval(function(){mk({fromTimer:!0})},6e5),hk=!0)},_k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.image){if(0!==e.image.indexOf("/"))return void G("showToast",e,"parameter 'image' must be begin with '/'");var t=sw(this);e=Object.assign({},e,{image:"/__plugin__/"+t+"/"+e.image.substr(1)})}dr.showToast(e)},wk=nr.captureScreen,Sk=nr.onUserCaptureScreen,kk=nr.setKeepScreenOn,Ck=nr.setScreenBrightness,Tk=nr.getScreenBrightness,xk=rr.vibrateShort,Ik=rr.vibrateLong,Ek=sr.chooseImage,Pk=sr.previewImage,Ok=sr._getImageInfoWithDownloadFile,Ak=sr.saveImageToPhotosAlbum,Mk=lr.startRecord,Dk=lr.stopRecord,Rk=lr.getRecorderManager,Nk=cr.chooseVideo,Bk=cr.saveVideoToPhotosAlbum,Lk=ur.playVoice,jk=ur.pauseVoice,Fk=ur.stopVoice,Uk=or.addPhoneContact,Wk=fr.getBackgroundAudioPlayerState,qk=fr.playBackgroundAudio,Vk=fr.pauseBackgroundAudio,zk=fr.seekBackgroundAudio,Gk=fr.stopBackgroundAudio,Kk=fr.onBackgroundAudioPlay,Hk=fr.onBackgroundAudioPause,Jk=fr.onBackgroundAudioStop,Qk=dr.hideToast,Yk=dr.showLoading,Xk=dr.hideLoading,$k=dr.showModal,Zk=dr.showActionSheet,eC=hr.setNavigationBarTitle,tC=hr.showNavigationBarLoading,nC=hr.hideNavigationBarLoading,rC=hr.setNavigationBarColor,oC=hr.setNavigationBarAlpha,iC=hr.setNavigationBarRightButton,aC=hr.onTapNavigationBarRightButton,sC=Hn.getShareInfo,cC=Hn.showShareMenu,uC=Hn.hideShareMenu,lC=Hn.updateShareMenu,fC=vr.navigateTo,dC=vr.redirectTo,pC=vr.navigateBack;Ew.request,Ew.uploadFile,Ew.downloadFile,Ew.connectSocket,Aw.getStorage,Aw.getStorageSync,Aw.removeStorage,Aw.removeStorageSync,Aw.setStorage,Aw.setStorageSync,OS.createAudioContext,OS.createCameraContext,OS.createMapContext,OS.createVideoContext,OS.createInnerAudioContext,OS.createLivePlayerContext,OS.createLivePusherContext,RS.createCanvasContext,RS.drawCanvas,RS.canvasToTempFilePath,RS.canvasGetImageData,RS.canvasPutImageData,Reporter.surroundThirdByTryCatch(D),Reporter.surroundThirdByTryCatch(R);!0!==Ir.karmaTest&&function(){Ir.onReady(function(){gk(),nk()||yk(5),mk()})}();var hC=(Q_.pluginInfos,[]),vC=[];U("callbackWebviewMethod",function(e){var t=e.res,n=e.isSuccess,r=e.callbackId,o=hC[r],i=vC[r];i.beforeAll(t),n?(i.beforeSuccess(t),o.success(t),i.afterSuccess(t)):(i.beforeFail(t),o.fail(t),i.afterFail(t)),o.complete(t),i.afterAll(t)});var gC=(vr._triggerBeforeUnloadPage,vr._triggerBeforeShareAppMessage,function(e,t,n){for(var r in t){if("exportToAppServiceSDK"===r)return;e[r]=t[r]}["onPageReload"].forEach(function(r){t[r]&&(e[r]=function(e){t[r].call(n,e)})})}),yC=fp,mC=pp,bC=hp,_C=yp,wC=mp,SC=bp,kC=_p,CC=Tp,TC=xp,xC=Pp,IC=Op,EC=Mp,PC=Dp,OC=Np,AC=Bp,MC=Lp,DC=jp,RC=Fp,NC=Up,BC=zp,LC=Gp,jC=yC.onTouchStart,FC=yC.offTouchStart,UC=yC.onTouchMove,WC=yC.offTouchMove,qC=yC.onTouchEnd,VC=yC.offTouchEnd,zC=yC.onTouchCancel,GC=yC.offTouchCancel,KC=Ua.setStorage,HC=Ua.setStorageSync,JC=Ua.getStorage,QC=Ua.getStorageSync,YC=Ua.getStorageInfo,XC=Ua.getStorageInfoSync,$C=Ua.removeStorage,ZC=Ua.removeStorageSync,eT=Ua.clearStorage,tT=Ua.clearStorageSync;Protect.hijack();var nT=Mi.connectSocket,rT=Mi.closeSocket,oT=Mi.sendSocketMessage,iT=Mi.onSocketOpen,aT=Mi.onSocketClose,sT=Mi.onSocketMessage,cT=Mi.onSocketError,uT=Hn.getShareInfo,lT=Hn.showShareMenu,fT=Hn.hideShareMenu,dT=Hn.updateShareMenu,pT=Hn.showUpdatableMessageSubscribeButton,hT=If,vT=Ef,gT=Of,yT=Af,mT=Cf,bT=Mf,_T=rr.vibrateShort,wT=rr.vibrateLong,ST={request:Wo,downloadFile:oi,uploadFile:gi,addNativeDownloadTask:Ri,calRqt:Fi,connectSocket:nT,closeSocket:rT,sendSocketMessage:oT,onSocketOpen:iT,onSocketClose:aT,onSocketMessage:sT,onSocketError:cT,getNetworkType:zn.getNetworkType,onNetworkStatusChange:zn.onNetworkStatusChange,openDocument:qi,setStorage:KC,setStorageSync:HC,getStorage:JC,getStorageSync:QC,getStorageInfo:YC,getStorageInfoSync:XC,removeStorage:$C,removeStorageSync:ZC,clearStorage:eT,clearStorageSync:tT,authorize:Mc,checkSession:Ac,getUserInfo:Dc,login:Oc,openSetting:Lc,getSetting:Rc,sendGroupMessage:Gc,reportGroupShare:Kc,operateWXData:qc,getWeRunData:jc,uploadWeRunData:Fc,addWeRunData:Uc,getGroupMsgTicket:cv,removeUserCloudStorage:Mg,setUserCloudStorage:Og,openCustomerServiceConversation:Db,sendRedPacket:Jn.sendRedPacket,openRedPacket:Jn.openRedPacket,sendBizRedPacket:Jn.sendBizRedPacket,reportAnalytics:Fb,reportMonitor:Ub,saveFile:Ui,getFileInfo:Ki,getSavedFileList:Vi,getSavedFileInfo:zi,removeSavedFile:Gi,readFile:function(e){console.warn("wx.readFile 即将废弃，请使用 wx.getFileSystemManager().readFile"),Hi(e)},writeFile:function(e){console.warn("wx.writeFile 即将废弃，请使用 wx.getFileSystemManager().writeFile"),Yi(e)},access:function(e){console.warn("wx.access 即将废弃，请使用 wx.getFileSystemManager().access"),ua(e)},unlink:function(e){console.warn("wx.unlink 即将废弃，请使用 wx.getFileSystemManager().unlink"),fa(e)},stat:function(e){console.warn("wx.stat 即将废弃，请使用 wx.getFileSystemManager().stat"),va(e)},mkdir:function(e){console.warn("wx.mkdir 即将废弃，请使用 wx.getFileSystemManager().mkdir"),$i(e)},readdir:function(e){console.warn("wx.readdir 即将废弃，请使用 wx.getFileSystemManager().readdir"),sa(e)},rmdir:function(e){console.warn("wx.rmdir 即将废弃，请使用 wx.getFileSystemManager().rmdir"),ea(e)},getFileSystemManager:xa,startAccelerometer:Yn.startAccelerometer,stopAccelerometer:Yn.stopAccelerometer,onAccelerometerChange:Yn.onAccelerometerChange,startCompass:Xn.startCompass,stopCompass:Xn.stopCompass,onCompassChange:Xn.onCompassChange,setScreenBrightness:nr.setScreenBrightness,getScreenBrightness:nr.getScreenBrightness,setKeepScreenOn:nr.setKeepScreenOn,captureScreen:nr.captureScreen,vibrateShort:_T,vibrateLong:wT,getClipboardData:er.getClipboardData,setClipboardData:er.setClipboardData,getLocation:bf,createInnerAudioContext:gf,getAvailableAudioSources:Wl,getRecorderManager:lr.getRecorderManager,chooseImage:sr.chooseImage,previewImage:sr.previewImage,saveImageToPhotosAlbum:sr.saveImageToPhotosAlbum,createCanvas:Ld,createImage:Ud,onTouchStart:jC,offTouchStart:FC,onTouchMove:UC,offTouchMove:WC,onTouchEnd:qC,offTouchEnd:VC,onTouchCancel:zC,offTouchCancel:GC,onKeyboardInput:OC,offKeyboardInput:AC,onKeyboardConfirm:MC,offKeyboardConfirm:DC,onKeyboardComplete:RC,offKeyboardComplete:NC,onWindowResize:BC,offWindowResize:LC,getShareInfo:uT,showShareMenu:function(e){setTimeout(lT.bind(this,e),0)},hideShareMenu:fT,updateShareMenu:function(e){setTimeout(dT.bind(this,e),0)},onShareAppMessage:_C,offShareAppMessage:wC,shareAppMessage:Kd,showUpdatableMessageSubscribeButton:pT,setTopBarText:kf,showToast:hT,hideToast:vT,showLoading:gT,hideLoading:yT,showModal:mT,showActionSheet:bT,setMenuStyle:Zh,setStatusBarStyle:nv,getMenuButtonBoundingClientRect:Df,onError:mC,offError:bC,onLaunch:SC,offLaunch:kC,onShow:CC,offShow:TC,onHide:xC,offHide:IC,onStickyStatusChange:EC,offStickyStatusChange:PC,onAudioInterruptionBegin:Vl,offAudioInterruptionBegin:zl,onAudioInterruptionEnd:Kl,offAudioInterruptionEnd:Hl,getSystemInfo:Gn.getSystemInfo,getSystemInfoSync:Gn.getSystemInfoSync,getBatteryInfo:Qn.getBatteryInfo,getBatteryInfoSync:Qn.getBatteryInfoSync,getLaunchOptionsSync:Yd,setPreferredFramesPerSecond:Xd,loadFont:$d,getTextLineHeight:sv,requestMidasPayment:Vv,gameLoginReport:Rt,gameLogoutReport:Nt,exitMiniProgram:Rf,showKeyboard:Kp,hideKeyboard:Hp,updateKeyboard:Jp,encode:Yp,decode:Xp,parseXML:Vh,createVideo:Wh,onDeviceOrientationChange:Gh,offDeviceOrientationChange:Kh,postMessage:Qh,onMessage:Yh,getOpenDataContext:$h,createUserGameData:ev,updateUserGameData:tv,getPerformance:ep,setEnableDebug:Nf,triggerGC:sp,onMemoryWarning:op,createWorker:kv,checkIsUserAdvisedToRest:Jc,getUpdateManager:sg,getAd:Gg,openTencentGameContract:Bb,openTencentPrivacyContract:Lb,openUrl:Rb,openTencentBoardGameContract:jb,createRewardedVideoAd:ub,createIncentiveVideoAd:ub,createBannerAd:sb,createUserInfoButton:Ib,createGameClubButton:Eb,createOpenSettingButton:Pb,createFeedbackButton:Ob,loadSubpackage:n_,navigateToMiniProgram:xv,env:lg,getLogManager:rt}
;["login","getUserInfo","getShareInfo","getWeRunData"].forEach(function(e){var t=ST[e];ST[e]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ar(t,e)}}),Reporter.setAsGame();var kT=function(e,t){var n={};for(var r in e)d(n,e,r,t);return n}(ST,"gameSDKScriptError"),CT={wx:kT};gC(CT,br,ST),gC(CT,pr,ST),!0===Ir.karmaTest&&(CT=ST);t.default=CT}]).default,wx=__appServiceSDK__.wx;"undefined"!=typeof __exportGlobal__&&(__exportGlobal__.wx=wx);var __cloudSDK__=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./src/index.ts")}({"./node_modules/tslib/tslib.es6.js":function(e,t,n){function r(e,t){function n(){Object.defineProperty(this,"constructor",{value:e})}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n}function i(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})}function u(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=2&n[0]?i.return:n[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,i=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function l(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function v(e,t,n){function r(e){l[e]&&(u[e]=function(t){return new Promise(function(n,r){f.push([e,t,n,r])>1||o(e,t)})})}function o(e,t){try{i(l[e](t))}catch(e){c(f[0][3],e)}}function i(e){e.value instanceof h?Promise.resolve(e.value.v).then(a,s):c(f[0][2],e)}function a(e){o("next",e)}function s(e){o("throw",e)}function c(e,t){e(t),f.shift(),f.length&&o(f[0][0],f[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,l=n.apply(e,t||[]),f=[];return u={},r("next"),r("throw"),r("return"),u[Symbol.asyncIterator]=function(){return this},u}function g(e){function t(t,o){n[t]=e[t]?function(n){return(r=!r)?{value:h(e[t](n)),done:"return"===t}:o?o(n):n}:o}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function y(e){function t(t){r[t]=e[t]&&function(r){return new Promise(function(o,i){r=e[t](r),n(o,i,r.done,r.value)})}}function n(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=e[Symbol.asyncIterator];return o?o.call(e):(e="function"==typeof f?f(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r)}function m(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}n.r(t),n.d(t,"__extends",function(){return r}),n.d(t,"__assign",function(){return S}),n.d(t,"__rest",function(){return o}),n.d(t,"__decorate",function(){return i}),n.d(t,"__param",function(){return a}),n.d(t,"__metadata",function(){return s}),n.d(t,"__awaiter",function(){return c}),n.d(t,"__generator",function(){return u}),n.d(t,"__exportStar",function(){return l}),n.d(t,"__values",function(){return f}),n.d(t,"__read",function(){return d}),n.d(t,"__spread",function(){return p}),n.d(t,"__await",function(){return h}),n.d(t,"__asyncGenerator",function(){return v}),n.d(t,"__asyncDelegator",function(){return g}),n.d(t,"__asyncValues",function(){return y}),n.d(t,"__makeTemplateObject",function(){return m}),n.d(t,"__importStar",function(){return b}),n.d(t,"__importDefault",function(){return _});var w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},S.apply(this,arguments)}},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./src/cloud/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/tslib/tslib.es6.js"),o=n("./src/utils/error.ts"),i=n("./src/utils/type.ts"),a=n("./src/network/tunnel.ts"),s=n("./src/config/app.config.ts"),c=function(){function e(){this.inited=!1,this.services={},this.apiServiceMap={},wx.cloud=this.exportAPI={init:this.init.bind(this)},this.meta={session_id:(+new Date).toString()},this.defaultConfig={},this.appConfig=r.__assign({},s.default),this.apiPermissions={}}return e.prototype.getMetaData=function(){return this.meta},e.prototype.getDefaultConfig=function(){return this.defaultConfig},e.prototype.getOverriddenConfig=function(e){var t=r.__assign({},this.defaultConfig);return Object.assign(t,e),t},e.prototype.getEnv=function(e,t){if(e.env)switch(i.getType(e.env)){case"string":return e.env;case"object":return e.env[t];default:return}},e.prototype.init=function(e){void 0===e&&(e={}),this.inited||(this.inited=!0,this.defaultConfig=e,this.sendInitRequest())},e.prototype.sendInitRequest=function(){var e=this,t=JSON.stringify({trace_user:!1!==this.defaultConfig.traceUser});a.tunnel(a.constructTunnelReq("tcbapi_init",t)).then(function(t){var n=t.data;e.appConfig=r.__assign({},e.appConfig,n.config);for(var o=n.tcb_api_list||[],i=0,a=o.length;i<a;i++)e.apiPermissions[o[i].apiname]=o[i].status}).catch(function(e){console.error("cloud init error: ",e)})},e.prototype.registerService=function(e){this.services[e.name]=e;var t=e.getAPIs();for(var n in t)this.apiServiceMap[n]=e.name,this.registerFunction(n,t[n])},e.prototype.registerFunction=function(e,t){var n=this;this.exportAPI[e]=function(){if(!n.inited)throw new o.CloudSDKError({errMsg:"Cloud API isn't enabled, please call wx.cloud.init first\n请先调用 wx.cloud.init() 完成初始化后再调用其他云 API。init 方法可传入一个对象用于设置默认配置，详见文档。"});return t.apply(this,arguments)}},e}();t.Cloud=c;var u=new c;t.default=u},"./src/config/app.config.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={db_doc_size_limit:524288,upload_max_file_size:20971520,get_temp_file_url_max_requests:50,call_function_poll_max_retry:10,call_function_max_req_data_size:5242880}},"./src/config/error.config.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_CODE={"-1":"",UNKNOWN_ERROR:-1,"-401001":"api permission denied",SDK_API_PERMISSION_DENIED:-401001,"-401002":"api parameter error",SDK_API_PARAMETER_ERROR:-401002,"-401003":"api parameter type error",SDK_API_PARAMETER_TYPE_ERROR:-401003,"-402001":"circular reference detected",SDK_DATABASE_CIRCULAR_REFERENCE:-402001,"-403001":"max upload file size exceeded",SDK_STORAGE_EXCEED_MAX_UPLOAD_SIZE:-403001,"-404001":"empty call result",SDK_FUNCTIONS_EMPTY_CALL_RESULT:-404001,"-404002":"empty event id",SDK_FUNCTIONS_EMPTY_EVENT_ID:-404002,"-404003":"empty poll url",SDK_FUNCTIONS_EMPTY_POLL_URL:-404003,"-404004":"empty poll result json",SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON:-404004,"-404005":"exceed max poll retry",SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY:-404005,"-404006":"empty poll result base resp",SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP:-404006,"-404007":"error while waiting for the result",SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL:-404007,"-404008":"error while waiting for the result",SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR:-404008,"-404009":"error while waiting for the result",SDK_FUNCTIONS_POLL_ERROR:-404009,"-404010":"result expired",SDK_FUNCTIONS_POLL_RESULT_EXPIRED:-404010,"-404011":"cloud function execution error",SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR:-404011,"-601001":"system error",WX_SYSTEM_ERROR:-601001,"-601002":"system args error",WX_SYSTEM_ARGS_ERROR:-601002,"-601003":"system network error",WX_SYSTEM_NETWORK_ERROR:-601003,"-601004":"api permission denied",WX_API_PERMISSION_DENIED:-601004,"-501001":"resource system error",TCB_RESOURCE_SYSTEM_ERROR:-501001,"-501002":"resource server timeout",TCB_RESOURCE_SERVER_TIMEOUT:-501002,"-501003":"exceed request limit",TCB_EXCEED_REQUEST_LIMIT:-501003,"-501004":"exceed concurrent request limit",TCB_EXCEED_CONCURRENT_REQUEST_LIMIT:-501004,"-501005":"invalid env",TCB_INVALID_ENV:-501005,"-501006":"invalid common parameters",TCB_INVALID_COMMON_PARAM:-501006,"-501007":"invalid parameters",TCB_INVALID_PARAM:-501007,"-501008":"invalid request source",TCB_INVALID_REQUEST_SOURCE:-501008,"-501009":"resource not initialized",TCB_RESOURCE_NOT_INITIALIZED:-501009,"-502001":"database request fail",TCB_DB_REQUEST_FAIL:-502001,"-502002":"database invalid command",TCB_DB_INVALID_COMMAND:-502002,"-502003":"database permission denied",TCB_DB_PERMISSION_DENIED:-502003,"-502004":"database exceed collection limit",TCB_DB_EXCEED_COLLECTION_LIMIT:-502004,"-502005":"database collection not exists",TCB_DB_COLLECTION_NOT_EXISTS:-502005,"-503001":"storage request fail",TCB_STORAGE_REQUEST_FAIL:-503001,"-503002":"storage permission denied",TCB_STORAGE_PERMISSION_DENIED:-503002,"-503003":"storage file not exists",TCB_STORAGE_FILE_NOT_EXISTS:-503003,"-503004":"storage invalid sign parameter",TCB_STORAGE_INVALID_SIGN_PARAM:-503004,"-504001":"functions request fail",TCB_FUNCTIONS_REQUEST_FAIL:-504001,"-504002":"functions execute fail",TCB_FUNCTIONS_EXEC_FAIL:-504002}},"./src/externals/public-lib/appserviceSdk.ts":function(e,t,n){var r,o=n("./src/externals/public-lib/wx.ts");try{__appServiceSDK__._downloadFileSkipCheckDomain,r=__appServiceSDK__}catch(e){r={_uploadFileSkipCheckDomain:o.default.uploadFile,_downloadFileSkipCheckDomain:o.default.downloadFile,_requestSkipCheckDomain:o.default.request,_operateWXData:o.default.operateWXData}}e.exports=r},"./src/externals/public-lib/reporter.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/utils/fail-safe.ts");try{Reporter.surroundThirdByTryCatch,r=Reporter}catch(e){r={surroundThirdByTryCatch:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return o.tryCatch(function(){try{return e.apply(e,n)}catch(e){throw console.error(e.toString()+"; "+t+"\n"+e.stack),e}},t)}}}}t.default=r},"./src/externals/public-lib/wx.ts":function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n;try{wx.uploadFile,n=wx}catch(t){n={uploadFile:jest.fn(),downloadFile:jest.fn(),request:jest.fn(),operateWXData:jest.fn(),getFileInfo:jest.fn()},e.wx=n}t.default=n}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/hook/invoke.ts":function(e,t,n){function r(e,t,n){if(t.success&&u.isFunction(t.success)){l.wrapWithTryCatch(t.success,"at api "+e+" success callback function;")(n)}}function o(e,t,n){if(t.fail&&u.isFunction(t.fail)){l.wrapWithTryCatch(t.fail,"at api "+e+" fail callback function;")(n)}}function i(e,t,n){if(t.complete&&u.isFunction(t.complete)){l.wrapWithTryCatch(t.complete,"at api "+e+" complete callback function;")(n)}}function a(e,t,n){r(e,t,n),i(e,t,n)}function s(e,t,n){o(e,t,n),i(e,t,n)}function c(e){return e&&(e.success||e.fail||e.complete)}Object.defineProperty(t,"__esModule",{value:!0});var u=n("./src/utils/type.ts"),l=n("./src/utils/fail-safe.ts");t.invokeSuccessCallback=r,t.invokeFailCallback=o,t.invokeCompleteCallback=i,t.invokeSuccessCompleteCallbacks=a,t.invokeFailCompleteCallbacks=s,t.hasAPICallback=c},"./src/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./src/cloud/index.ts"),n("./src/services/index.ts")},"./src/network/tunnel.ts":function(e,t,n){function r(e,t){return new Promise(function(n,r){u._operateWXData({apiName:e.apiName||"qbase_commapi",reqData:e.data,success:function(e){var o=a.__assign({},e,{data:e.rawData});if(e.rawData)try{var i=JSON.parse(e.rawData);if(i.baseresponse&&0!==i.baseresponse.errcode){var s=new c.CloudSDKError({errCode:i.baseresponse.errcode,errMsg:i.baseresponse.errmsg});return void r(s)}if(i.hasOwnProperty("status")&&0!==i.status){var s=new c.CloudSDKError({errCode:i.status,errMsg:i.errmsg||""});return void r(s)}o=a.__assign({},e,{data:i})}catch(e){var s=new c.CloudSDKError({errMsg:e&&e.toString()});return void r(s)}else if(t&&t.requireDataNotEmpty){var s=new c.CloudSDKError({errCode:e.errCode,errMsg:"error empty internal server response, "+e.errMsg});return void r(s)}n(o)},fail:function(e){e&&e.errMsg&&/^undefined:fail /.test(e.errMsg)&&("undefined:fail invalid scope"===e.errMsg?e.errMsg="invalid scope 没有权限，请先开通云服务":e.errMsg=e.errMsg.replace(/^undefined:fail /,"")),r(e)},complete:e.complete})})}function o(e,t,n){var r=s.default.getOverriddenConfig(n||{});if(!i(e))throw c.returnAsCloudSDKError({errCode:l.ERR_CODE.SDK_API_PERMISSION_DENIED,errMsg:l.ERR_CODE[l.ERR_CODE.SDK_API_PERMISSION_DENIED]});return{apiName:"qbase_commapi",data:{qbase_api_name:e,qbase_req:t,qbase_options:{env:s.default.getEnv(r,n&&n.serviceName||"")},qbase_meta:s.default.getMetaData(),cli_req_id:+new Date+"_"+Math.random()}}}function i(e){return!s.default.apiPermissions.hasOwnProperty(e)||1===s.default.apiPermissions[e]}Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/tslib/tslib.es6.js"),s=n("./src/cloud/index.ts"),c=n("./src/utils/error.ts"),u=n("./src/externals/public-lib/appserviceSdk.ts"),l=n("./src/config/error.config.ts");t.tunnel=r,t.constructTunnelReq=o,t.default=r},"./src/services/database/api/api.ts":function(e,t,n){function r(){return{database:o.default}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./src/services/database/api/database.ts");t.getAPIs=r},"./src/services/database/api/database.ts":function(e,t,n){function r(e){return new h(e)}function o(e){return e.debug}function i(e){return o(e)?e.engine.QuerySerializer:void 0}function a(e){return o(e)?e.engine.UpdateSerializer:void 0}function s(e){return o(e)?e.engine.Decoder:void 0}Object.defineProperty(t,"__esModule",{value:!0});var c=n("./src/services/database/api/database/command.ts"),u=n("./src/services/database/api/database/collection.ts"),l=n("./src/services/database/api/database/geo.ts"),f=n("./src/services/database/api/database/date.ts"),d=n("./src/services/database/internal/grammar/engine.ts"),p=n("./src/utils/assert.ts");t.default=r;var h=function(){function e(e){var t=this;this.config=e||{},e&&e.env&&p.assertType(e.env,"string"),this.command=c.commands,this.Geo=l,this.serverDate=f.serverDate,this.engine=d.getEngine(),Object.defineProperties(this,{engine:{enumerable:!1,configurable:!1}}),Object.defineProperties(this,{QuerySerializer:{enumerable:!1,configurable:!1,get:function(){return i(t)},set:function(){}},UpdateSerializer:{enumerable:!1,configurable:!1,get:function(){return a(t)},set:function(){}},Decoder:{enumerable:!1,configurable:!1,get:function(){return s(t)},set:function(){}}})}return e.prototype.collection=function(e){return new u.CollectionReference(e,this)},e}();t.Database=h},"./src/services/database/api/database/collection.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/tslib/tslib.es6.js"),o=n("./src/services/database/api/database/query.ts"),i=n("./src/services/database/api/database/document.ts"),a=n("./src/hook/invoke.ts"),s=n("./src/services/database/internal/backend-api/backend-api.ts"),c=n("./src/utils/msg.ts"),u=n("./src/utils/error.ts"),l=n("./src/utils/assert.ts"),f=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.collectionName=t,r.database=n,r}return r.__extends(t,e),t.prototype.doc=function(e){return new i.DocumentReference(this,e,this.database)},t.prototype.add=function(e){var t=this,n="collection.add",o=a.hasAPICallback(e),i=new Promise(function(o,i){return r.__awaiter(t,void 0,void 0,function(){var t,a;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),l.assertType(e,{data:"object"}),[4,s.addDocument(this.collectionName,e.data._id,this.database.engine.encodeInternalDataType(e.data),this.database.config)];case 1:return t=r.sent(),o({_id:t._id,errMsg:c.apiSuccessMsg(n)}),[3,3];case 2:return a=r.sent(),i(u.returnAsFinalCloudSDKError(a,n)),[3,3];case 3:return[2]}})})});if(!o)return i;i.then(function(t){a.invokeSuccessCompleteCallbacks(n,e,t)}).catch(function(t){a.invokeFailCompleteCallbacks(n,e,t)})},t}(o.Query);t.CollectionReference=f},"./src/services/database/api/database/command.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/services/database/api/database/commands/query.ts"),o=n("./src/services/database/api/database/commands/logic.ts"),i=n("./src/services/database/api/database/commands/update.ts"),a=n("./src/utils/type.ts");t.commands={eq:function(e){return new r.QueryCommmand(r.QUERY_COMMANDS_LITERAL.EQ,[e])},neq:function(e){return new r.QueryCommmand(r.QUERY_COMMANDS_LITERAL.NEQ,[e])},lt:function(e){return new r.QueryCommmand(r.QUERY_COMMANDS_LITERAL.LT,[e])},lte:function(e){return new r.QueryCommmand(r.QUERY_COMMANDS_LITERAL.LTE,[e])},gt:function(e){return new r.QueryCommmand(r.QUERY_COMMANDS_LITERAL.GT,[e])},gte:function(e){return new r.QueryCommmand(r.QUERY_COMMANDS_LITERAL.GTE,[e])},in:function(e){return new r.QueryCommmand(r.QUERY_COMMANDS_LITERAL.IN,e)},nin:function(e){return new r.QueryCommmand(r.QUERY_COMMANDS_LITERAL.NIN,e)},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new o.LogicCommmand(o.LOGIC_COMMANDS_LITERAL.AND,n)},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new o.LogicCommmand(o.LOGIC_COMMANDS_LITERAL.OR,n)},set:function(e){return new i.UpdateCommand(i.UPDATE_COMMANDS_LITERAL.SET,[e])},remove:function(){return new i.UpdateCommand(i.UPDATE_COMMANDS_LITERAL.REMOVE,[])},inc:function(e){return new i.UpdateCommand(i.UPDATE_COMMANDS_LITERAL.INC,[e])},mul:function(e){return new i.UpdateCommand(i.UPDATE_COMMANDS_LITERAL.MUL,[e])},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new i.UpdateCommand(i.UPDATE_COMMANDS_LITERAL.PUSH,n)},pop:function(){return new i.UpdateCommand(i.UPDATE_COMMANDS_LITERAL.POP,[])},shift:function(){return new i.UpdateCommand(i.UPDATE_COMMANDS_LITERAL.SHIFT,[])},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new i.UpdateCommand(i.UPDATE_COMMANDS_LITERAL.UNSHIFT,n)}},t.default=t.commands},"./src/services/database/api/database/commands/logic.ts":function(e,t,n){function r(e){return e&&e instanceof l&&e._internalType===i.SYMBOL_LOGIC_COMMAND}function o(e){return r&&e.operator.toUpperCase()in u}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/services/database/api/database/helper/symbol.ts"),a=n("./src/utils/assert.ts"),s=n("./src/utils/type.ts"),c=n("./src/services/database/api/database/commands/query.ts");t.AND="and",t.OR="or",t.NOT="not",t.NOR="nor";var u;!function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(u=t.LOGIC_COMMANDS_LITERAL||(t.LOGIC_COMMANDS_LITERAL={}));var l=function(){function e(e,t,n){this._internalType=i.SYMBOL_LOGIC_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t;this.fieldName=n||i.SYMBOL_UNSET_FIELD_NAME;if(this.fieldName!==i.SYMBOL_UNSET_FIELD_NAME){t=t.slice(),this.operands=t;for(var o=0,a=t.length;o<a;o++){var s=t[o];(r(s)||c.isQueryCommand(s))&&(t[o]=s._setFieldName(this.fieldName))}}}return e.prototype._setFieldName=function(t){var n=this.operands.map(function(n){return n instanceof e?n._setFieldName(t):n});return new e(this.operator,n,t)},e.prototype.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];a.assertRequiredParam(arguments[0],"expressions","and");var r=s.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(u.AND,r,this.fieldName)},e.prototype.or=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];a.assertRequiredParam(arguments[0],"expressions","or");var r=s.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(u.OR,r,this.fieldName)},e}();t.LogicCommmand=l,t.isLogicCommand=r,t.isKnownLogicCommand=o,t.default=l},"./src/services/database/api/database/commands/query.ts":function(e,t,n){function r(e){return e&&e instanceof f&&e._internalType===c.SYMBOL_QUERY_COMMAND}function o(e){return r(e)&&e.operator.toUpperCase()in l}function i(e){return r(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/tslib/tslib.es6.js"),s=n("./src/services/database/api/database/commands/logic.ts"),c=n("./src/services/database/api/database/helper/symbol.ts"),u=n("./src/utils/assert.ts");t.EQ="eq",t.NEQ="neq",t.GT="gt",t.GTE="gte",t.LT="lt",t.LTE="lte",t.IN="in",t.NIN="nin";var l;!function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin"}(l=t.QUERY_COMMANDS_LITERAL||(t.QUERY_COMMANDS_LITERAL={}));var f=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.operator=t,o._internalType=c.SYMBOL_QUERY_COMMAND,o}return a.__extends(t,e),t.prototype._setFieldName=function(e){return new t(this.operator,this.operands,e)},t.prototype.eq=function(e){var n=new t(l.EQ,[e],this.fieldName);return this.and(n)},t.prototype.neq=function(e){var n=new t(l.NEQ,[e],this.fieldName);return this.and(n)},t.prototype.gt=function(e){var n=new t(l.GT,[e],this.fieldName);return this.and(n)},t.prototype.gte=function(e){var n=new t(l.GTE,[e],this.fieldName);return this.and(n)},t.prototype.lt=function(e){var n=new t(l.LT,[e],this.fieldName);return this.and(n)},t.prototype.lte=function(e){var n=new t(l.LTE,[e],this.fieldName);return this.and(n)},t.prototype.in=function(e){u.assertType(e,"array");var n=new t(l.IN,e,this.fieldName);return this.and(n)},t.prototype.nin=function(e){u.assertType(e,"array");var n=new t(l.NIN,e,this.fieldName);return this.and(n)},t}(s.LogicCommmand);t.QueryCommmand=f,t.isQueryCommand=r,t.isKnownQueryCommand=o,t.isComparisonCommand=i,t.default=f},"./src/services/database/api/database/commands/update.ts":function(e,t,n){function r(e){return e&&e instanceof s&&e._internalType===i.SYMBOL_UPDATE_COMMAND}function o(e){return r(e)&&e.operator.toUpperCase()in a}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/services/database/api/database/helper/symbol.ts");t.SET="set",t.REMOVE="remove",t.INC="inc",t.MUL="mul",t.PUSH="push",t.POP="pop",t.SHIFT="shift",t.UNSHIFT="unshift";var a;!function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.PUSH="push",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift"}(a=t.UPDATE_COMMANDS_LITERAL||(t.UPDATE_COMMANDS_LITERAL={}));var s=function(){function e(e,t,n){this._internalType=i.SYMBOL_UPDATE_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||i.SYMBOL_UNSET_FIELD_NAME}return e.prototype._setFieldName=function(t){return new e(this.operator,this.operands,t)},e}();t.UpdateCommand=s,t.isUpdateCommand=r,t.isKnownUpdateCommand=o,t.default=s},"./src/services/database/api/database/date.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./node_modules/tslib/tslib.es6.js").__exportStar(n("./src/services/database/api/database/date/serverDate.ts"),t)},"./src/services/database/api/database/date/serverDate.ts":function(e,t,n){function r(e){return new a(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./src/services/database/api/database/helper/symbol.ts"),i=n("./src/utils/assert.ts");t.serverDate=r;var a=function(){function e(e){void 0===e&&(e={offset:0}),i.assertType(e,"object","serverDate.options"),this.options=e}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return o.SYMBOL_SERVER_DATE},enumerable:!0,configurable:!0}),e}();t.ServerDate=a},"./src/services/database/api/database/document.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/tslib/tslib.es6.js"),o=n("./src/hook/invoke.ts"),i=n("./src/services/database/internal/backend-api/backend-api.ts"),a=n("./src/utils/msg.ts"),s=n("./src/utils/error.ts"),c=n("./src/services/database/internal/grammar/default/extractor.ts"),u=n("./src/utils/assert.ts"),l=function(){function e(e,t,n){this.collection=e,this.database=n,this._id=t,Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field={}}return e.prototype.field=function(e){return u.assertRequiredParam(e,"object","field"),u.assertType(e,"object","field"),this._field=e,this},e.prototype.get=function(e){var t=this,n=o.hasAPICallback(e),u=new Promise(function(e,n){return r.__awaiter(t,void 0,void 0,function(){var t,o,u;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this._id,[4,i.queryDocument(this.database,this.collection.collectionName,this.database.engine.QuerySerializer.encode({_id:t}),{projection:c.getProjectionDefinition(this._field)},this.database.config)];case 1:if(o=r.sent(),!o.list||!o.list.length)throw new Error("document with _id "+t+" does not exist");return e({data:o.list[0],errMsg:a.apiSuccessMsg("document.get")}),[3,3];case 2:return u=r.sent(),n(s.returnAsFinalCloudSDKError(u,"document.get")),[3,3];case 3:return[2]}})})});if(!n)return u;u.then(function(t){o.invokeSuccessCompleteCallbacks("document.get",e,t)}).catch(function(t){o.invokeFailCompleteCallbacks("document.get",e,t)})},e.prototype.set=function(e){var t=this,n=o.hasAPICallback(e),c=new Promise(function(n,o){return r.__awaiter(t,void 0,void 0,function(){var t,c,l;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),u.assertType(e,{data:"object"}),u.assertObjectNotEmpty({name:"options.data",target:e.data}),t=this._id,[4,i.setDocument(this.collection.collectionName,t,e.data,{},this.database.config)];case 1:return c=r.sent(),n({_id:c._id,errMsg:a.apiSuccessMsg("document.set"),stats:{updated:c.updated,created:c.created}}),[3,3];case 2:return l=r.sent(),o(s.returnAsFinalCloudSDKError(l,"document.set")),[3,3];case 3:return[2]}})})});if(!n)return c;c.then(function(t){o.invokeSuccessCompleteCallbacks("document.set",e,t)}).catch(function(t){o.invokeFailCompleteCallbacks("document.set",e,t)})},e.prototype.update=function(e){var t=this,n=o.hasAPICallback(e),c=new Promise(function(n,o){return r.__awaiter(t,void 0,void 0,function(){var t,c,l;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),u.assertType(e,{data:"object"}),u.assertObjectNotEmpty({name:"options.data",target:e.data}),t=this._id,[4,i.updateDocument(this.collection.collectionName,this.database.engine.QuerySerializer.encode({_id:t}),this.database.engine.UpdateSerializer.encode(e.data),{multi:!1,merge:!1},this.database.config)];case 1:return c=r.sent(),n({stats:{updated:c.updated},errMsg:a.apiSuccessMsg("document.update")}),[3,3];case 2:return l=r.sent(),o(s.returnAsFinalCloudSDKError(l,"document.update")),[3,3];case 3:return[2]}})})});if(!n)return c;c.then(function(t){o.invokeSuccessCompleteCallbacks("document.update",e,t)}).catch(function(t){o.invokeFailCompleteCallbacks("document.update",e,t)})},e.prototype.remove=function(e){var t=this,n=o.hasAPICallback(e),c=new Promise(function(e,n){return r.__awaiter(t,void 0,void 0,function(){var t,o,c;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this._id,[4,i.removeDocument(this.collection.collectionName,this.database.engine.QuerySerializer.encode({_id:t}),{},this.database.config)];case 1:return o=r.sent(),e({stats:{removed:o.removed||0},errMsg:a.apiSuccessMsg("document.remove")}),[3,3];case 2:return c=r.sent(),n(s.returnAsFinalCloudSDKError(c,"document.remove")),[3,3];case 3:return[2]}})})});if(!n)return c;c.then(function(t){o.invokeSuccessCompleteCallbacks("document.remove",e,t)}).catch(function(t){o.invokeFailCompleteCallbacks("document.remove",e,t)})},e}();t.DocumentReference=l},"./src/services/database/api/database/geo.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./node_modules/tslib/tslib.es6.js").__exportStar(n("./src/services/database/api/database/geo/point.ts"),t)},"./src/services/database/api/database/geo/point.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/services/database/api/database/helper/symbol.ts"),o=n("./src/utils/assert.ts"),i=n("./src/utils/error.ts");t.Point=function(e,t){return new a(e,t)};var a=function(){function e(e,t){this._internalType=r.SYMBOL_GEO_POINT,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}});var n=e,a=t;Object.defineProperties(this,{longitude:{enumerable:!0,configurable:!1,
get:function(){return n},set:function(e){if(o.assertType(e,"number","longitude"),e>180||e<-180)throw new i.CloudSDKError({errMsg:"longitude should be a number ranges from -180 to 180"})}},latitude:{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){if(o.assertType(e,"number","latitude"),e>90||e<-90)throw new i.CloudSDKError({errMsg:"latitude should be a number ranges from -90 to 90"})}}}),this.longitude=n,this.latitude=a}return e.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},e.prototype.toString=function(){return JSON.stringify(this.toJSON())},e}();t.GeoPoint=a},"./src/services/database/api/database/helper/symbol.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/tslib/tslib.es6.js"),o=n("./src/utils/symbol.ts");r.__exportStar(n("./src/utils/symbol.ts"),t),t.SYMBOL_UNSET_FIELD_NAME=o.default.for("UNSET_FIELD_NAME"),t.SYMBOL_UPDATE_COMMAND=o.default.for("UPDATE_COMMAND"),t.SYMBOL_QUERY_COMMAND=o.default.for("QUERY_COMMAND"),t.SYMBOL_LOGIC_COMMAND=o.default.for("LOGIC_COMMAND"),t.SYMBOL_GEO_POINT=o.default.for("GEO_POINT"),t.SYMBOL_SERVER_DATE=o.default.for("SERVER_DATE")},"./src/services/database/api/database/query.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/tslib/tslib.es6.js"),o=n("./src/utils/msg.ts"),i=n("./src/services/database/internal/grammar/default/extractor.ts"),a=n("./src/utils/assert.ts"),s=n("./src/services/database/internal/backend-api/backend-api.ts"),c=n("./src/hook/invoke.ts"),u=n("./src/utils/error.ts"),l=n("./src/services/database/api/database/command.ts");!function(e){e.ASC="asc",e.DESC="desc"}(t.ORDER_DIRECTION||(t.ORDER_DIRECTION={}));var f=function(){function e(e,t,n){this.collectionName=e,this.database=t,this._query=new d(n),Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field=n&&n.field||{}}return e.prototype.field=function(t){return a.assertRequiredParam(t,"object","field"),new e(this.collectionName,this.database,r.__assign({},this._query.getProperties(),{field:t}))},e.prototype.where=function(t){return a.assertRequiredParam(t,"condition","where"),this._query.where?new e(this.collectionName,this.database,r.__assign({},this._query.getProperties(),{where:l.commands.and(this._query.where,t)})):new e(this.collectionName,this.database,r.__assign({},this._query.getProperties(),{where:t}))},e.prototype.orderBy=function(t,n){return a.assertRequiredParam(t,"fieldPath","orderBy"),a.assertRequiredParam(n,"order","orderBy"),new e(this.collectionName,this.database,r.__assign({},this._query.getProperties(),{order:r.__spread(this._query.order||[],[{fieldPath:t,order:n}])}))},e.prototype.limit=function(t){return a.assertRequiredParam(t,"max","limit"),new e(this.collectionName,this.database,r.__assign({},this._query.getProperties(),{limit:t}))},e.prototype.skip=function(t){return a.assertRequiredParam(t,"offset","skip"),new e(this.collectionName,this.database,r.__assign({},this._query.getProperties(),{offset:t}))},e.prototype.get=function(e){var t=this,n="collection.get",a=c.hasAPICallback(e),l=new Promise(function(e,a){return r.__awaiter(t,void 0,void 0,function(){var t,c;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,s.queryDocument(this.database,this.collectionName,this.database.engine.QuerySerializer.encode(this._query.where||{}),i.extractQueryOptions(this),this.database.config)];case 1:return t=r.sent(),e({data:t.list,errMsg:o.apiSuccessMsg(n)}),[3,3];case 2:return c=r.sent(),a(u.returnAsFinalCloudSDKError(c,n)),[3,3];case 3:return[2]}})})});if(!a)return l;l.then(function(t){c.invokeSuccessCompleteCallbacks(n,e,t)}).catch(function(t){c.invokeFailCompleteCallbacks(n,e,t)})},e.prototype.count=function(e){var t=this,n="collection.count",i=c.hasAPICallback(e),a=new Promise(function(e,i){return r.__awaiter(t,void 0,void 0,function(){var t,a;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,s.countDocument(this.collectionName,this.database.engine.QuerySerializer.encode(this._query.where||{}),this.database.config)];case 1:return t=r.sent(),e({total:t.total,errMsg:o.apiSuccessMsg(n)}),[3,3];case 2:return a=r.sent(),i(u.returnAsFinalCloudSDKError(a,n)),[3,3];case 3:return[2]}})})});if(!i)return a;a.then(function(t){c.invokeSuccessCompleteCallbacks(n,e,t)}).catch(function(t){c.invokeFailCompleteCallbacks(n,e,t)})},e}();t.Query=f;var d=function(){function e(e){this.where=e&&e.where,this.offset=e&&e.offset,this.limit=e&&e.limit,this.order=e&&e.order}return e.prototype.getProperties=function(){return{where:this.where,offset:this.offset,limit:this.limit,order:this.order}},e}();t.InternalQuery=d},"./src/services/database/index.ts":function(e,t,n){function r(){return{name:s,getAPIs:a.getAPIs}}function o(e){e.registerService(r())}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/cloud/index.ts"),a=n("./src/services/database/api/api.ts"),s="database";t.registerService=o,o(i.default)},"./src/services/database/internal/backend-api/backend-api.ts":function(e,t,n){function r(e,t,n,r){return u.__awaiter(this,void 0,void 0,function(){var o,i,a,s,c;return u.__generator(this,function(p){switch(p.label){case 0:return o=JSON.stringify(n),f.assertStringLength({input:o,max:d.default.appConfig.db_doc_size_limit,name:"record",maxWording:(d.default.appConfig.db_doc_size_limit/1024).toFixed(0)+" KB"}),i={collection_name:e,_id:t,data:o},a=JSON.stringify(i),[4,l.tunnel(l.constructTunnelReq("tcbapi_db_adddocument",a,u.__assign({},r,{serviceName:"database"})),{requireDataNotEmpty:!0})];case 1:return s=p.sent(),c=s.data,[2,{_id:c._id}]}})})}function o(e,t,n,r){var o=(void 0===n?{}:n).multi,i=void 0===o||o;return u.__awaiter(this,void 0,void 0,function(){var n,o,a;return u.__generator(this,function(s){switch(s.label){case 0:return n=JSON.stringify({collection_name:e,query:JSON.stringify(t),multi:i}),[4,l.tunnel(l.constructTunnelReq("tcbapi_db_deletedocument",n,u.__assign({},r,{serviceName:"database"})),{requireDataNotEmpty:!0})];case 1:return o=s.sent(),a=o.data,[2,{removed:a.deleted}]}})})}function i(e,t,n,r,o){return void 0===r&&(r={}),u.__awaiter(this,void 0,void 0,function(){var i,a,s,c,f;return u.__generator(this,function(d){switch(d.label){case 0:return i={collection_name:t,query:JSON.stringify(n)},r.offset&&(i.offset=r.offset),r.limit&&(i.limit=r.limit),r.order&&(i.order=r.order),r.projection&&(i.projection=JSON.stringify(r.projection)),a=JSON.stringify(i),[4,l.tunnel(l.constructTunnelReq("tcbapi_db_querydocument",a,u.__assign({},o,{serviceName:"database"})),{requireDataNotEmpty:!0})];case 1:return s=d.sent(),c=s.data,f=c.data_list?JSON.parse(c.data_list):[],f=e.engine.Decoder.decode(f),[2,{list:f,offset:c.offset,limit:c.limit,total:c.total}]}})})}function a(e,t,n,r,o){return void 0===r&&(r={}),u.__awaiter(this,void 0,void 0,function(){var i,a,s,c,p;return u.__generator(this,function(h){switch(h.label){case 0:return i=JSON.stringify(n),f.assertStringLength({input:i,max:d.default.appConfig.db_doc_size_limit,name:"update expression",maxWording:(d.default.appConfig.db_doc_size_limit/1024).toFixed(0)+" KB"}),a={collection_name:e,query:JSON.stringify(t),data:i},a.multi=!1!==r.multi,a.merge=!1!==r.merge,r.upsert&&(a.upsert=r.upsert),s=JSON.stringify(a),[4,l.tunnel(l.constructTunnelReq("tcbapi_db_updatedocument",s,u.__assign({},o,{serviceName:"database"})),{requireDataNotEmpty:!0})];case 1:return c=h.sent(),p=c.data,[2,{updated:p.updated}]}})})}function s(e,t,n,r,o){return void 0===r&&(r={}),u.__awaiter(this,void 0,void 0,function(){var r,i,a,s,c;return u.__generator(this,function(p){switch(p.label){case 0:return r=JSON.stringify(n),f.assertStringLength({input:r,max:d.default.appConfig.db_doc_size_limit,name:"record",maxWording:(d.default.appConfig.db_doc_size_limit/1024).toFixed(0)+" KB"}),i={collection_name:e,_id:t,data:r},a=JSON.stringify(i),[4,l.tunnel(l.constructTunnelReq("tcbapi_db_setdocument",a,u.__assign({},o,{serviceName:"database"})),{requireDataNotEmpty:!0})];case 1:return s=p.sent(),c=s.data,[2,{_id:c._id||t,updated:c._id?0:1,created:c._id?1:0}]}})})}function c(e,t,n){return u.__awaiter(this,void 0,void 0,function(){var r,o,i,a;return u.__generator(this,function(s){switch(s.label){case 0:return r={collection_name:e,query:JSON.stringify(t)},o=JSON.stringify(r),[4,l.tunnel(l.constructTunnelReq("tcbapi_db_countdocument",o,u.__assign({},n,{serviceName:"database"})),{requireDataNotEmpty:!0})];case 1:return i=s.sent(),a=i.data,[2,{total:a.total}]}})})}Object.defineProperty(t,"__esModule",{value:!0});var u=n("./node_modules/tslib/tslib.es6.js"),l=n("./src/network/tunnel.ts"),f=n("./src/utils/assert.ts"),d=n("./src/cloud/index.ts");!function(e){e[e.ASC=0]="ASC",e[e.DESC=1]="DESC"}(t.ORDER_DIRECTION||(t.ORDER_DIRECTION={})),t.addDocument=r,t.removeDocument=o,t.queryDocument=i,t.updateDocument=a,t.setDocument=s,t.countDocument=c},"./src/services/database/internal/grammar/default/extractor.ts":function(e,t,n){function r(e){return{limit:e._query.limit,offset:e._query.offset,order:(e._query.order||[]).map(function(e){return{field:e.fieldPath,direction:e.order===i.ORDER_DIRECTION.DESC?a.ORDER_DIRECTION.DESC:a.ORDER_DIRECTION.ASC}}),projection:o(e._field)}}function o(e){var t=s.flattenObject(e);for(var n in t)!0===t[n]||1===t[n]?t[n]=1:!1===t[n]||0===t[n]?t[n]=0:delete t[n];return t}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/services/database/api/database/query.ts"),a=n("./src/services/database/internal/backend-api/backend-api.ts"),s=n("./src/services/database/internal/grammar/default/serializer/common.ts");t.extractQueryOptions=r,t.getProjectionDefinition=o},"./src/services/database/internal/grammar/default/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/tslib/tslib.es6.js");r.__exportStar(n("./src/services/database/internal/grammar/default/extractor.ts"),t),r.__exportStar(n("./src/services/database/internal/grammar/default/operator-map.ts"),t),r.__exportStar(n("./src/services/database/internal/grammar/default/serializer.ts"),t)},"./src/services/database/internal/grammar/default/operator-map.ts":function(e,t,n){function r(e){return t.OperatorMap[e]||"$"+e.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./src/services/database/api/database/commands/query.ts"),i=n("./src/services/database/api/database/commands/logic.ts"),a=n("./src/services/database/api/database/commands/update.ts");t.OperatorMap={};for(var s in o.QUERY_COMMANDS_LITERAL)t.OperatorMap[s]="$"+s.toLowerCase();for(var s in i.LOGIC_COMMANDS_LITERAL)t.OperatorMap[s]="$"+s.toLowerCase();for(var s in a.UPDATE_COMMANDS_LITERAL)t.OperatorMap[s]="$"+s.toLowerCase();t.OperatorMap[o.QUERY_COMMANDS_LITERAL.NEQ]="$ne",t.OperatorMap[a.UPDATE_COMMANDS_LITERAL.REMOVE]="$unset",t.OperatorMap[a.UPDATE_COMMANDS_LITERAL.SHIFT]="$pop",t.OperatorMap[a.UPDATE_COMMANDS_LITERAL.UNSHIFT]="$push",t.operatorToString=r},"./src/services/database/internal/grammar/default/serializer.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/tslib/tslib.es6.js");r.__exportStar(n("./src/services/database/internal/grammar/default/serializer/query.ts"),t),r.__exportStar(n("./src/services/database/internal/grammar/default/serializer/update.ts"),t),r.__exportStar(n("./src/services/database/internal/grammar/default/serializer/decoder.ts"),t),r.__exportStar(n("./src/services/database/internal/grammar/default/serializer/common.ts"),t)},"./src/services/database/internal/grammar/default/serializer/common.ts":function(e,t,n){function r(e,t,n,o){var i=l.__assign({},e);for(var a in e)if(!/^\$/.test(a)){var s=e[a];if(s&&p.isObject(s)&&!t(s)){if(o.indexOf(s)>-1)throw new f.CloudSDKError({errCode:d.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});var c=l.__spread(n,[a]),u=l.__spread(o,[s]),h=r(s,t,c,u);i[a]=h;var v=!1;for(var g in h)/^\$/.test(g)?v=!0:(i[a+"."+g]=h[g],delete i[a][g]);v||delete i[a]}}return i}function o(e){return r(e,s,[],[e])}function i(e){return r(e,function(e){return!1},[],[e])}function a(e,t,n){t[n]||delete e[n];for(var r in t)e[r]?p.isArray(e[r])?e[r].push(t[r]):p.isObject(e[r])?p.isObject(t[r])?Object.assign(e[r],t[r]):(console.warn("unmergable condition, query is object but condition is "+p.getType(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+p.getType(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]}function s(e){return p.isInternalObject(e)||p.isDate(e)}function c(e){return h.serialize(e)}function u(e){return h.deserialize(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/tslib/tslib.es6.js"),f=n("./src/utils/error.ts"),d=n("./src/config/error.config.ts"),p=n("./src/utils/type.ts"),h=n("./src/services/database/internal/grammar/default/serializer/datatype.ts");t.flattenQueryObject=o,t.flattenObject=i,t.mergeConditionAfterEncode=a,t.isConversionRequired=s,t.encodeInternalDataType=c,t.decodeInternalDataType=u},"./src/services/database/internal/grammar/default/serializer/datatype.ts":function(e,t,n){function r(e){return o(e,[e])}function o(e,t){if(!c.isInternalObject(e)){if(c.isDate(e))return{$date:+e};if(c.isArray(e))return e.map(function(e){if(t.indexOf(e)>-1)throw new f.CloudSDKError({errCode:d.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});return o(e,a.__spread(t,[e]))});if(c.isObject(e)){var n=a.__assign({},e);for(var r in n){if(t.indexOf(n[r])>-1)throw new f.CloudSDKError({errCode:d.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});n[r]=o(n[r],a.__spread(t,[n[r]]))}return n}return e}switch(e._internalType){case s.SYMBOL_GEO_POINT:return e.toJSON();case s.SYMBOL_SERVER_DATE:return{$date:e.options};default:return e.toJSON?e.toJSON():e}}function i(e){var t=a.__assign({},e);for(var n in t)switch(n){case"$date":switch(c.getType(t[n])){case"number":return new Date(t[n]);case"object":return l.serverDate(t[n])}break;case"type":switch(t.type){case"Point":if(c.isArray(t.coordinates)&&c.isNumber(t.coordinates[0])&&c.isNumber(t.coordinates[1]))return new u.Point(t.coordinates[0],t.coordinates[1])}}return e}Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/tslib/tslib.es6.js"),s=n("./src/services/database/api/database/helper/symbol.ts"),c=n("./src/utils/type.ts"),u=n("./src/services/database/api/database/geo.ts"),l=n("./src/services/database/api/database/date.ts"),f=n("./src/utils/error.ts"),d=n("./src/config/error.config.ts");t.serialize=r,t.deserialize=i},"./src/services/database/internal/grammar/default/serializer/decoder.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/tslib/tslib.es6.js"),o=n("./src/utils/type.ts"),i=n("./src/services/database/internal/grammar/default/serializer/common.ts"),a=function(){function e(){}return e.decode=function(t){return(new e).decodeData(t)},e.prototype.decodeData=function(e){var t=this;switch(o.getType(e)){case"object":return this.decodeObject(e);case"array":return e.map(function(e){if(o.isObject(e)){var n=i.decodeInternalDataType(e);return n!==e?n:t.decodeObject(e)}return e});default:return e}},e.prototype.decodeObject=function(e){var t=r.__assign({},e);for(var n in t){var a=t[n];switch(o.getType(a)){case"object":var s=i.decodeInternalDataType(a);t[n]=s!==a?s:this.decodeObject(t[n]);break;case"array":var s=this.decodeData(a);s!==a&&(t[n]=s);break;default:continue}}return t},e}();t.Decoder=a},"./src/services/database/internal/grammar/default/serializer/query.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/services/database/api/database/commands/query.ts"),o=n("./src/services/database/api/database/commands/logic.ts"),i=n("./src/services/database/api/database/helper/symbol.ts"),a=n("./src/utils/type.ts"),s=n("./src/utils/error.ts"),c=n("./src/services/database/internal/grammar/default/operator-map.ts"),u=n("./src/services/database/internal/grammar/default/serializer/common.ts"),l=function(){function e(){}return e.encode=function(e){return(new f).encodeQuery(e)},e}();t.QuerySerializer=l;var f=function(){function e(){}return e.prototype.encodeQuery=function(e){return u.isConversionRequired(e)?o.isLogicCommand(e)?this.encodeLogicCommand(e):r.isQueryCommand(e)?this.encodeQueryCommand(e):this.encodeQueryObject(e):a.isObject(e)?this.encodeQueryObject(e):e},e.prototype.encodeLogicCommand=function(e){var t,n,r;switch(e.operator){case o.LOGIC_COMMANDS_LITERAL.AND:case o.LOGIC_COMMANDS_LITERAL.OR:var i=c.operatorToString(e.operator),a=e.operands.map(this.encodeQuery.bind(this));return t={},t[i]=a,t;default:var i=c.operatorToString(e.operator);if(1===e.operands.length){var s=this.encodeQuery(e.operands[0]);return n={},n[i]=s,n}var a=e.operands.map(this.encodeQuery.bind(this));return r={},r[i]=a,r}},e.prototype.encodeQueryCommand=function(e){return r.isComparisonCommand(e),this.encodeComparisonCommand(e)},e.prototype.encodeComparisonCommand=function(e){var t,n,o,a,l,f;if(e.fieldName===i.SYMBOL_UNSET_FIELD_NAME)throw new s.CloudSDKError({errMsg:"Cannot encode a comparison command with unset field name"});var d=c.operatorToString(e.operator);switch(e.operator){case r.QUERY_COMMANDS_LITERAL.EQ:case r.QUERY_COMMANDS_LITERAL.NEQ:case r.QUERY_COMMANDS_LITERAL.LT:case r.QUERY_COMMANDS_LITERAL.LTE:case r.QUERY_COMMANDS_LITERAL.GT:case r.QUERY_COMMANDS_LITERAL.GTE:return t={},t[e.fieldName]=(n={},n[d]=u.encodeInternalDataType(e.operands[0]),n),t;case r.QUERY_COMMANDS_LITERAL.IN:case r.QUERY_COMMANDS_LITERAL.NIN:return o={},o[e.fieldName]=(a={},a[d]=u.encodeInternalDataType(e.operands),a),o;default:return l={},l[e.fieldName]=(f={},f[d]=u.encodeInternalDataType(e.operands[0]),f),l}},e.prototype.encodeQueryObject=function(e){var t=u.flattenQueryObject(e);for(var n in t){var i=t[n];if(o.isLogicCommand(i)){t[n]=i._setFieldName(n);var a=this.encodeLogicCommand(t[n]);this.mergeConditionAfterEncode(t,a,n)}else if(r.isComparisonCommand(i)){t[n]=i._setFieldName(n);var a=this.encodeComparisonCommand(t[n]);this.mergeConditionAfterEncode(t,a,n)}else u.isConversionRequired(i)&&(t[n]=u.encodeInternalDataType(i))}return t},e.prototype.mergeConditionAfterEncode=function(e,t,n){t[n]||delete e[n];for(var r in t)e[r]?a.isArray(e[r])?e[r].push(t[r]):a.isObject(e[r])?a.isObject(t[r])?Object.assign(e,t):(console.warn("unmergable condition, query is object but condition is "+a.getType(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+a.getType(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]},e}()},"./src/services/database/internal/grammar/default/serializer/update.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/services/database/api/database/commands/update.ts"),o=n("./src/services/database/api/database/helper/symbol.ts"),i=n("./src/utils/type.ts"),a=n("./src/utils/error.ts"),s=n("./src/services/database/internal/grammar/default/operator-map.ts"),c=n("./src/services/database/internal/grammar/default/serializer/common.ts"),u=function(){function e(){}return e.encode=function(t){return(new e).encodeUpdate(t)},e.prototype.encodeUpdate=function(e){return r.isUpdateCommand(e)?this.encodeUpdateCommand(e):"object"===i.getType(e)?this.encodeUpdateObject(e):e},e.prototype.encodeUpdateCommand=function(e){if(e.fieldName===o.SYMBOL_UNSET_FIELD_NAME)throw new a.CloudSDKError({errMsg:"Cannot encode a comparison command with unset field name"});switch(e.operator){case r.UPDATE_COMMANDS_LITERAL.SET:case r.UPDATE_COMMANDS_LITERAL.REMOVE:case r.UPDATE_COMMANDS_LITERAL.INC:case r.UPDATE_COMMANDS_LITERAL.MUL:return this.encodeFieldUpdateCommand(e);case r.UPDATE_COMMANDS_LITERAL.PUSH:case r.UPDATE_COMMANDS_LITERAL.POP:case r.UPDATE_COMMANDS_LITERAL.SHIFT:case r.UPDATE_COMMANDS_LITERAL.UNSHIFT:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},e.prototype.encodeFieldUpdateCommand=function(e){var t,n,o,i,a=s.operatorToString(e.operator);switch(e.operator){case r.UPDATE_COMMANDS_LITERAL.REMOVE:return t={},t[a]=(n={},n[e.fieldName]="",n),t;case r.UPDATE_COMMANDS_LITERAL.SET:case r.UPDATE_COMMANDS_LITERAL.INC:case r.UPDATE_COMMANDS_LITERAL.MUL:default:return o={},o[a]=(i={},i[e.fieldName]=e.operands[0],i),o}},e.prototype.encodeArrayUpdateCommand=function(e){var t,n,o,i,a,u,l,f,d,p,h=s.operatorToString(e.operator);switch(e.operator){case r.UPDATE_COMMANDS_LITERAL.PUSH:var v={$each:e.operands.map(c.encodeInternalDataType)};return t={},t[h]=(n={},n[e.fieldName]=v,n),t;case r.UPDATE_COMMANDS_LITERAL.UNSHIFT:var v={$each:e.operands.map(c.encodeInternalDataType),$position:0};return o={},o[h]=(i={},i[e.fieldName]=v,i),o;case r.UPDATE_COMMANDS_LITERAL.POP:return a={},a[h]=(u={},u[e.fieldName]=1,u),a;case r.UPDATE_COMMANDS_LITERAL.SHIFT:return l={},l[h]=(f={},f[e.fieldName]=-1,f),l;default:return d={},d[h]=(p={},p[e.fieldName]=c.encodeInternalDataType(e.operands),p),d}},e.prototype.encodeUpdateObject=function(e){var t=c.flattenQueryObject(e);for(var n in t)if(!/^\$/.test(n)){var o=t[n];if(r.isUpdateCommand(o)){t[n]=o._setFieldName(n);var i=this.encodeUpdateCommand(t[n]);c.mergeConditionAfterEncode(t,i,n)}else{t[n]=o=c.encodeInternalDataType(o);var a=new r.UpdateCommand(r.UPDATE_COMMANDS_LITERAL.SET,[o],n),i=this.encodeUpdateCommand(a);c.mergeConditionAfterEncode(t,i,n)}}return t},e}();t.UpdateSerializer=u},"./src/services/database/internal/grammar/engine.ts":function(e,t,n){function r(e){return void 0===e&&(e=o.DEFAULT),i}Object.defineProperty(t,"__esModule",{value:!0});var o,i=n("./src/services/database/internal/grammar/default/index.ts");!function(e){e[e.DEFAULT=0]="DEFAULT"}(o=t.ENGINES||(t.ENGINES={})),t.getEngine=r},"./src/services/functions/api/api.ts":function(e,t,n){function r(){return{callFunction:o.default}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./src/services/functions/api/callFunction.ts");t.getAPIs=r},"./src/services/functions/api/callFunction.ts":function(e,t,n){function r(e){return f.assertType(e,"object"),e=y.shallowClone(e),e.data||(e.data={}),v.hasAPICallback(e)?i(e):a(e)}function o(e){f.assertType(e,{name:"string"}),e.data&&f.assertType(e.data,"object"),e.config&&e.config.env&&f.assertType(e.config.env,"string")}function i(e){p.wrapParamCallbacksWithTryCatch({apiName:t.API_NAME,param:e}),a(e).then(function(n){v.invokeSuccessCompleteCallbacks(t.API_NAME,e,n)}).catch(function(n){v.invokeFailCompleteCallbacks(t.API_NAME,e,n)})}function a(e){return u.__awaiter(this,void 0,void 0,function(){var n,n,r;return u.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),o(e),[4,c(e)];case 1:return n=i.sent(),[2,n];case 2:return[4,s(e)];case 3:return n=i.sent(),[2,n];case 4:return[3,6];case 5:throw r=i.sent(),d.returnAsFinalCloudSDKError(r,t.API_NAME);case 6:return[2]}})})}function s(e){return u.__awaiter(this,void 0,void 0,function(){var n,r,o,i,a;return u.__generator(this,function(s){switch(s.label){case 0:return n={function_name:e.name,data:h.serialize(e.data)},r=h.serialize(n),[4,l.tunnel(l.constructTunnelReq("tcbapi_callfunction",r,u.__assign({},e.config,{serviceName:b.FUNCTIONS_SERVICE_NAME})))];case 1:if(o=s.sent(),i=o.data,a=i&&i.data)try{a=JSON.parse(a)}catch(e){}return[2,{errMsg:g.apiSuccessMsg(t.API_NAME),result:a}]}})})}function c(e){return u.__awaiter(this,void 0,void 0,function(){function n(e){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(t){return[2,new Promise(function(t,n){r(e,_.default.appConfig.call_function_poll_max_retry||50,t,n)})]})})}function r(e,n,o,i){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(a){return w._requestSkipCheckDomain({url:e,success:function(a){try{if(200!==a.statusCode)return i(d.returnAsFinalCloudSDKError({errCode:m.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR,errMsg:"polling status code "+a.statusCode},t.API_NAME));var s=a.data;if(!s)return i(d.returnAsFinalCloudSDKError({errCode:m.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON,errMsg:m.ERR_CODE[m.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON]},t.API_NAME));if(s.base_resp&&0===s.base_resp.ret){if(0!==s.status){if(1===s.status){if(0!==s.service_errcode)return i(d.returnAsFinalCloudSDKError({errCode:m.ERR_CODE.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:"cloud function service error code "+(s.service_errcode||"unknown")+", error message "+(s.service_errmsg||"unknown")},t.API_NAME));var c=s.content;try{c=h.deserialize(c)}catch(e){try{c=JSON.parse(c)}catch(e){}}return o(c)}return i(d.returnAsFinalCloudSDKError({errCode:m.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:"timeout for result fetching"},t.API_NAME))}if(!(n>=0))return i(d.returnAsFinalCloudSDKError({errCode:m.ERR_CODE.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY,errMsg:m.ERR_CODE[m.ERR_CODE.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY]},t.API_NAME));r(e,n-1,o,i)}else{if(!s.base_resp)return i(d.returnAsFinalCloudSDKError({errCode:m.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP,errMsg:m.ERR_CODE[m.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP]},t.API_NAME));if(0!==s.base_resp.ret)return i(d.returnAsFinalCloudSDKError({errCode:m.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:"polling base_resp.ret "+s.base_resp.ret},t.API_NAME))}}catch(e){i(d.returnAsFinalCloudSDKError({errCode:m.ERR_CODE.SDK_FUNCTIONS_POLL_ERROR,errMsg:"polling catch error: "+e},t.API_NAME))}},fail:function(e){i(d.returnAsFinalCloudSDKError(e,t.API_NAME))}}),[2]})})}var o,i,a,s,c,p;return u.__generator(this,function(r){switch(r.label){case 0:return o=h.serialize(e.data),f.assertStringLength({input:o,max:_.default.appConfig.call_function_max_req_data_size,name:"callFunction data",maxWording:_.default.appConfig.call_function_max_req_data_size/1024+" KB"}),i={function_name:e.name,data:o},a=h.serialize(i),[4,l.tunnel(l.constructTunnelReq("tcbapi_slowcallfunction",a,u.__assign({},e.config,{serviceName:b.FUNCTIONS_SERVICE_NAME})))];case 1:if(s=r.sent(),!(c=s.data))throw d.returnAsFinalCloudSDKError({errCode:m.ERR_CODE.SDK_FUNCTIONS_EMPTY_CALL_RESULT,errMsg:m.ERR_CODE[m.ERR_CODE.SDK_FUNCTIONS_EMPTY_CALL_RESULT]},t.API_NAME);if(c.event_id,!c.poll_url)throw d.returnAsFinalCloudSDKError({errCode:m.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_URL,errMsg:m.ERR_CODE[m.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_URL]},t.API_NAME);return c.poll_url+="&devtools_ignore=true",[4,n(c.poll_url)];case 2:return p=r.sent(),[2,{errMsg:g.apiSuccessMsg(t.API_NAME),result:p}]}})})}Object.defineProperty(t,"__esModule",{value:!0});var u=n("./node_modules/tslib/tslib.es6.js"),l=n("./src/network/tunnel.ts"),f=n("./src/utils/assert.ts"),d=n("./src/utils/error.ts"),p=n("./src/utils/fail-safe.ts"),h=n("./src/utils/serializer.ts"),v=n("./src/hook/invoke.ts"),g=n("./src/utils/msg.ts"),y=n("./src/utils/fn/clone.ts"),m=n("./src/config/error.config.ts"),b=n("./src/services/functions/index.ts"),_=n("./src/cloud/index.ts"),w=n("./src/externals/public-lib/appserviceSdk.ts");t.API_NAME="cloud.callFunction",t.default=r},"./src/services/functions/index.ts":function(e,t,n){function r(){return{name:t.FUNCTIONS_SERVICE_NAME,getAPIs:a.getAPIs}}function o(e){e.registerService(r())}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/cloud/index.ts"),a=n("./src/services/functions/api/api.ts");t.FUNCTIONS_SERVICE_NAME="functions",t.registerService=o,o(i.default)},"./src/services/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./src/services/functions/index.ts"),n("./src/services/storage/index.ts"),n("./src/services/database/index.ts")},"./src/services/storage/api/api.ts":function(e,t,n){function r(){return{uploadFile:o.default,downloadFile:i.default,getTempFileURL:a.default,deleteFile:s.default}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./src/services/storage/api/uploadFile.ts"),i=n("./src/services/storage/api/downloadFile.ts"),a=n("./src/services/storage/api/getTempFileURL.ts"),s=n("./src/services/storage/api/deleteFile.ts");t.getAPIs=r},"./src/services/storage/api/deleteFile.ts":function(e,t,n){function r(e){return e=v.shallowClone(e),p.hasAPICallback(e)?i(e):a(e)}function o(e){l.assertType(e,{fileList:"array"}),e.config&&e.config.env&&l.assertType(e.config.env,"string");for(var t in e.fileList)l.assertType(e.fileList[t],"string","parameter.fileList["+t+"]");if(m.default.appConfig.get_temp_file_url_max_requests&&e.fileList.length>m.default.appConfig.get_temp_file_url_max_requests)throw new f.CloudSDKError({errCode:g.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter.fileList exceed max length "+m.default.appConfig.get_temp_file_url_max_requests})}function i(e){a(e).then(function(t){p.invokeSuccessCompleteCallbacks(b,e,t)}).catch(function(t){p.invokeFailCompleteCallbacks(b,e,t)})}function a(e){return c.__awaiter(this,void 0,void 0,function(){var t,n;return c.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),o(e),e.fileList.length?[4,s(e)]:[2,{errMsg:h.apiSuccessMsg(b),fileList:[]}];case 1:return t=r.sent(),[2,t];case 2:throw n=r.sent(),f.returnAsFinalCloudSDKError(n,b);case 3:return[2]}})})}function s(e){return c.__awaiter(this,void 0,void 0,function(){var t,n,r,o;return c.__generator(this,function(i){switch(i.label){case 0:return t={fileid_list:e.fileList},n=d.serialize(t),[4,u.tunnel(u.constructTunnelReq("tcbapi_deletefile",n,c.__assign({},e.config,{serviceName:y.STORAGE_SERVICE_NAME})))];case 1:return r=i.sent(),o=r.data,[2,{errMsg:h.apiSuccessMsg(b),fileList:o.delete_list.map(function(e){return{fileID:e.fileid,status:e.status,errMsg:e.errmsg}})}]}})})}Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/tslib/tslib.es6.js"),u=n("./src/network/tunnel.ts"),l=n("./src/utils/assert.ts"),f=n("./src/utils/error.ts"),d=n("./src/utils/serializer.ts"),p=n("./src/hook/invoke.ts"),h=n("./src/utils/msg.ts"),v=n("./src/utils/fn/clone.ts"),g=n("./src/config/error.config.ts"),y=n("./src/services/storage/index.ts"),m=n("./src/cloud/index.ts"),b="cloud.deleteFile";t.default=r},"./src/services/storage/api/downloadFile.ts":function(e,t,n){function r(e){return e=h.shallowClone(e),g.hasAPICallback(e)?o(e):i(e)}function o(e){var t={aborted:!1},n=a(t);return i(l.__assign({},e,{context:t,downloadTaskAgent:n})).then(function(t){g.invokeSuccessCompleteCallbacks(m,e,t)}).catch(function(t){g.invokeFailCompleteCallbacks(m,e,t)}),n}function i(e){return l.__awaiter(this,void 0,void 0,function(){var t=this;return l.__generator(this,function(n){return[2,new Promise(function(n,r){return l.__awaiter(t,void 0,void 0,function(){var t,o;return l.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),s(e),e.context&&(e.context.abort=function(){r(v.returnAsFinalCloudSDKError({errMsg:"abort"},m))},e.context.aborted)?[2,r(v.returnAsFinalCloudSDKError({errMsg:"abort"},m))]:[4,c(e)];case 1:return t=i.sent(),n(t),[3,3];case 2:return o=i.sent(),r(v.returnAsFinalCloudSDKError(o,m)),[3,3];case 3:return[2]}})})})]})})}function a(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}function s(e){d.assertType(e,{fileID:"string"}),e.config&&e.config.env&&d.assertType(e.config.env,"string")}function c(e){return l.__awaiter(this,void 0,void 0,function(){var t;return l.__generator(this,function(n){switch(n.label){case 0:return[4,u(e)];case 1:return t=n.sent(),[2,new Promise(function(n,r){if(e.context&&e.context.aborted)return r(v.returnAsFinalCloudSDKError({errMsg:"abort"},m));var o=__appServiceSDK__._downloadFileSkipCheckDomain({url:t,success:function(e){n(e)},fail:function(e){r(e)}});o.onProgressUpdate(function(){
e.downloadTaskAgent&&e.context&&e.context.onProgressUpdateUserHandler&&p.isFunction(e.context.onProgressUpdateUserHandler)&&e.context.onProgressUpdateUserHandler.apply(__appServiceSDK__._downloadFileSkipCheckDomain,arguments)}),e.context&&(e.context.abort=o.abort.bind(o))})]}})})}function u(e){return l.__awaiter(this,void 0,void 0,function(){var t,n,r;return l.__generator(this,function(o){switch(o.label){case 0:return t=JSON.stringify({fileid:e.fileID}),[4,f.tunnel(f.constructTunnelReq("tcbapi_downloadfile",t,l.__assign({},e.config,{serviceName:y.STORAGE_SERVICE_NAME})))];case 1:return n=o.sent(),r=n.data,[2,r.download_url]}})})}Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/tslib/tslib.es6.js"),f=n("./src/network/tunnel.ts"),d=n("./src/utils/assert.ts"),p=n("./src/utils/type.ts"),h=n("./src/utils/fn/clone.ts"),v=n("./src/utils/error.ts"),g=n("./src/hook/invoke.ts"),y=n("./src/services/storage/index.ts"),m="cloud.downloadFile";t.default=r},"./src/services/storage/api/getTempFileURL.ts":function(e,t,n){function r(e){return e=v.shallowClone(e),p.hasAPICallback(e)?i(e):a(e)}function o(e){if(l.assertType(e,{fileList:"array"}),e.config&&e.config.env&&l.assertType(e.config.env,"string"),b.default.appConfig.get_temp_file_url_max_requests&&e.fileList.length>b.default.appConfig.get_temp_file_url_max_requests)throw new f.CloudSDKError({errCode:y.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter.fileList exceed max length "+b.default.appConfig.get_temp_file_url_max_requests})}function i(e){a(e).then(function(t){p.invokeSuccessCompleteCallbacks(_,e,t)}).catch(function(t){p.invokeFailCompleteCallbacks(_,e,t)})}function a(e){return c.__awaiter(this,void 0,void 0,function(){var t,n;return c.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),o(e),e.fileList.length?[4,s(e)]:[2,{errMsg:h.apiSuccessMsg(_),fileList:[]}];case 1:return t=r.sent(),[2,t];case 2:throw n=r.sent(),f.returnAsFinalCloudSDKError(n,_);case 3:return[2]}})})}function s(e){return c.__awaiter(this,void 0,void 0,function(){var t,n,r,o;return c.__generator(this,function(i){switch(i.label){case 0:return t={file_list:e.fileList.map(function(e){return g.isString(e)?{fileid:e}:{fileid:e.fileID,max_age:e.maxAge}})},n=d.serialize(t),[4,u.tunnel(u.constructTunnelReq("tcbapi_gettempfileurl",n,c.__assign({},e.config,{serviceName:m.STORAGE_SERVICE_NAME})))];case 1:return r=i.sent(),o=r.data,[2,{errMsg:h.apiSuccessMsg(_),fileList:o.download_list.map(function(e){return{fileID:e.fileid,tempFileURL:e.download_url,maxAge:e.max_age,status:e.status,errMsg:e.errmsg}})}]}})})}Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/tslib/tslib.es6.js"),u=n("./src/network/tunnel.ts"),l=n("./src/utils/assert.ts"),f=n("./src/utils/error.ts"),d=n("./src/utils/serializer.ts"),p=n("./src/hook/invoke.ts"),h=n("./src/utils/msg.ts"),v=n("./src/utils/fn/clone.ts"),g=n("./src/utils/type.ts"),y=n("./src/config/error.config.ts"),m=n("./src/services/storage/index.ts"),b=n("./src/cloud/index.ts"),_="cloud.getTempFileURL";t.default=r},"./src/services/storage/api/uploadFile.ts":function(e,t,n){function r(e){return e=g.shallowClone(e),y.hasAPICallback(e)?o(e):a(e)}function o(e){var t={aborted:!1},n=i(t);return a(f.__assign({},e,{context:t,uploadTaskAgent:n})).then(function(t){y.invokeSuccessCompleteCallbacks(S,e,t)}).catch(function(t){y.invokeFailCompleteCallbacks(S,e,t)}),n}function i(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}function a(e){var t=this;return new Promise(function(n,r){return f.__awaiter(t,void 0,void 0,function(){var t,o;return f.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),c(e),u(e.filePath),e.context&&(e.context.abort=function(){r(h.returnAsFinalCloudSDKError({errMsg:"abort"},S))},e.context.aborted)?[2,r(h.returnAsFinalCloudSDKError({errMsg:"abort"},S))]:[4,s(e)];case 1:return t=i.sent(),n(t),[3,3];case 2:return o=i.sent(),r(h.returnAsFinalCloudSDKError(o,S)),[3,3];case 3:return[2]}})})})}function s(e){return f.__awaiter(this,void 0,void 0,function(){var t;return f.__generator(this,function(n){switch(n.label){case 0:return[4,l(e)];case 1:return t=n.sent(),[2,new Promise(function(n,r){if(e.context&&e.context.aborted)return r(h.returnAsFinalCloudSDKError({errMsg:"abort"},S));var o=__appServiceSDK__._uploadFileSkipCheckDomain({url:t,filePath:e.filePath,header:e.header,name:"file",success:function(e){try{var t=JSON.parse(e.data);if(t.data&&(t=t.data),t.fileid)n({errMsg:m.apiSuccessMsg(S),fileID:t.fileid,statusCode:e.statusCode});else{var o=new h.CloudSDKError({errMsg:"empty fileid; "+t.message+";"});r(o)}}catch(o){var i=new h.CloudSDKError({errMsg:"Error parsing response data "+e.data+";"});r(i)}},fail:function(e){r(e)}});o.onProgressUpdate(function(){e.uploadTaskAgent&&e.context&&e.context.onProgressUpdateUserHandler&&v.isFunction(e.context.onProgressUpdateUserHandler)&&e.context.onProgressUpdateUserHandler.apply(__appServiceSDK__._uploadFileSkipCheckDomain,arguments)}),e.context&&(e.context.abort=o.abort.bind(o))})]}})})}function c(e){p.assertType(e,{cloudPath:"string",filePath:"string"}),e.config&&e.config.env&&p.assertType(e.config.env,"string")}function u(e){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(t){return[2,new Promise(function(t,n){wx.getFileInfo({filePath:e,success:function(e){e.size>w.default.appConfig.upload_max_file_size?n(new h.CloudSDKError({errCode:_.ERR_CODE.SDK_STORAGE_EXCEED_MAX_UPLOAD_SIZE,errMsg:"exceed max upload file size: "+w.default.appConfig.upload_max_file_size/1024/1024+" MB"})):t()},fail:function(){t()}})})]})})}function l(e){return f.__awaiter(this,void 0,void 0,function(){var t,n,r;return f.__generator(this,function(o){switch(o.label){case 0:return t=JSON.stringify({path:e.cloudPath}),[4,d.tunnel(d.constructTunnelReq("tcbapi_uploadfile",t,f.__assign({},e.config,{serviceName:b.STORAGE_SERVICE_NAME})))];case 1:return n=o.sent(),r=n.data,[2,r.upload_url]}})})}Object.defineProperty(t,"__esModule",{value:!0});var f=n("./node_modules/tslib/tslib.es6.js"),d=n("./src/network/tunnel.ts"),p=n("./src/utils/assert.ts"),h=n("./src/utils/error.ts"),v=n("./src/utils/type.ts"),g=n("./src/utils/fn/clone.ts"),y=n("./src/hook/invoke.ts"),m=n("./src/utils/msg.ts"),b=n("./src/services/storage/index.ts"),_=n("./src/config/error.config.ts"),w=n("./src/cloud/index.ts"),S="cloud.uploadFile";t.default=r},"./src/services/storage/index.ts":function(e,t,n){function r(){return{name:t.STORAGE_SERVICE_NAME,getAPIs:a.getAPIs}}function o(e){e.registerService(r())}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/cloud/index.ts"),a=n("./src/services/storage/api/api.ts");t.STORAGE_SERVICE_NAME="storage",t.registerService=o,o(i.default)},"./src/utils/assert.ts":function(e,t,n){function r(e,t,n){function r(e,t,n){var o=c.getType(e),i=c.getType(t);if("string"===i)return o!==t?n+" should be "+t+" instead of "+o+";":"";if(o!==i)return n+" should be "+i+" instead of "+o+"; ";var a="";switch(o){case"object":for(var s in t)a+=r(e[s],t[s],n+"."+s);break;case"array":for(var u=0;u<t.length;u++)a+=r(e[u],t[u],n+"["+u+"]")}return a}void 0===n&&(n="parameter");var o=r(e,t,n);return{passed:!o,reason:o}}function o(e,t,n,o){void 0===n&&(n="parameter"),void 0===o&&(o=u.CloudSDKError);var i=r(e,t,n);if(!i.passed)throw new o({errCode:l.ERR_CODE.SDK_API_PARAMETER_TYPE_ERROR,errMsg:i.reason})}function i(e,t,n,r){if(void 0===r&&(r=u.CloudSDKError),!e)throw new r({errCode:l.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter "+t+" of function "+n+" must be provided"})}function a(e){var t=e.name,n=e.input,r=e.max,o=e.maxWording,i=void 0===o?"":o,a=e.ErrorClass,s=void 0===a?u.CloudSDKError:a;if(n.length>r)throw new s({errCode:l.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:t+" size must be less than "+(i||r)})}function s(e){var t=e.target,n=e.name,r=e.ErrorClass,o=void 0===r?u.CloudSDKError:r;if(0===Object.keys(t).length)throw new o({errCode:l.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:n+" must not be empty"})}Object.defineProperty(t,"__esModule",{value:!0});var c=n("./src/utils/type.ts"),u=n("./src/utils/error.ts"),l=n("./src/config/error.config.ts");t.validType=r,t.assertType=o,t.assertRequiredParam=i,t.assertStringLength=a,t.assertObjectNotEmpty=s},"./src/utils/error.ts":function(e,t,n){function r(e){return e&&e instanceof Error&&s.isString(e.errMsg)}function o(e,t){if(void 0===t&&(t=""),e){if(r(e))return t&&(e.errMsg+="; "+t),e;var n=e?e.errCode:void 0,o=(e&&e.errMsg||e.toString()||"unknown error")+"; "+t;return new l({errCode:n,errMsg:o})}return new l({errMsg:t})}function i(e,t){if(e&&r(e))return e;var n=o(e,"at "+t+" api; ");return n.errMsg=c.apiFailMsg(t,n.errMsg),n}Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/tslib/tslib.es6.js"),s=n("./src/utils/type.ts"),c=n("./src/utils/msg.ts"),u=n("./src/config/error.config.ts"),l=function(e){function t(t){var n=e.call(this,t.errMsg)||this;return n.errCode=-1,Object.defineProperties(n,{message:{get:function(){return"errCode: "+this.errCode+" "+(u.ERR_CODE[this.errCode]||"")+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e}}}),n.errCode=t.errCode||-1,n.errMsg=t.errMsg,n}return a.__extends(t,e),Object.defineProperty(t.prototype,"message",{get:function(){return"errCode: "+this.errCode+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e},enumerable:!0,configurable:!0}),t}(Error);t.CloudSDKError=l,t.isSDKError=r,t.returnAsCloudSDKError=o,t.returnAsFinalCloudSDKError=i},"./src/utils/fail-safe.ts":function(e,t,n){function r(e,t){void 0===t&&(t="");try{return e()}catch(e){if(a.isSDKError(e))return e.errMsg+=t,e;var n=(e?e.toString():"")+t;return new a.CloudSDKError({errMsg:n})}}function o(e,t){return void 0===t&&(t=""),function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return r(function(){return e.apply(e,n)},t)}}function i(e){var t=e.param;t&&(t.success&&s.isFunction(t.success)&&(t.success=c.default.surroundThirdByTryCatch(t.success,"at api "+e.apiName+" success callback function")),t.fail&&s.isFunction(t.fail)&&(t.fail=c.default.surroundThirdByTryCatch(t.fail,"at api "+e.apiName+" fail callback function")),t.complete&&s.isFunction(t.complete)&&(t.complete=c.default.surroundThirdByTryCatch(t.complete,"at api "+e.apiName+" complete callback function")))}Object.defineProperty(t,"__esModule",{value:!0});var a=n("./src/utils/error.ts"),s=n("./src/utils/type.ts"),c=n("./src/externals/public-lib/reporter.ts");t.tryCatch=r,t.wrapWithTryCatch=o,t.wrapParamCallbacksWithTryCatch=i},"./src/utils/fn/clone.ts":function(e,t,n){function r(e,t){if(void 0===t&&(t=!1),t)return o(e);if(a.isPlainObject(e))return i.__assign({},e);switch(a.getType(e)){case"object":return e;case"array":return e.slice();default:return e}}function o(e){switch(a.getType(e)){case"object":return i.__assign({},e);case"array":return e.slice();case"number":return e instanceof Number?new Number(e):e;case"string":return e instanceof String?new String(e):e;case"boolean":return e instanceof Boolean?new Boolean(e):e;case"date":return new e.constructor(+e);case"map":return new Map(e);case"set":return new Set(e);default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/tslib/tslib.es6.js"),a=n("./src/utils/type.ts");t.shallowClone=r},"./src/utils/msg.ts":function(e,t){function n(e){return e+":ok"}function r(e,t){return e+":cancel "+t}function o(e,t){return e+":fail "+t}Object.defineProperty(t,"__esModule",{value:!0}),t.apiSuccessMsg=n,t.apiCancelMsg=r,t.apiFailMsg=o},"./src/utils/serializer.ts":function(e,t,n){function r(e){var t=o(e);return JSON.stringify(t)}function o(e,t){if(void 0===t&&(t="data"),null!==e&&void 0!==e){if(!0===e||!1===e)return e;switch(p.getType(e)){case"number":if(isFinite(e))return e;break;case"string":return e;case"array":return e.map(function(e,n){return o(e,t+"["+n+"]")});case"object":var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=o(e[r],t+"."+r));return n;case"arraybuffer":var i=new Uint8Array(e);return{type:"Buffer",data:l.__spread(i)}}if("function"==typeof e)return e;u(t)}}function i(e){return a(JSON.parse(e))}function a(e){switch(p.getType(e)){case"object":return s(e);case"array":return e.map(a);default:return e}}function s(e){var t=e,n=c(t);if(t!==n)return n;for(var r in t){var o=t[r];switch(p.getType(o)){case"object":var i=c(o);t[r]=i!==o?i:s(t[r]);break;case"array":var i=a(o);i!==o&&(t[r]=i);break;default:continue}}return t}function c(e){for(var t in e)switch(t){case"type":switch(e.type){case"Buffer":if(p.isArray(e.data)&&p.isNumber(e.data[0]))try{return new Uint8Array(e.data).buffer}catch(t){return e}}}return e}function u(e){throw new f.CloudSDKError({errCode:d.ERR_CODE.SDK_API_PARAMETER_TYPE_ERROR,errMsg:e+" is not JSON-serializable"})}Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/tslib/tslib.es6.js"),f=n("./src/utils/error.ts"),d=n("./src/config/error.config.ts"),p=n("./src/utils/type.ts");t.serialize=r,t.toJSONSerializable=o,t.deserialize=i},"./src/utils/symbol.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/tslib/tslib.es6.js"),o=[],i={},a=function(){function e(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})}return e}(),s=function(e){function t(t,n){if(n!==i)throw new TypeError("InternalSymbol cannot be constructed with new operator");return e.call(this,t)||this}return r.__extends(t,e),t.for=function(e){for(var n=0,r=o.length;n<r;n++)if(o[n].target===e)return o[n].instance;var a=new t(e,i);return o.push({target:e,instance:a}),a},t}(a);t.InternalSymbol=s,t.default=s},"./src/utils/type.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/utils/symbol.ts");t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},t.isObject=function(e){return"object"===t.getType(e)},t.isString=function(e){return"string"===t.getType(e)},t.isNumber=function(e){return"number"===t.getType(e)},t.isPromise=function(e){return"promise"===t.getType(e)},t.isFunction=function(e){return"function"==typeof e},t.isArray=function(e){return Array.isArray(e)},t.isDate=function(e){return"date"===t.getType(e)},t.isInternalObject=function(e){return e&&e._internalType instanceof r.InternalSymbol},t.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}}});wx.version={updateTime:"2018.8.29 20:04:24",info:"",version:"2.2.5"},console.info("Wechat Lib:"+wx.version.version+", "+wx.version.updateTime);;global.wx=wx;__subContextEngine__.initGameRelatedContexts();})(this);var __WAGameEndTime__ = Date.now();